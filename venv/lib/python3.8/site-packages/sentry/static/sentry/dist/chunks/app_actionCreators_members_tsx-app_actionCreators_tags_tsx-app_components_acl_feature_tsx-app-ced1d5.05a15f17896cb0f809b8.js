"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_members_tsx-app_actionCreators_tags_tsx-app_components_acl_feature_tsx-app-ced1d5"],{"./app/actionCreators/members.tsx":(e,t,s)=>{s.d(t,{M4:()=>l,MA:()=>i,R_:()=>u,hS:()=>c}),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/@sentry/hub/esm/exports.js"),o=s("./app/actions/memberActions.tsx"),n=s("./app/stores/memberListStore.tsx");function a(e){return{...e.user,role:e.role}}async function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=`/organizations/${t}/users/`,i=s?{project:s}:{};try{const l=await e.requestPromise(o,{method:"GET",query:i});l||r.$e((e=>{e.setExtras({orgId:t,projectIds:s}),r.Tb(new Error("Members is undefined"))}));const c=null==l?void 0:l.filter((e=>{let{user:t}=e;return t}));return c?(n.Z.loadInitialData(c.map(a)),l):[]}catch(e){r.rJ({resp:e}),r.Tb(e)}return[]}function l(e){return e.reduce(((e,t)=>{for(const s of t.projects)e.hasOwnProperty(s)||(e[s]=[]),e[s].push(t.user);return e}),{})}async function c(e,t){let{orgId:s,memberId:r,data:n}=t;o.Z.update(r,n);const a=`/organizations/${s}/members/${r}/`;try{const t=await e.requestPromise(a,{method:"PUT",data:n});return o.Z.updateSuccess(t),t}catch(e){throw o.Z.updateError(e),e}}async function u(e,t){let{orgId:s,memberId:r,regenerate:n,data:a}=t;o.Z.resendMemberInvite(s,a);const i=`/organizations/${s}/members/${r}/`;try{const t=await e.requestPromise(i,{method:"PUT",data:{regenerate:n,reinvite:!0}});return o.Z.resendMemberInviteSuccess(t),t}catch(e){throw o.Z.resendMemberInviteError(e),e}}},"./app/actionCreators/savedSearches.tsx":(e,t,s)=>{s.d(t,{C2:()=>u,VH:()=>p,YO:()=>m,bG:()=>c,cB:()=>h,g_:()=>v,k0:()=>f,k9:()=>y});var r=s("./app/actionCreators/indicator.tsx"),o=s("./app/actions/savedSearchesActions.tsx"),n=s("./app/constants/index.tsx"),a=s("./app/locale.tsx"),i=s("./app/types/index.tsx"),l=s("./app/utils/handleXhrErrorResponse.tsx");function c(){o.Z.resetSavedSearches()}function u(e,t){const s=`/organizations/${t}/searches/`;o.Z.startFetchSavedSearches();const n=e.requestPromise(s,{method:"GET"});return n.then((e=>{o.Z.fetchSavedSearchesSuccess(e)})).catch((e=>{o.Z.fetchSavedSearchesError(e),(0,r.Iw)((0,a.t)("Unable to load saved searches"))})),n}const d=e=>`/organizations/${e}/recent-searches/`;function p(e,t,s,r){const o=d(t),n=e.requestPromise(o,{method:"POST",data:{query:r,type:s}});return n.catch((0,l.Z)("Unable to save a recent search")),n}function h(e,t,s,r,n){const a=e.requestPromise(`/organizations/${t}/searches/`,{method:"POST",data:{type:i.L4.ISSUE,query:r,name:s,sort:n}});return a.then((e=>{o.Z.createSavedSearchSuccess(e)})),a}function m(e,t,s,r){const o=d(t),a=e.requestPromise(o,{query:{query:r,type:s,limit:n.x}});return a.catch((e=>{401!==e.status&&403!==e.status&&(0,l.Z)("Unable to fetch recent searches")(e)})),a}const g=e=>`/organizations/${e}/pinned-searches/`;function f(e,t,s,r,n){const a=g(t);o.Z.pinSearch(s,r,n);const i=e.requestPromise(a,{method:"PUT",data:{query:r,type:s,sort:n}});return i.then(o.Z.pinSearchSuccess),i.catch((0,l.Z)("Unable to pin search")),i.catch((()=>{o.Z.unpinSearch(s)})),i}function v(e,t,s,r){const n=g(t);o.Z.unpinSearch(s);const a=e.requestPromise(n,{method:"DELETE",data:{type:s}});return a.catch((0,l.Z)("Unable to un-pin search")),a.catch((()=>{const{type:e,query:t}=r;o.Z.pinSearch(e,t)})),a}function y(e,t,s){const r=`/organizations/${t}/searches/${s.id}/`;return e.requestPromise(r,{method:"DELETE"}).then((()=>o.Z.deleteSavedSearchSuccess(s))).catch((0,l.Z)("Unable to delete a saved search"))}},"./app/actionCreators/tags.tsx":(e,t,s)=>{s.d(t,{Fo:()=>u,QK:()=>l,q3:()=>c});var r=s("./app/components/organizations/pageFilters/parse.tsx"),o=s("./app/locale.tsx"),n=s("./app/stores/alertStore.tsx"),a=s("./app/stores/tagStore.tsx");function i(e){const t=(e=e||[]).slice(0,1e3);e.length>1e3&&n.Z.addAlert({message:(0,o.t)("You have too many unique tags and some have been truncated"),type:"warning"}),a.Z.loadTagsSuccess(t)}function l(e,t,s){a.Z.reset();const o=`/organizations/${t}/tags/`,n=s.datetime?{...(0,r.fK)(s.datetime)}:{};n.use_cache="1",s.projects&&(n.project=s.projects.map(String));const l=e.requestPromise(o,{method:"GET",query:n});return l.then(i),l}function c(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.Z.reset();const r=`/organizations/${t}/tags/`,o={use_cache:"1"};s&&(o.project=s);const n=e.requestPromise(r,{method:"GET",query:o});return n.then(i),n}function u(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=`/organizations/${t}/tags/${s}/values/`,c={};return r&&(c.query=r),o&&(c.project=o),n&&(n.start&&(c.start=n.start),n.end&&(c.end=n.end),n.statsPeriod&&(c.statsPeriod=n.statsPeriod)),a&&(c.includeTransactions="1"),i&&(c.includeSessions="1"),e.requestPromise(l,{method:"GET",query:c})}},"./app/actions/savedSearchesActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/reflux/src/index.js").createActions)(["resetSavedSearches","startFetchSavedSearches","fetchSavedSearchesSuccess","fetchSavedSearchesError","createSavedSearchSuccess","deleteSavedSearchSuccess","pinSearch","pinSearchSuccess","unpinSearch"])},"./app/components/acl/feature.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),n=s("./app/stores/hookStore.tsx"),a=s("./app/utils/isRenderFunc.tsx"),i=s("./app/utils/withConfig.tsx"),l=s("./app/utils/withOrganization.tsx"),c=s("./app/utils/withProject.tsx"),u=s("./app/components/alert.tsx"),d=s("./app/locale.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=()=>(0,p.tZ)(u.Z,{type:"info",showIcon:!0,children:(0,d.t)("This feature is coming soon!")});h.displayName="ComingSoon";const m=h;class g extends o.Component{getAllFeatures(){const{organization:e,project:t,config:s}=this.props;return{configFeatures:s.features?Array.from(s.features):[],organization:e&&e.features||[],project:t&&t.features||[]}}hasFeature(e,t){const s=e.match(/^projects:(.+)/),r=e.match(/^organizations:(.+)/),{configFeatures:o,organization:n,project:a}=t;return!!o.includes(e)||(s?a.includes(s[1]):r?n.includes(r[1]):n.includes(e)||a.includes(e))}render(){const{children:e,features:t,renderDisabled:s,hookName:r,organization:o,project:i,requireAll:l}=this.props,c=this.getAllFeatures(),u=!t||t[l?"every":"some"]((e=>this.hasFeature(e,c)));let d=!1!==s&&("function"==typeof s?s:()=>(0,p.tZ)(m,{}));if(r){const e=n.Z.get(r);e.length>0&&(d=e[0])}const h={organization:o,project:i,features:t,hasFeature:u};return u||!1===d?(0,a.l)(e)?e({renderDisabled:s,...h}):u&&e?e:null:d({children:e,...h})}}g.displayName="Feature",(0,r.Z)(g,"defaultProps",{renderDisabled:!1,requireAll:!0});const f=(0,l.Z)((0,c.Z)((0,i.Z)(g)))},"./app/components/checkbox.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=e=>(0,r.tZ)("input",{type:"checkbox",...e});o.displayName="Checkbox",o.defaultProps={checked:!1};const n=o},"./app/components/dropdownLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var r=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=s("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),n=s("../node_modules/classnames/index.js"),a=s.n(n),i=s("./app/components/dropdownMenu.tsx"),l=s("./app/icons/index.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=e=>(0,r.iv)(".dropdown-menu{&>li>a{color:",e.textColor,";&:hover,&:focus{color:inherit;background-color:",e.hover,";}}& .disabled{cursor:not-allowed;&:hover{background:inherit;color:inherit;}}}.dropdown-submenu:hover>span{color:",e.textColor,";background:",e.hover,";}","");function d(e){let{anchorMiddle:t,title:s,customTitle:r,children:n,menuClasses:d,className:p,topLevelClasses:h,anchorRight:m=!1,disabled:g=!1,caret:f=!0,alwaysRenderMenu:v=!0,...y}=e;const x=(0,o.a)();return(0,c.tZ)(i.Z,{alwaysRenderMenu:v,...y,children:e=>{let{isOpen:o,getRootProps:i,getActorProps:y,getMenuProps:b}=e;const S=v||o,Z=a()("dropdown-actor",p,{"dropdown-menu-right":m,"dropdown-toggle":!0,hover:o,disabled:g}),k=a()("dropdown",h,{"pull-right":m,"anchor-right":m,"anchor-middle":t,open:o}),{onClick:w,...T}=y({className:Z});return(0,c.BX)("span",{css:u(x),...i({className:k}),"data-test-id":"dropdown-link",children:[(0,c.tZ)("a",{onClick:g?void 0:w,...T,children:r||(0,c.BX)("div",{className:"dropdown-actor-title",children:[s,f&&(0,c.tZ)(l.g6,{direction:o?"up":"down",size:"xs"})]})}),S&&(0,c.tZ)("ul",{...b({className:a()(d,"dropdown-menu")}),children:n})]})}})}d.displayName="DropdownLink";const p=d},"./app/components/dropdownMenuControlV2.tsx":(e,t,s)=>{s.d(t,{Z:()=>z});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@react-aria/button/dist/module.js"),a=s("../node_modules/@react-aria/menu/dist/module.js"),i=s("../node_modules/@react-aria/utils/dist/module.js"),l=s("../node_modules/@react-stately/collections/dist/module.js"),c=s("../node_modules/@react-stately/menu/dist/module.js"),u=s("./app/components/dropdownButtonV2.tsx"),d=s("../node_modules/@react-aria/focus/dist/module.js"),p=s("../node_modules/@react-aria/interactions/dist/module.js"),h=s("../node_modules/@react-aria/overlays/dist/module.js"),m=s("../node_modules/@react-aria/separator/dist/module.js"),g=s("../node_modules/@react-stately/tree/dist/module.js"),f=s("./app/components/links/link.tsx"),v=s("./app/components/menuListItem.tsx"),y=s("./app/icons/index.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const b=e=>{var t;let{node:s,isLastNode:r,state:n,onClose:l,closeOnSelect:c,isSubmenuTrigger:u=!1,submenuTriggerRef:d,renderAs:h="li",...m}=e;const[g,b]=(0,o.useState)(!1),S=(0,o.useRef)(null),Z=n.disabledKeys.has(s.key),k=n.selectionManager.focusedKey===s.key,{key:w,onAction:T,to:A,label:_,showDividers:C,...I}=s.value,R=null!=d?d:S,{hoverProps:j}=(0,p.XI)({onHoverChange:b});(0,o.useEffect)((()=>{if(g&&k){if(u)return void n.selectionManager.select(s.key);n.selectionManager.clearSelection()}}),[g,k]);const{keyboardProps:q}=(0,p.v5)({onKeyDown:e=>{if("Enter"===e.key&&A){var t,r;const s=new MouseEvent("click",{ctrlKey:e.ctrlKey,metaKey:e.metaKey});return null===(t=R.current)||void 0===t||null===(r=t.querySelector(`${v.i}`))||void 0===r||r.dispatchEvent(s),void l()}"ArrowRight"===e.key&&u?n.selectionManager.select(s.key):e.continuePropagation()}}),{menuItemProps:P,labelProps:E,descriptionProps:z}=(0,a.iX)({key:s.key,onAction:()=>{A||(u?n.selectionManager.select(s.key):null==T||T(w))},closeOnSelect:!A&&c,onClose:l,isDisabled:Z},n,R),O=(0,i.dG)(m,P,j,q),F=null!==(t=s.rendered)&&void 0!==t?t:_,N=C&&!r,D={as:A?f.Z:"div",to:A};return(0,x.tZ)(v.Z,{ref:R,as:h,"data-test-id":w,label:F,isDisabled:Z,isFocused:k,showDivider:N,innerWrapProps:D,labelProps:E,detailsProps:z,...O,...I,...u&&{role:"menuitemradio",trailingItems:(0,x.BX)(o.Fragment,{children:[I.trailingItems,(0,x.tZ)(y.g6,{size:"xs",direction:"right","aria-hidden":"true"})]})}})};b.displayName="MenuItem";const S=b;var Z=s("./app/styles/space.tsx");function k(e){let{node:t,children:s}=e;const{itemProps:r,headingProps:o,groupProps:n}=(0,a.x7)({heading:t.rendered,"aria-label":t["aria-label"]});return(0,x.BX)(T,{...r,children:[t.rendered&&(0,x.tZ)(A,{...o,children:t.rendered}),(0,x.tZ)(_,{...n,children:s})]})}k.displayName="MenuSection";const w=k,T=(0,r.Z)("li",{target:"emi8ono2"})({name:"ffhm6p",styles:"list-style-type:none"}),A=(0,r.Z)("span",{target:"emi8ono1"})("display:inline-block;font-weight:600;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";text-transform:uppercase;white-space:nowrap;margin:",(0,Z.Z)(1)," ",(0,Z.Z)(1.5)," ",(0,Z.Z)(.5),";padding-right:",(0,Z.Z)(1),";",T,":first-of-type &{margin-top:",(0,Z.Z)(.5),";}"),_=(0,r.Z)("ul",{target:"emi8ono0"})({name:"1kz5jpr",styles:"list-style-type:none;padding:0;margin:0"});function C(e){var t,s;let{offset:r=8,crossOffset:n=0,containerPadding:l=0,placement:c="bottom left",closeOnSelect:u=!0,triggerRef:f,triggerWidth:v,isSubmenu:y,menuTitle:b,closeRootMenu:Z,closeCurrentSubmenu:k,isDismissable:T=!0,shouldCloseOnBlur:A=!0,..._}=e;const C=(0,g.D)({..._,selectionMode:"single"}),I=(0,o.useMemo)((()=>[...C.collection]),[C.collection]),E=(0,o.useRef)(null),{menuProps:O}=(0,a.H9)({..._,selectionMode:"single"},C,E),{separatorProps:F}=(0,m.z)({elementType:"li"}),{keyboardProps:N}=(0,p.v5)({onKeyDown:e=>{y&&"ArrowLeft"===e.key?null==k||k():e.continuePropagation()}}),D=(0,o.useRef)(null),{overlayProps:B}=(0,h.Ir)({onClose:Z,shouldCloseOnBlur:A,isDismissable:T,isOpen:!0,shouldCloseOnInteractOutside:e=>{var t;return e&&f.current!==e&&!(null!==(t=f.current)&&void 0!==t&&t.contains(e))}},D),{overlayProps:M,placement:L}=(0,h.tN)({targetRef:f,overlayRef:D,offset:r,crossOffset:n,placement:c,containerPadding:l,isOpen:!0,boundaryElement:null!==(t=document.querySelector(".app"))&&void 0!==t?t:void 0}),[U,$]=(0,o.useState)(!0);(0,o.useEffect)((()=>{const e=!I.some((e=>e.hasChildNodes&&!e.value.isSubmenu?[...e.childNodes].some((e=>C.selectionManager.isSelected(`${e.key}`))):C.selectionManager.isSelected(`${e.key}`)));$(e)}),[I,C.selectionManager]);const G={...O,...!U&&{onKeyUp:()=>null,onKeyDown:()=>null}},V=e=>e.map(((t,s)=>{var r;const n=e.length-1===s,a=!n&&("section"===t.type||"section"===(null===(r=e[s+1])||void 0===r?void 0:r.type));let i;return i="section"===t.type?(0,x.tZ)(w,{node:t,children:V([...t.childNodes])}):t.value.isSubmenu?((e,t)=>(0,x.tZ)(z,{items:e.value.children,trigger:s=>{let{props:r,ref:o}=s;return(0,x.tZ)(S,{renderAs:"div",node:e,isLastNode:t,state:C,isSubmenuTrigger:!0,submenuTriggerRef:o,...r})},menuTitle:e.value.submenuTitle,placement:"right top",offset:-4,crossOffset:-8,closeOnSelect:u,isOpen:C.selectionManager.isSelected(e.key),isSubmenu:!0,closeRootMenu:Z,closeCurrentSubmenu:()=>C.selectionManager.clearSelection(),renderWrapAs:"li"}))(t,n):((e,t)=>(0,x.tZ)(S,{node:e,isLastNode:t,state:C,onClose:Z,closeOnSelect:u}))(t,n),(0,x.BX)(o.Fragment,{children:[i,a&&(0,x.tZ)(P,{...F})]},t.key)}));return(0,x.tZ)(d.MT,{restoreFocus:!0,autoFocus:!0,children:(0,x.tZ)(R,{ref:D,placementProp:L,...(0,i.dG)(B,M,N),children:(0,x.BX)(j,{ref:E,...G,style:{maxHeight:null===(s=M.style)||void 0===s?void 0:s.maxHeight,minWidth:v},children:[b&&(0,x.tZ)(q,{children:b}),V(I)]})})})}C.displayName="Menu";const I=C,R=(0,r.Z)("div",{target:"e1747fp53"})("max-width:24rem;border-radius:",(e=>e.theme.borderRadius),";background:",(e=>e.theme.backgroundElevated),";box-shadow:0 0 0 1px ",(e=>e.theme.translucentBorder),",",(e=>e.theme.dropShadowHeavy),";font-size:",(e=>e.theme.fontSizeMedium),";margin:",(0,Z.Z)(1)," 0;",(e=>"top"===e.placementProp&&"margin-bottom: 0;")," ",(e=>"bottom"===e.placementProp&&"margin-top: 0;"),"z-index:",(e=>e.theme.zIndex.dropdown),"!important;"),j=(0,r.Z)("ul",{target:"e1747fp52"})("margin:0;padding:",(0,Z.Z)(.5)," 0;font-size:",(e=>e.theme.fontSizeMedium),";overflow-x:hidden;overflow-y:auto;&:focus{outline:none;}"),q=(0,r.Z)("div",{target:"e1747fp51"})("font-weight:600;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.headingColor),";white-space:nowrap;padding:",(0,Z.Z)(.25)," ",(0,Z.Z)(1.5)," ",(0,Z.Z)(.75),";margin-bottom:",(0,Z.Z)(.5),";border-bottom:solid 1px ",(e=>e.theme.innerBorder),";"),P=(0,r.Z)("li",{target:"e1747fp50"})("list-style-type:none;border-top:solid 1px ",(e=>e.theme.innerBorder),";margin:",(0,Z.Z)(.5)," ",(0,Z.Z)(1.5),";");function E(e){let{items:t,trigger:s,triggerLabel:r,triggerProps:d={},isDisabled:p,isSubmenu:h=!1,closeRootMenu:m,closeCurrentSubmenu:g,renderWrapAs:f="div",className:v,...y}=e;const b=(0,o.useRef)(null),S=null!=p?p:!t||0===t.length,Z=(0,c.W)(y),{menuTriggerProps:k,menuProps:w}=(0,a.u4)({type:"menu",isDisabled:S},Z,b),{buttonProps:T}=(0,n.U)({isDisabled:S,...k,...h&&{onKeyUp:e=>e.continuePropagation(),onKeyDown:e=>e.continuePropagation(),onPress:()=>null,onPressStart:()=>null,onPressEnd:()=>null}},b),[A,_]=(0,o.useState)(),C=(0,o.useCallback)((async()=>{var e;await new Promise((e=>window.setTimeout(e)));const t=null===(e=b.current)||void 0===e?void 0:e.offsetWidth;!h&&t&&_(t)}),[s,r,d]);return(0,i.yU)({ref:b,onResize:C}),(0,o.useEffect)((()=>{void 0===window.ResizeObserver&&C()}),[C]),(0,x.BX)(O,{className:v,as:f,role:"presentation",children:[s?s({props:{...d,...T,isOpen:Z.isOpen},ref:b}):(0,x.tZ)(u.Z,{ref:b,isOpen:Z.isOpen,...d,...T,children:r}),Z.isOpen?(0,x.tZ)(I,{...y,...w,triggerRef:b,triggerWidth:A,isSubmenu:h,isDismissable:!h&&y.isDismissable,shouldCloseOnBlur:!h&&y.shouldCloseOnBlur,closeRootMenu:null!=m?m:Z.close,closeCurrentSubmenu:g,items:function e(t){return t.filter((e=>!e.hidden)).map((t=>({...t,...t.children?{children:e(t.children)}:{}})))}(t),children:e=>e.children&&e.children.length>0&&!e.isSubmenu?(0,x.tZ)(l.$0,{title:e.label,items:e.children,children:e=>(0,x.tZ)(l.ck,{...e,children:e.label})},e.key):(0,x.tZ)(l.ck,{...e,children:e.label})}):null]})}E.displayName="MenuControl";const z=E,O=(0,r.Z)("div",{target:"e1dayana0"})({name:"ffhm6p",styles:"list-style-type:none"})},"./app/components/forms/controls/radioBoolean.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("../node_modules/react/index.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=(0,r.forwardRef)((function(e,t){let{name:s,disabled:r,label:n,value:a,checked:i,onChange:l}=e;return(0,o.tZ)("div",{className:"radio",children:(0,o.BX)("label",{style:{fontWeight:"normal"},children:[(0,o.tZ)("input",{ref:t,type:"radio",value:a,name:s,checked:i,onChange:function(e){const t="true"===e.target.value;null==l||l(t,e)},disabled:r})," ",n]})})})),a=(0,r.forwardRef)((function(e,t){let{disabled:s,name:r,onChange:a,value:i,yesFirst:l=!0,yesLabel:c="Yes",noLabel:u="No"}=e;const d=(0,o.tZ)(n,{ref:t,value:"true",checked:!0===i,name:r,disabled:s,label:c,onChange:a}),p=(0,o.tZ)(n,{value:"false",checked:!1===i,name:r,disabled:s,label:u,onChange:a});return(0,o.BX)("div",{children:[l?d:p,l?p:d]})}))},"./app/components/forms/index.tsx":(e,t,s)=>{s.d(t,{sB:()=>r.Z,Ig:()=>o.Z,ji:()=>n.Z,s8:()=>u.Z,Ff:()=>d.Z,l0:()=>p.Z,UP:()=>l.Z,eM:()=>f,mg:()=>v.Z,nv:()=>y.Z});var r=s("./app/components/forms/apiForm.tsx"),o=s("./app/components/forms/booleanField.tsx"),n=s("./app/components/forms/checkboxField.tsx"),a=(s("./app/components/forms/choiceMapperField.tsx"),s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js"),s("../node_modules/moment/moment.js"),s("./app/components/dropdownMenu.tsx"),s("./app/components/loadingIndicator.tsx"),s("./app/components/placeholder.tsx"),s("./app/icons/index.tsx"),s("./app/styles/input.tsx")),i=s("./app/styles/space.tsx"),l=s("./app/components/forms/inputField.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");a.T,(0,i.Z)(1),s("./app/components/forms/dateTimeField.tsx");var u=s("./app/components/forms/emailField.tsx"),d=s("./app/components/forms/fieldFromConfig.tsx"),p=(s("./app/components/forms/fieldSeparator.tsx"),s("./app/components/forms/form.tsx")),h=(s("./app/components/forms/formPanel.tsx"),s("./app/components/forms/hiddenField.tsx"),s("./app/components/forms/jsonForm.tsx"),s("./app/components/forms/numberField.tsx"),s("../node_modules/lodash/omit.js")),m=s.n(h),g=s("./app/components/forms/controls/radioBoolean.tsx");function f(e){return(0,c.tZ)(l.Z,{...e,field:e=>(0,c.tZ)(g.Z,{...m()(e,["onKeyDown","children"])})})}f.displayName="RadioBooleanField",s("./app/components/forms/rangeField.tsx");var v=s("./app/components/forms/selectField.tsx"),y=(s("./app/components/forms/textareaField.tsx"),s("./app/components/forms/textCopyInput.tsx"),s("./app/components/forms/textField.tsx"))},"./app/components/hotkeysLabel.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/styles/space.tsx"),n=s("./app/utils/getKeyCode.ts"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i={18:"⌥",17:"⌃",91:"⌘"},l={18:"ALT",17:"CTRL"},c={16:"⇧",8:"⌫",37:"←",38:"↑",39:"→",40:"↓",107:"+"},u=e=>{var t,s,r,o;let{value:u,forcePlatform:d}=e;const m=(Array.isArray(u)?u:[u]).map((e=>e.trim().split("+"))),g=d?"macos"===d:null!==(t=null===(s=window)||void 0===s||null===(r=s.navigator)||void 0===r||null===(o=r.platform)||void 0===o?void 0:o.toLowerCase().startsWith("mac"))&&void 0!==t&&t,f=m.map((e=>e.map((e=>((e,t)=>{var s,r;const o=(0,n.H)(e);if(!o)return{label:(0,a.tZ)(p,{children:e.toUpperCase()}),specificToOs:"generic"};const u=null!==(s=null!==(r=(t?i:l)[o])&&void 0!==r?r:c[o])&&void 0!==s?s:e.toUpperCase(),d=o===(0,n.H)("command")?"macos":"generic";return{label:(0,a.tZ)(p,{children:u},u),specificToOs:d}})(e,g))))).find((e=>!!g||e.every((e=>"generic"===e.specificToOs))));return void 0===f?null:(0,a.tZ)(h,{children:f.map((e=>e.label))})};u.displayName="HotkeysLabel";const d=u,p=(0,r.Z)("span",{target:"e1ixr2t71"})("font-size:",(e=>e.theme.fontSizeMedium),";"),h=(0,r.Z)("div",{target:"e1ixr2t70"})("font-family:",(e=>e.theme.text.family),";display:flex;flex-direction:row;align-items:center;>*{margin-right:",(0,o.Z)(.5),";}")},"./app/components/smartSearchBar/actions.tsx":(e,t,s)=>{s.d(t,{Kk:()=>I,DL:()=>A,lZ:()=>_,b9:()=>C});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react-router/es/index.js"),n=s("./app/actionCreators/modal.tsx"),a=s("./app/actionCreators/savedSearches.tsx"),i=s("./app/components/acl/access.tsx"),l=s("./app/components/button.tsx"),c=s("./app/components/menuItem.tsx"),u=s("./app/icons/index.tsx"),d=s("./app/locale.tsx"),p=s("./app/types/index.tsx"),h=s("./app/utils/analytics.tsx"),m=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),f=s("./app/actionCreators/indicator.tsx"),v=s("./app/components/alert.tsx"),y=s("./app/components/forms/index.tsx"),x=s("./app/utils/withApi.tsx"),b=s("./app/views/issueList/utils.tsx"),S=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Z=[b.qh.DATE,b.qh.NEW,b.qh.FREQ,b.qh.PRIORITY,b.qh.USER];class k extends g.Component{constructor(){super(...arguments),(0,m.Z)(this,"state",{isSaving:!1,error:null}),(0,m.Z)(this,"handleSubmit",((e,t,s,r)=>{const{api:o,organization:n}=this.props,i=this.validateSortOption(e.sort);r.preventDefault(),this.setState({isSaving:!0}),(0,f.E3)((0,d.t)("Saving Changes")),(0,a.cB)(o,n.slug,e.name,e.query,i).then((s=>{this.props.closeModal(),this.setState({error:null,isSaving:!1}),(0,f.B8)(),t(e)})).catch((e=>{let t=(0,d.t)("Unable to save your changes.");e.responseJSON&&e.responseJSON.detail&&(t=e.responseJSON.detail),this.setState({error:t,isSaving:!1}),(0,f.B8)(),s(t)}))}))}validateSortOption(e){return this.sortOptions().find((t=>t===e))?e:b.qh.DATE}sortOptions(){var e;const{organization:t}=this.props,s=[...Z];return null!=t&&null!==(e=t.features)&&void 0!==e&&e.includes("issue-list-trend-sort")&&s.push(b.qh.TREND),s}render(){const{error:e}=this.state,{Header:t,Body:s,closeModal:r,query:o,sort:n}=this.props,a=this.sortOptions().map((e=>({value:e,label:(0,b._k)(e)}))),i={name:"",query:o,sort:this.validateSortOption(n)};return(0,S.BX)(y.l0,{onSubmit:this.handleSubmit,onCancel:r,saveOnBlur:!1,initialData:i,submitLabel:(0,d.t)("Save"),children:[(0,S.tZ)(t,{children:(0,S.tZ)("h4",{children:(0,d.t)("Save Current Search")})}),(0,S.BX)(s,{children:[this.state.error&&(0,S.tZ)(v.Z,{type:"error",children:e}),(0,S.tZ)("p",{children:(0,d.t)("All team members will now have access to this search.")}),(0,S.tZ)(y.nv,{name:"name",label:(0,d.t)("Name"),placeholder:"e.g. My Search Results",inline:!1,stacked:!0,flexibleControlStateSize:!0,required:!0},"name"),(0,S.tZ)(y.nv,{name:"query",label:(0,d.t)("Query"),inline:!1,stacked:!0,flexibleControlStateSize:!0,required:!0},"query"),(0,S.tZ)(y.mg,{name:"sort",label:(0,d.t)("Sort By"),options:a,required:!0,clearable:!1,inline:!1,stacked:!0,flexibleControlStateSize:!0},"sort")]})]})}}k.displayName="CreateSavedSearchModal";const w=(0,x.Z)(k);var T=s("./app/components/smartSearchBar/utils.tsx");function A(e){let{pinnedSearch:t,sort:s}=e;return{key:"pinSearch",Action:(0,o.withRouter)((e=>{let{menuItemVariant:r,savedSearchType:n,organization:i,api:l,query:m,location:g}=e;const f=async e=>{var r;if(e.preventDefault(),e.stopPropagation(),void 0===n)return;const{cursor:c,page:u,...d}=g.query;if((0,h.ec)({eventKey:"search.pin",eventName:"Search: Pin",organization_id:i.id,action:t?"unpin":"pin",search_type:n===p.L4.ISSUE?"issues":"events",query:null!==(r=null==t?void 0:t.query)&&void 0!==r?r:m}),t)return void(0,a.g_)(l,i.slug,n,t).then((()=>{o.browserHistory.push({...g,pathname:`/organizations/${i.slug}/issues/`,query:{...d,query:t.query,sort:t.sort}})}));const f=await(0,a.k0)(l,i.slug,n,(0,T.WF)(m),s);f&&f.id&&o.browserHistory.push({...g,pathname:`/organizations/${i.slug}/issues/searches/${f.id}/`,query:d})},v=t?(0,d.t)("Unpin this search"):(0,d.t)("Pin this search");return r?(0,S.tZ)(c.Z,{withBorder:!0,"data-test-id":"pin-icon",icon:(0,S.tZ)(u.Dg,{isSolid:!!t,size:"xs"}),onClick:f,children:t?(0,d.t)("Unpin Search"):(0,d.t)("Pin Search")}):(0,S.tZ)(I,{title:v,disabled:!m,"aria-label":v,onClick:f,isActive:!!t,"data-test-id":"pin-icon",icon:(0,S.tZ)(u.Dg,{isSolid:!!t,size:"xs"})})}))}}function _(e){let{sort:t}=e;return{key:"saveSearch",Action:e=>{let{menuItemVariant:s,query:r,organization:o}=e;const a=()=>(0,n.openModal)((e=>(0,S.tZ)(w,{...e,organization:o,query:r,sort:t})));return(0,S.tZ)(i.Z,{organization:o,access:["org:write"],children:s?(0,S.tZ)(c.Z,{withBorder:!0,icon:(0,S.tZ)(u.N_,{size:"xs"}),onClick:a,children:(0,d.t)("Create Saved Search")}):(0,S.tZ)(I,{onClick:a,"data-test-id":"save-current-search",icon:(0,S.tZ)(u.N_,{size:"xs"}),title:(0,d.t)("Add to organization saved searches"),"aria-label":(0,d.t)("Add to organization saved searches")})})}}}function C(e){let{onSidebarToggle:t}=e;return{key:"searchBuilder",Action:e=>{let{menuItemVariant:s}=e;return s?(0,S.tZ)(c.Z,{withBorder:!0,icon:(0,S.tZ)(u.OP,{size:"xs"}),onClick:t,children:(0,d.t)("Toggle sidebar")}):(0,S.tZ)(I,{title:(0,d.t)("Toggle search builder"),tooltipProps:{containerDisplayMode:"inline-flex"},"aria-label":(0,d.t)("Toggle search builder"),onClick:t,icon:(0,S.tZ)(u.OP,{size:"xs"})})}}}const I=(0,r.Z)(l.ZP,{target:"e491rhv0"})("color:",(e=>e.isActive?e.theme.blue300:e.theme.gray300),";width:18px;&,&:hover,&:focus{background:transparent;}&:hover{color:",(e=>e.theme.gray400),";}");I.defaultProps={type:"button",borderless:!0,size:"zero"}},"./app/components/smartSearchBar/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>$});var r=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-autosize-textarea/lib/index.js"),l=s("../node_modules/react-router/es/index.js"),c=s("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),u=s("../node_modules/@sentry/hub/esm/exports.js"),d=s("../node_modules/lodash/debounce.js"),p=s.n(d),h=s("./app/actionCreators/indicator.tsx"),m=s("./app/actionCreators/savedSearches.tsx"),g=s("./app/components/buttonBar.tsx"),f=s("./app/components/dropdownLink.tsx"),v=s("./app/components/organizations/pageFilters/parse.tsx"),y=s("./app/components/searchSyntax/parser.tsx"),x=s("./app/components/searchSyntax/renderer.tsx"),b=s("./app/components/searchSyntax/utils.tsx"),S=s("./app/constants/index.tsx"),Z=s("./app/icons/index.tsx"),k=s("./app/locale.tsx"),w=s("./app/stores/memberListStore.tsx"),T=s("./app/styles/space.tsx"),A=s("./app/types/index.tsx"),_=s("./app/utils.tsx"),C=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),I=s("./app/utils/callIfFunction.tsx"),R=s("./app/utils/withApi.tsx"),j=s("./app/utils/withOrganization.tsx"),q=s("./app/components/smartSearchBar/actions.tsx"),P=s("./app/components/smartSearchBar/searchDropdown.tsx"),E=s("./app/utils/useHotkeys.tsx"),z=s("./app/components/smartSearchBar/utils.tsx");const O=e=>{let{runQuickAction:t}=e;return(0,E.y)(z.To.filter((e=>void 0!==e.hotkeys)).map((e=>{var s,r;return{match:null!==(s=null===(r=e.hotkeys)||void 0===r?void 0:r.actual)&&void 0!==s?s:[],callback:s=>{s.preventDefault(),t(e)}}})),[t]),null};var F=s("./app/components/smartSearchBar/types.tsx"),N=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const D=e=>({query:e,parsedQuery:(0,y.UG)(e)}),B=(e,t)=>{const s=(0,z.th)(t);return{searchItems:e.map((e=>s[e])),recentSearchItems:void 0,tagName:"",type:F.q.TAG_OPERATOR}},M=e=>e.includes(" ")||e.includes('"')?`"${e.replace(/"/g,'\\"')}"`:e;class L extends a.Component{constructor(){var e,t;super(...arguments),(0,o.Z)(this,"state",{query:this.initialQuery,parsedQuery:(0,y.UG)(this.initialQuery),searchTerm:"",searchGroups:[],flatSearchItems:[],activeSearchItem:-1,tags:{},inputHasFocus:!1,loading:!1,numActionsVisible:null!==(e=null===(t=this.props.actionBarItems)||void 0===t?void 0:t.length)&&void 0!==e?e:0}),(0,o.Z)(this,"blurTimeout",void 0),(0,o.Z)(this,"searchInput",(0,a.createRef)()),(0,o.Z)(this,"containerRef",(0,a.createRef)()),(0,o.Z)(this,"inputResizeObserver",null),(0,o.Z)(this,"updateActionsVisible",(e=>{var t,s;if(0===e.length)return;const r=e[0],{width:o}=r.contentRect,n=null!==(t=null===(s=this.props.actionBarItems)||void 0===s?void 0:s.length)&&void 0!==t?t:0,a=Math.min(n,Math.floor(Math.max(0,o-400)/75));this.state.numActionsVisible!==a&&this.setState({numActionsVisible:a})})),(0,o.Z)(this,"moveToNextToken",((e,t)=>{let s=this.state.query.length;if(this.searchInput.current&&t.length>0){if(this.searchInput.current.focus(),e){const r=t.findIndex((t=>t===e));void 0!==r&&r+1<t.length&&(s=t[r+1].location.end.offset)}this.cursorPosition===this.state.query.length&&(s=t[0].location.end.offset),this.searchInput.current.selectionStart=s,this.searchInput.current.selectionEnd=s,this.updateAutoCompleteItems()}})),(0,o.Z)(this,"runQuickAction",(e=>{var t;const{query:s}=this.state,r=null!==(t=this.cursorToken)&&void 0!==t?t:void 0,o=this.filterTokens,{actionType:n,canRunAction:a}=e;if(!a||a(r,this.filterTokens.length))switch(n){case F.d.Delete:if(r&&o.length>0){var i;const e=null!==(i=o.findIndex((e=>e===r)))&&void 0!==i?i:-1;if("function"==typeof document.execCommand&&this.searchInput.current)this.searchInput.current.focus(),this.searchInput.current.selectionStart=r.location.start.offset,this.searchInput.current.selectionEnd=r.location.end.offset+1,document.execCommand("insertText",!1,"");else{const t=s.slice(0,r.location.start.offset).trim()+(e>0&&e<o.length-1?" ":"")+s.slice(r.location.end.offset).trim();this.updateQuery(t)}}break;case F.d.Negate:if(r&&r.type===y.WU.Filter)if(r.negated)if("function"==typeof document.execCommand&&this.searchInput.current)this.searchInput.current.focus(),this.searchInput.current.selectionStart=r.location.start.offset,this.searchInput.current.selectionEnd=r.key.location.start.offset,document.execCommand("insertText",!1,"");else{const e=s.slice(0,r.location.start.offset)+s.slice(r.key.location.start.offset);this.updateQuery(e,this.cursorPosition-1)}else if("function"==typeof document.execCommand&&this.searchInput.current)this.searchInput.current.focus(),this.searchInput.current.selectionStart=r.location.start.offset,this.searchInput.current.selectionEnd=r.location.start.offset,document.execCommand("insertText",!1,"!");else{const e=s.slice(0,r.key.location.start.offset)+"!"+s.slice(r.key.location.start.offset);this.updateQuery(e,this.cursorPosition+1)}break;case F.d.Next:this.moveToNextToken(r,o);break;case F.d.Previous:this.moveToNextToken(r,o.reverse())}})),(0,o.Z)(this,"onSubmit",(e=>{e.preventDefault(),this.doSearch()})),(0,o.Z)(this,"clearSearch",(()=>this.setState(D(""),(()=>(0,I.g)(this.props.onSearch,this.state.query))))),(0,o.Z)(this,"onQueryFocus",(()=>this.setState({inputHasFocus:!0}))),(0,o.Z)(this,"onQueryBlur",(e=>{window.clearTimeout(this.blurTimeout),this.blurTimeout=window.setTimeout((()=>{this.blurTimeout=void 0,this.setState({inputHasFocus:!1}),(0,I.g)(this.props.onBlur,e.target.value)}),200)})),(0,o.Z)(this,"onQueryChange",(e=>{const t=e.target.value.replace("\n","");this.setState(D(t),this.updateAutoCompleteItems),(0,I.g)(this.props.onChange,e.target.value,e)})),(0,o.Z)(this,"onPaste",(e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain").replace("\n","").trim(),s=this.state.query,r=this.searchInput.current.selectionStart,o=this.searchInput.current.selectionEnd,n=s.substring(0,r),a=s.substring(o,s.length),i=`${n}${t}${a}`;this.setState(D(i),(()=>{this.updateAutoCompleteItems();const e=r+t.length;this.searchInput.current.selectionStart=e,this.searchInput.current.selectionEnd=e})),(0,I.g)(this.props.onChange,i,e)})),(0,o.Z)(this,"onInputClick",(()=>this.updateAutoCompleteItems())),(0,o.Z)(this,"onKeyDown",(e=>{const{onKeyDown:t}=this.props,{key:s}=e;(0,I.g)(t,e);const r=this.state.searchGroups.length>0,o=-1!==this.state.activeSearchItem;if(("ArrowDown"===s||"ArrowUp"===s)&&r){var n;e.preventDefault();const{flatSearchItems:t,activeSearchItem:r}=this.state,l=[...this.state.searchGroups],[c,u]=o?(0,z.iO)(l,r):[];var a,i;void 0!==c&&void 0!==u&&null!==(a=l[c])&&void 0!==a&&null!==(i=a.children)&&void 0!==i&&i[u]&&delete l[c].children[u].active;const d=o?r:0,p=t.length,h="ArrowUp"===s?(d-1+p)%p:o?(d+1)%p:0,[m,g]=(0,z.iO)(l,h);void 0!==m&&void 0!==g&&null!==(n=l[m])&&void 0!==n&&n.children&&(l[m].children[g]={...l[m].children[g],active:!0}),this.setState({searchGroups:l,activeSearchItem:h})}if(("Tab"===s||"Enter"===s)&&o&&r){e.preventDefault();const{activeSearchItem:t,searchGroups:s}=this.state,[r,o]=(0,z.iO)(s,t),n=void 0!==r&&void 0!==o&&s[r].children[o];var l;return void(n&&(n.callback?n.callback():this.onAutoComplete(null!==(l=n.value)&&void 0!==l?l:"",n)))}if("Enter"===s&&!o)return void this.doSearch();const c=this.cursorToken;if("["===s&&(null==c?void 0:c.type)===y.WU.Filter&&0===c.value.text.length&&(0,b._R)(c.value,this.cursorPosition)){const{query:t}=this.state;e.preventDefault();let s=null,r=null;const o="[]",n=c.value.location;s=c.key.location.end.offset+1,r=n.end.offset+1;const a=t.substring(0,s);let i=t.substring(r);i&&(i=` ${i}`);const l=`${a}${o}${i}`;this.updateQuery(l,a.length+o.length-1)}})),(0,o.Z)(this,"onKeyUp",(e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key||this.updateAutoCompleteItems(),"Escape"!==e.key)return;e.preventDefault();const t=this.state.activeSearchItem>-1;if(!t)return void this.blur();const{searchGroups:s,activeSearchItem:r}=this.state,[o,n]=t?(0,z.iO)(s,r):[];void 0!==o&&void 0!==n&&delete s[o].children[n].active,this.setState({activeSearchItem:-1,searchGroups:[...this.state.searchGroups]})})),(0,o.Z)(this,"getTagValues",p()((async(e,t)=>{if(t=t.replace(/"/g,"").trim(),!this.props.onGetTagValues)return[];if(void 0!==this.state.noValueQuery&&t.startsWith(this.state.noValueQuery))return[];const{location:s}=this.props,r=(0,v.fK)(s.query);this.setState({loading:!0});let o=[];try{o=await this.props.onGetTagValues(e,t,r),this.setState({loading:!1})}catch(e){return this.setState({loading:!1}),u.Tb(e),[]}"release:"!==e.key||o.includes("latest")||o.unshift("latest");const n=0===o.length&&t.length>0?t:void 0;return this.setState({noValueQuery:n}),o.map((e=>{const t=M(e);return{value:t,desc:t,type:F.q.TAG_VALUE}}))}),S.Dk,{leading:!0})),(0,o.Z)(this,"getPredefinedTagValues",((e,t)=>{var s;return(null!==(s=e.values)&&void 0!==s?s:[]).filter((e=>e.indexOf(t)>-1)).map(((t,s)=>{const r=M(t);return{value:r,desc:r,type:F.q.TAG_VALUE,ignoreMaxSearchItems:!!e.maxSuggestedValues&&s<e.maxSuggestedValues}}))})),(0,o.Z)(this,"getRecentSearches",p()((async()=>{const{savedSearchType:e,hasRecentSearches:t,onGetRecentSearches:s}=this.props;if(!(0,_.ri)(e)||!t)return[];const r=s||this.fetchRecentSearches;return await r(this.state.query)}),S.Dk,{leading:!0})),(0,o.Z)(this,"fetchRecentSearches",(async e=>{const{api:t,organization:s,savedSearchType:r}=this.props;if(void 0===r)return[];try{return(await(0,m.YO)(t,s.slug,r,e)).map((e=>({desc:e.query,value:e.query,type:F.q.RECENT_SEARCH})))}catch(e){u.Tb(e)}return[]})),(0,o.Z)(this,"getReleases",p()((async(e,t)=>{const s=this.fetchReleases(t);return[...this.getPredefinedTagValues(e,t).map((e=>({...e,type:F.q.FIRST_RELEASE}))),...(await s).map((e=>({value:e.shortVersion,desc:e.shortVersion,type:F.q.FIRST_RELEASE})))]}),S.Dk,{leading:!0})),(0,o.Z)(this,"fetchReleases",(async e=>{const{api:t,location:s,organization:r}=this.props,o=s&&s.query?s.query.projectId:void 0,n=`/organizations/${r.slug}/releases/`,a={per_page:S.vK};e&&(a.query=e),o&&(a.project=o);try{return await t.requestPromise(n,{method:"GET",query:a})}catch(e){(0,h.Iw)((0,k.t)("Unable to fetch releases")),u.Tb(e)}return[]})),(0,o.Z)(this,"generateValueAutocompleteGroup",(async(e,t)=>{var s;const{prepareQuery:r,excludeEnvironment:o}=this.props,n=null!==(s=this.props.supportedTags)&&void 0!==s?s:{},a="function"==typeof r?r(t):t,i=a?this.state.searchGroups.filter((e=>e.value&&-1!==e.value.indexOf(a))):this.state.searchGroups;this.setState({searchTerm:t,searchGroups:i});const l=n[e];if(!l)return{searchItems:[],recentSearchItems:[],tagName:e,type:F.q.INVALID_TAG};if(o&&"environment"===e)return null;const c="firstRelease"===l.key?this.getReleases:l.predefined?this.getPredefinedTagValues:this.getTagValues,[u,d]=await Promise.all([c(l,a),this.getRecentSearches()]);return{searchItems:null!=u?u:[],recentSearchItems:null!=d?d:[],tagName:l.key,type:F.q.TAG_VALUE}})),(0,o.Z)(this,"showDefaultSearches",(async()=>{const{query:e}=this.state,[t,s]=this.props.defaultSearchItems;if(t.length)this.setState({searchTerm:""}),this.updateAutoCompleteState(t,s,"",F.q.DEFAULT);else{this.setState({searchTerm:e});const[t,s]=this.getTagKeys(""),r=await this.getRecentSearches();this.updateAutoCompleteState(t,null!=r?r:[],"",s)}})),(0,o.Z)(this,"updateAutoCompleteFromAst",(async()=>{const e=this.cursorPosition,t=this.cursorToken;if(t)if(t.type!==y.WU.Filter){if(t.type===y.WU.FreeText){var s;const e=(null!==(s=t.text.trim().split(" ").pop())&&void 0!==s?s:"").replace(new RegExp(`^${S.c$}`),""),r=[await this.generateTagAutocompleteGroup(e)];return this.setState({searchTerm:e}),void this.updateAutoCompleteStateMultiHeader(r)}}else{const s=(0,b.Ck)(t.key,{aggregateWithArgs:!0});if((0,b._R)(t.value,e)){var r;const o=t.value,n=this.cursorValue;let a=null!==(r=null==n?void 0:n.text)&&void 0!==r?r:o.text;"[]"!==a&&null!==n||(a="");const i=await this.generateValueAutocompleteGroup(s,a),l=i?[i]:[];if(e===o.location.start.offset){const e=B((0,z.Um)(t),s);l.unshift(e)}return void this.updateAutoCompleteStateMultiHeader(l)}if((0,b._R)(t.key,e)){const r=t.key,o=[await this.generateTagAutocompleteGroup(s)];if(e===r.location.end.offset){const e=B((0,z.Um)(t),s);o.unshift(e)}return this.setState({searchTerm:s}),void this.updateAutoCompleteStateMultiHeader(o)}const o=B((0,z.Um)(t),s);this.updateAutoCompleteStateMultiHeader([o])}else this.showDefaultSearches()})),(0,o.Z)(this,"updateAutoCompleteItems",(()=>{window.clearTimeout(this.blurTimeout),this.blurTimeout=void 0,this.updateAutoCompleteFromAst()})),(0,o.Z)(this,"updateAutoCompleteStateMultiHeader",(e=>{const{hasRecentSearches:t,maxSearchItems:s,maxQueryLength:r}=this.props,{query:o}=this.state,n=r&&o?r-o.length:void 0,a=e.map((e=>{let{searchItems:r,recentSearchItems:o,tagName:a,type:i}=e;return(0,z.oe)(r,t?o:void 0,a,i,s,n)})).reduce(((e,t)=>({searchGroups:[...e.searchGroups,...t.searchGroups],flatSearchItems:[...e.flatSearchItems,...t.flatSearchItems],activeSearchItem:-1})),{searchGroups:[],flatSearchItems:[],activeSearchItem:-1});this.setState(a)})),(0,o.Z)(this,"updateQuery",((e,t)=>this.setState(D(e),(()=>{var s,r;this.searchInput.current&&(this.searchInput.current.focus(),t&&(this.searchInput.current.selectionStart=t,this.searchInput.current.selectionEnd=t)),this.updateAutoCompleteItems(),null===(s=(r=this.props).onChange)||void 0===s||s.call(r,e,new MouseEvent("click"))})))),(0,o.Z)(this,"onAutoCompleteFromAst",((e,t)=>{const s=this.cursorPosition,{query:r}=this.state,o=this.cursorToken;if(!o)return void this.updateQuery(`${r}${e}`);let n=null,a=null,i=e;if(o.type===y.WU.Filter)if(t.type===F.q.TAG_OPERATOR){(0,C.Z)("search.operator_autocompleted",{organization:this.props.organization,query:(0,z.WF)(r),search_operator:e,search_type:0===this.props.savedSearchType?"issues":"events"});const t=o.value.location;n=o.location.start.offset,a=t.start.offset,i="!:"===e?`!${o.key.text}:`:`${o.key.text}${e}`}else if((0,b._R)(o.value,s)){var l;const t=null!==(l=this.cursorValue)&&void 0!==l?l:o.value,s=t.location;if(o.filter===y.vA.TextIn){const e=null===this.cursorValue;n=e?this.cursorPosition:t.location.start.offset,a=e?this.cursorPosition:t.location.end.offset}else n=o.key.location.end.offset+1,a=s.end.offset+1,"user"===(0,b.Ck)(o.key)&&(i=`"${e.trim()}"`),"[]"===t.text?(n+=1,a-=2):i+=" "}else if((0,b._R)(o.key,s)){const e=o.key.location;n=e.start.offset,a=e.end.offset+1}if(o.type===y.WU.FreeText){const e=o.location.start.offset;n=o.text.startsWith(S.c$)?e+1:e,a=o.location.end.offset}if(null!==n&&null!==a){const e=r.substring(0,n),t=`${e}${i}${r.substring(a)}`;this.updateQuery(t,e.length+i.length)}})),(0,o.Z)(this,"onAutoComplete",((e,t)=>{if(t.type===F.q.RECENT_SEARCH)return(0,C.Z)("search.searched",{organization:this.props.organization,query:e,search_type:0===this.props.savedSearchType?"issues":"events",search_source:"recent_search"}),void this.setState(D(e),(()=>{this.doSearch()}));this.onAutoCompleteFromAst(e,t)}))}componentDidMount(){window.ResizeObserver&&null!==this.containerRef.current&&(this.inputResizeObserver=new ResizeObserver(this.updateActionsVisible),this.inputResizeObserver.observe(this.containerRef.current))}componentDidUpdate(e){const{query:t}=this.props,{query:s}=e;t!==s&&((0,_.ri)(t)||(0,_.ri)(s))&&this.setState(D((0,z.be)(null!=t?t:void 0)))}componentWillUnmount(){var e;null===(e=this.inputResizeObserver)||void 0===e||e.disconnect(),window.clearTimeout(this.blurTimeout)}get initialQuery(){const{query:e,defaultQuery:t}=this.props;return null!==e?(0,z.be)(e):null!=t?t:""}blur(){this.searchInput.current&&this.searchInput.current.blur()}async doSearch(){if(this.blur(),!this.hasValidSearch)return;const e=(0,z.WF)(this.state.query),{onSearch:t,onSavedRecentSearch:s,api:r,organization:o,savedSearchType:n,searchSource:a}=this.props;if((0,C.Z)("search.searched",{organization:o,query:e,search_type:0===n?"issues":"events",search_source:a}),(0,I.g)(t,e),void 0!==n&&e)try{await(0,m.VH)(r,o.slug,n,e),s&&s(e)}catch(e){u.Tb(e)}}get hasValidSearch(){const{parsedQuery:e}=this.state;return null===e||(0,b.ly)({tree:e,noResultValue:!0,visitorTest:e=>{let{token:t,returnResult:s,skipToken:r}=e;return t.type!==y.WU.Filter?null:t.invalid?s(!1):r}})}get cursorToken(){const e=[y.WU.Filter,y.WU.FreeText];return this.findTokensAtCursor(e)}get cursorValue(){const e=[y.WU.ValueText];return this.findTokensAtCursor(e)}get cursorPosition(){var e;return this.searchInput.current&&this.state.inputHasFocus&&null!==(e=this.searchInput.current.selectionStart)&&void 0!==e?e:-1}get filterTokens(){var e,t;return null!==(e=null===(t=this.state.parsedQuery)||void 0===t?void 0:t.filter((e=>e.type===y.WU.Filter)))&&void 0!==e?e:[]}findTokensAtCursor(e){const{parsedQuery:t}=this.state;if(null===t)return null;const s=this.cursorPosition;return(0,b.ly)({tree:t,noResultValue:null,visitorTest:t=>{let{token:r,returnResult:o,skipToken:n}=t;return e.includes(r.type)?(0,b._R)(r,s)?o(r):n:null}})}getTagKeys(e){var t;const{prepareQuery:s,supportedTagType:r,getFieldDoc:o}=this.props,n=null!==(t=this.props.supportedTags)&&void 0!==t?t:{};let a=Object.keys(n).map((e=>`${e}:`));if(e){const t="function"==typeof s?s(e):e;a=a.filter((e=>e.indexOf(t)>-1))}return this.props.excludeEnvironment&&(a=a.filter((e=>"environment:"!==e))),[a.map((e=>{var t;return{value:e,desc:e,documentation:null!==(t=null==o?void 0:o(e.slice(0,-1)))&&void 0!==t?t:""}})).sort(((e,t)=>e.value.localeCompare(t.value))),null!=r?r:F.q.TAG_KEY]}async generateTagAutocompleteGroup(e){const[t,s]=this.getTagKeys(e),r=await this.getRecentSearches();return{searchItems:t,recentSearchItems:null!=r?r:[],tagName:e,type:s}}updateAutoCompleteState(e,t,s,r){const{hasRecentSearches:o,maxSearchItems:n,maxQueryLength:a}=this.props,{query:i}=this.state,l=a&&i?a-i.length:void 0,c=(0,z.oe)(e,o?t:void 0,s,r,n,l);this.setState(c)}render(){const{api:e,className:t,savedSearchType:s,dropdownClassName:o,actionBarItems:n,organization:a,placeholder:i,disabled:l,useFormWrapper:c,inlineLabel:u,maxQueryLength:d,maxMenuHeight:p}=this.props,{query:h,parsedQuery:m,searchGroups:g,searchTerm:v,inputHasFocus:y,numActionsVisible:b,loading:S}=this.state,w=(0,N.tZ)(K,{type:"text",placeholder:i,id:"smart-search-input","data-test-id":"smart-search-input",name:"query",ref:this.searchInput,autoComplete:"off",value:h,onFocus:this.onQueryFocus,onBlur:this.onQueryBlur,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onChange:this.onQueryChange,onClick:this.onInputClick,onPaste:this.onPaste,disabled:l,maxLength:d,spellCheck:!1}),T=null!=n?n:[],A={api:e,organization:a,query:h,savedSearchType:s},_=T.slice(0,b).map((e=>{let{key:t,Action:s}=e;return(0,N.tZ)(s,{...A},t)})),C=T.slice(b).map((e=>{let{key:t,Action:s}=e;return(0,N.tZ)(s,{...A,menuItemVariant:!0},t)})),I=this.cursorPosition;return(0,N.BX)(G,{ref:this.containerRef,className:t,inputHasFocus:y,children:[(0,N.tZ)(O,{runQuickAction:this.runQuickAction}),(0,N.BX)(V,{htmlFor:"smart-search-input","aria-label":(0,k.t)("Search events"),children:[(0,N.tZ)(Z.jV,{}),u]}),(0,N.BX)(H,{children:[(0,N.tZ)(Q,{children:null!==m?(0,N.tZ)(x.Z,{parsedQuery:m,cursorPosition:-1===I?void 0:I}):h}),c?(0,N.tZ)("form",{onSubmit:this.onSubmit,children:w}):w]}),(0,N.BX)(W,{gap:.5,children:[""!==h&&(0,N.tZ)(q.Kk,{onClick:this.clearSearch,icon:(0,N.tZ)(Z.bM,{size:"xs"}),title:(0,k.t)("Clear search"),"aria-label":(0,k.t)("Clear search")}),_,C.length>0&&(0,N.tZ)(f.Z,{anchorRight:!0,caret:!1,title:(0,N.tZ)(q.Kk,{"aria-label":(0,k.t)("Show more"),icon:(0,N.tZ)(X,{size:"xs"})}),children:C})]}),(S||g.length>0)&&(0,N.tZ)(P.Z,{css:(0,r.iv)({display:y?"block":"none"},"",""),className:o,items:g,onClick:this.onAutoComplete,loading:S,searchSubstring:v,runQuickAction:this.runQuickAction,visibleActions:z.To.filter((e=>e.hotkeys&&(!e.canRunAction||e.canRunAction(this.cursorToken,this.filterTokens.length)))),maxMenuHeight:p})]})}}L.displayName="SmartSearchBar",(0,o.Z)(L,"defaultProps",{defaultQuery:"",query:null,onSearch:function(){},excludeEnvironment:!1,placeholder:(0,k.t)("Search for events, users, tags, and more"),supportedTags:{},defaultSearchItems:[[],[]],useFormWrapper:!0,savedSearchType:A.L4.ISSUE});class U extends a.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{members:w.Z.getAll()}),(0,o.Z)(this,"unsubscribe",w.Z.listen((e=>this.setState({members:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){return(0,N.tZ)(L,{...this.props,members:this.state.members})}}U.displayName="SmartSearchBarContainer";const $=(0,R.Z)((0,l.withRouter)((0,j.Z)(U))),G=(0,n.Z)("div",{target:"e1e683cn6"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowLight),";background:",(e=>e.theme.background),";padding:7px ",(0,T.Z)(1),";position:relative;display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,T.Z)(1),";align-items:start;border-radius:",(e=>e.theme.borderRadius),";.show-sidebar &{background:",(e=>e.theme.backgroundSecondary),";}",(e=>e.inputHasFocus&&`\n    border-color: ${e.theme.focusBorder};\n    box-shadow: 0 0 0 1px ${e.theme.focusBorder};\n  `),";"),V=(0,n.Z)("label",{target:"e1e683cn5"})("display:flex;padding:",(0,T.Z)(.5)," 0;margin:0;color:",(e=>e.theme.gray300),";"),H=(0,n.Z)("div",{target:"e1e683cn4"})({name:"bjn8wh",styles:"position:relative"}),Q=(0,n.Z)("div",{target:"e1e683cn3"})("position:absolute;top:0;left:0;right:0;bottom:0;user-select:none;white-space:pre-wrap;word-break:break-word;line-height:25px;font-size:",(e=>e.theme.fontSizeSmall),";font-family:",(e=>e.theme.text.familyMono),";"),K=(0,n.Z)(function(e){let{value:t}=e;return t}({value:i.Z,fixed:"textarea"}),{shouldForwardProp:e=>"string"==typeof e&&(0,c.Z)(e),target:"e1e683cn2"})("position:relative;display:flex;resize:none;outline:none;border:0;width:100%;padding:0;line-height:25px;margin-bottom:-1px;background:transparent;font-size:",(e=>e.theme.fontSizeSmall),";font-family:",(e=>e.theme.text.familyMono),";caret-color:",(e=>e.theme.subText),";color:transparent;&::selection{background:rgba(0, 0, 0, 0.2);}&::placeholder{color:",(e=>e.theme.formPlaceholder),";}[disabled]{color:",(e=>e.theme.disabled),";}"),W=(0,n.Z)(g.ZP,{target:"e1e683cn1"})("height:",(0,T.Z)(2),";margin:",(0,T.Z)(.5)," 0;"),X=(0,n.Z)(Z.YR,{target:"e1e683cn0"})({name:"jbgpyq",styles:"transform:rotate(90deg)"})},"./app/components/smartSearchBar/searchDropdown.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("../node_modules/color/index.js"),i=s.n(a),l=s("./app/components/loadingIndicator.tsx"),c=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),d=s("./app/components/button.tsx"),p=s("./app/components/hotkeysLabel.tsx"),h=s("./app/components/smartSearchBar/types.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends n.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"renderDescription",(e=>{const t=this.props.searchSubstring;if(!t)return e.desc;const s=e.desc;if(!s)return null;const r=s.toLowerCase().indexOf(t.toLowerCase());return-1===r?e.desc:(0,m.BX)("span",{children:[s.substr(0,r),(0,m.tZ)("strong",{children:s.substr(r,t.length)}),s.substr(r+t.length)]})})),(0,r.Z)(this,"renderHeaderItem",(e=>(0,m.tZ)(S,{children:(0,m.BX)(Z,{children:[e.icon,e.title&&e.title,e.desc&&(0,m.tZ)("span",{children:e.desc})]})},e.title))),(0,r.Z)(this,"renderItem",(e=>{var t;return(0,m.tZ)(w,{className:e.active?"active":void 0,"data-test-id":"search-autocomplete-item",onClick:null!==(t=e.callback)&&void 0!==t?t:this.props.onClick.bind(this,e.value,e),ref:t=>{var s;return e.active&&(null==t||null===(s=t.scrollIntoView)||void 0===s?void 0:s.call(t,{block:"nearest"}))},children:(0,m.BX)(T,{children:[e.title&&e.title+(e.desc?" · ":""),(0,m.tZ)(A,{children:this.renderDescription(e)}),(0,m.tZ)(_,{children:e.documentation})]})},e.value||e.desc||e.title)}))}render(){const{className:e,loading:t,items:s,runQuickAction:r,visibleActions:o,maxMenuHeight:a}=this.props;return(0,m.BX)(v,{className:e,children:[t?(0,m.tZ)(y,{"data-test-id":"search-autocomplete-loading",children:(0,m.tZ)(l.Z,{mini:!0})},"loading"):(0,m.tZ)(k,{maxMenuHeight:a,children:s.map((e=>{const t=e.children&&!e.children.length,s=e.type===h.q.INVALID_TAG;return(0,m.BX)(n.Fragment,{children:[s&&(0,m.tZ)(x,{children:(0,c.t)("Invalid tag")}),"header"===e.type&&this.renderHeaderItem(e),e.children&&e.children.map(this.renderItem),t&&!s&&(0,m.tZ)(x,{children:(0,c.t)("No items found")})]},e.title)}))}),(0,m.BX)(C,{children:[(0,m.tZ)(I,{children:r&&(null==o?void 0:o.map((e=>{var t,s;return(0,m.BX)(R,{onClick:()=>r(e),children:[(0,m.tZ)(j,{children:(0,m.tZ)(p.Z,{value:null!==(t=null===(s=e.hotkeys)||void 0===s?void 0:s.display)&&void 0!==t?t:[]})}),(0,m.tZ)(q,{children:e.text})]},e.text)})))}),(0,m.tZ)(d.ZP,{size:"xsmall",href:"https://docs.sentry.io/product/sentry-basics/search/",children:"Read the docs"})]})]})}}g.displayName="SearchDropdown",(0,r.Z)(g,"defaultProps",{searchSubstring:"",onClick:function(){}});const f=g,v=(0,o.Z)("div",{target:"e7s74sr15"})("position:absolute;top:100%;left:-1px;right:-1px;z-index:",(e=>e.theme.zIndex.dropdown),";overflow:hidden;margin-top:",(0,u.Z)(1),";background:",(e=>e.theme.background),";box-shadow:",(e=>e.theme.dropShadowHeavy),";border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";"),y=(0,o.Z)("div",{target:"e7s74sr14"})("display:flex;justify-content:center;padding:",(0,u.Z)(1),";"),x=(0,o.Z)("div",{target:"e7s74sr13"})("display:flex;padding:",(0,u.Z)(1)," ",(0,u.Z)(2),";font-size:",(e=>e.theme.fontSizeLarge),";color:",(e=>e.theme.gray300),";&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}"),b=(0,o.Z)("li",{target:"e7s74sr12"})("&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}"),S=(0,o.Z)(b,{target:"e7s74sr11"})(""),Z=(0,o.Z)("header",{target:"e7s74sr10"})("display:flex;align-items:center;background-color:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.gray300),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";margin:0;padding:",(0,u.Z)(1)," ",(0,u.Z)(2),";&>svg{margin-right:",(0,u.Z)(1),";}"),k=(0,o.Z)("ul",{target:"e7s74sr9"})("padding-left:0;list-style:none;margin-bottom:0;",(e=>void 0!==e.maxMenuHeight?`\n        max-height: ${e.maxMenuHeight}px;\n        overflow-y: scroll;\n      `:"\n      height: auto;\n    "),";"),w=(0,o.Z)(b,{target:"e7s74sr8"})("scroll-margin:40px 0;font-size:",(e=>e.theme.fontSizeLarge),";padding:",(0,u.Z)(1)," ",(0,u.Z)(2),";cursor:pointer;&:hover,&.active{background:",(e=>e.theme.hover),";}"),T=(0,o.Z)("div",{target:"e7s74sr7"})("color:",(e=>e.theme.textColor),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";margin:0;line-height:",(e=>e.theme.text.lineHeightHeading),";",(e=>e.theme.overflowEllipsis),";"),A=(0,o.Z)("span",{target:"e7s74sr6"})("font-size:",(e=>e.theme.fontSizeSmall),";font-family:",(e=>e.theme.text.familyMono),";"),_=(0,o.Z)("span",{target:"e7s74sr5"})("font-size:",(e=>e.theme.fontSizeSmall),";font-family:",(e=>e.theme.text.familyMono),";float:right;color:",(e=>e.theme.gray300),";"),C=(0,o.Z)("div",{target:"e7s74sr4"})("width:100%;min-height:45px;background-color:",(e=>e.theme.backgroundSecondary),";border-top:1px solid ",(e=>e.theme.innerBorder),";flex-direction:row;display:flex;align-items:center;justify-content:space-between;padding:",(0,u.Z)(1),";flex-wrap:wrap;"),I=(0,o.Z)("div",{target:"e7s74sr3"})({name:"12zklrs",styles:"flex-direction:row;display:flex;align-items:center"}),R=(0,o.Z)("div",{target:"e7s74sr2"})("display:flex;flex-direction:row;align-items:center;height:auto;padding:0 ",(0,u.Z)(1.5),";cursor:pointer;:hover{border-radius:",(e=>e.theme.borderRadius),";background-color:",(e=>i()(e.theme.hover).darken(.02).string()),";}"),j=(0,o.Z)("span",{target:"e7s74sr1"})("color:",(e=>e.theme.gray300),";margin-right:",(0,u.Z)(.5),";"),q=(0,o.Z)("span",{target:"e7s74sr0"})("font-size:",(e=>e.theme.fontSizeSmall),";")},"./app/components/smartSearchBar/types.tsx":(e,t,s)=>{let r,o;s.d(t,{d:()=>o,q:()=>r}),function(e){e.DEFAULT="default",e.TAG_KEY="tag-key",e.TAG_VALUE="tag-value",e.TAG_OPERATOR="tag-operator",e.FIRST_RELEASE="first-release",e.INVALID_TAG="invalid-tag",e.RECENT_SEARCH="recent-search",e.PROPERTY="property"}(r||(r={})),function(e){e.Delete="delete",e.Negate="negate",e.Next="next",e.Previous="previous"}(o||(o={}))},"./app/components/smartSearchBar/utils.tsx":(e,t,s)=>{s.d(t,{To:()=>f,Um:()=>g,WF:()=>c,be:()=>l,iO:()=>h,oe:()=>p,th:()=>m}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("./app/components/searchSyntax/parser.tsx"),o=s("./app/icons/index.tsx"),n=s("./app/locale.tsx"),a=(s("./app/components/hotkeysLabel.tsx"),s("./app/components/smartSearchBar/types.tsx")),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0!==e.length&&" "!==e[e.length-1]?e+" ":e}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return" "===e[e.length-1]?e.slice(0,e.length-1):e}function u(e){return e===a.q.TAG_VALUE?(0,n.t)("Tag Values"):e===a.q.RECENT_SEARCH?(0,n.t)("Recent Searches"):e===a.q.DEFAULT?(0,n.t)("Common Search Terms"):e===a.q.TAG_OPERATOR?(0,n.t)("Operator Helpers"):e===a.q.PROPERTY?(0,n.t)("Properties"):(0,n.t)("Tags")}function d(e,t){if(e===a.q.RECENT_SEARCH)return(0,i.tZ)(o.jo,{size:"xs"});if(e===a.q.DEFAULT)return(0,i.tZ)(o.GK,{size:"xs"});switch(t){case"is":return(0,i.tZ)(o.oe,{size:"xs"});case"assigned":case"bookmarks":return(0,i.tZ)(o.qO,{size:"xs"});case"firstSeen":case"lastSeen":case"event.timestamp":return(0,i.tZ)(o.jo,{size:"xs"});default:return(0,i.tZ)(o.Ah,{size:"xs"})}}function p(e,t,s,r,l,c){l&&l>0&&(e=e.filter(((e,t)=>t<l||e.ignoreMaxSearchItems))),(c||0===c)&&(e=e.filter((e=>void 0!==e.value&&e.value.length<=c)),t&&(t=t.filter((e=>void 0!==e.value&&e.value.length<=c))));const p={title:u(r),type:r===a.q.INVALID_TAG?r:"header",icon:d(r,s),children:[...e]},h=t&&t.length>0?{title:(0,n.t)("Recent Searches"),type:"header",icon:(0,i.tZ)(o.jo,{size:"xs"}),children:[...t]}:void 0;return p.children&&p.children.length&&(p.children[0]={...p.children[0]}),{searchGroups:[p,...h?[h]:[]],flatSearchItems:[...e,...t||[]],activeSearchItem:-1}}function h(e,t){let s=t,r=[void 0,void 0];return e.find(((e,t)=>{let{children:o}=e;return!(!o||!o.length||(s<o.length?(r=[t,s],0):(s-=o.length,1)))})),r}function m(e){return{[r.oV.Default]:{type:a.q.TAG_OPERATOR,value:":",desc:`${e}:${(0,n.t)("[value]")}`,documentation:"is equal to"},[r.oV.GreaterThanEqual]:{type:a.q.TAG_OPERATOR,value:":>=",desc:`${e}:${(0,n.t)(">=[value]")}`,documentation:"is greater than or equal to"},[r.oV.LessThanEqual]:{type:a.q.TAG_OPERATOR,value:":<=",desc:`${e}:${(0,n.t)("<=[value]")}`,documentation:"is less than or equal to"},[r.oV.GreaterThan]:{type:a.q.TAG_OPERATOR,value:":>",desc:`${e}:${(0,n.t)(">[value]")}`,documentation:"is greater than"},[r.oV.LessThan]:{type:a.q.TAG_OPERATOR,value:":<",desc:`${e}:${(0,n.t)("<[value]")}`,documentation:"is less than"},[r.oV.Equal]:{type:a.q.TAG_OPERATOR,value:":=",desc:`${e}:${(0,n.t)("=[value]")}`,documentation:"is equal to"},[r.oV.NotEqual]:{type:a.q.TAG_OPERATOR,value:"!:",desc:`!${e}:${(0,n.t)("[value]")}`,documentation:"is not equal to"}}}function g(e){var t,s;const o=null!==(t=null===(s=e.invalid)||void 0===s?void 0:s.expectedType)&&void 0!==t?t:[e.filter],n=o.map((e=>{var t;return null!==(t=r.J$[e])&&void 0!==t?t:[]})),a=[...new Set([...o,...n.flat()])];return[...new Set(a.map((e=>r.iq[e].validOps)).flat())]}const f=[{text:"Delete",actionType:a.d.Delete,hotkeys:{actual:"option+backspace",display:"option+backspace"},canRunAction:e=>(null==e?void 0:e.type)===r.WU.Filter},{text:"Negate",actionType:a.d.Negate,hotkeys:{actual:["option+1","cmd+1"],display:"option+!"},canRunAction:e=>(null==e?void 0:e.type)===r.WU.Filter},{text:"Previous",actionType:a.d.Previous,hotkeys:{actual:["option+left"],display:"option+left"},canRunAction:(e,t)=>t>1||t>0&&(null==e?void 0:e.type)!==r.WU.Filter},{text:"Next",actionType:a.d.Next,hotkeys:{actual:["option+right"],display:"option+right"},canRunAction:(e,t)=>t>1||t>0&&(null==e?void 0:e.type)!==r.WU.Filter}]},"./app/stores/alertStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("../node_modules/reflux/src/index.js"),o=s("./app/utils.tsx"),n=s("./app/utils/localStorage.tsx");const a={alerts:[],count:0,init(){this.alerts=[],this.count=0},addAlert(e){if(!this.alerts.some((t=>t.id===e.id))||!e.noDuplicates){if((0,o.ri)(e.id)){const t=n.Z.getItem("alerts:muted");if("string"==typeof t&&t.length){const s=JSON.parse(t),r=Math.floor((new Date).valueOf()/1e3);for(const e in s)s.hasOwnProperty(e)&&s[e]<r&&delete s[e];if(n.Z.setItem("alerts:muted",JSON.stringify(s)),s.hasOwnProperty(e.id))return}}else(0,o.ri)(e.expireAfter)||(e.expireAfter=5e3);e.expireAfter&&!e.neverExpire&&window.setTimeout((()=>{this.closeAlert(e)}),e.expireAfter),e.key=this.count++,this.alerts=this.alerts.concat([e]),this.trigger(this.alerts)}},closeAlert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:604800;if((0,o.ri)(e.id)&&(0,o.ri)(t)){const s=Math.floor((new Date).valueOf()/1e3)+t,r=n.Z.getItem("alerts:muted");let o={};"string"==typeof r&&o.length&&(o=JSON.parse(r)),o[e.id]=s,n.Z.setItem("alerts:muted",JSON.stringify(o))}this.alerts=this.alerts.filter((t=>e!==t)),this.trigger(this.alerts)},getState(){return this.alerts}},i=(0,r.createStore)(a)},"./app/stores/tagStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/reflux/src/index.js"),o=s("./app/utils/discover/fields.tsx"),n=s("./app/utils/makeSafeRefluxStore.ts");const a=["event.type","platform","message","title","location","timestamp","release","user.id","user.username","user.email","user.ip","sdk.name","sdk.version","http.method","http.url","os.build","os.kernel_version","device.brand","device.locale","device.uuid","device.model_id","device.arch","device.orientation","geo.country_code","geo.region","geo.city","error.type","error.handled","error.unhandled","error.value","error.mechanism","stack.abs_path","stack.filename","stack.package","stack.module","stack.function","stack.stack_level"].reduce(((e,t)=>(e[t]={key:t,name:t},e)),{}),i={state:{},unsubscribeListeners:[],init(){this.state={}},getBuiltInTags:()=>({...a,...o.jg}),getIssueAttributes(){const e=["resolved","unresolved","ignored","assigned","for_review","unassigned","linked","unlinked"];return{is:{key:"is",name:"Status",values:e,maxSuggestedValues:e.length,predefined:!0},has:{key:"has",name:"Has Tag",values:Object.keys(this.state),predefined:!0},assigned:{key:"assigned",name:"Assigned To",values:[],predefined:!0},bookmarks:{key:"bookmarks",name:"Bookmarked By",values:[],predefined:!0},lastSeen:{key:"lastSeen",name:"Last Seen",values:["-1h","+1d","-1w"],predefined:!0},firstSeen:{key:"firstSeen",name:"First Seen",values:["-1h","+1d","-1w"],predefined:!0},firstRelease:{key:"firstRelease",name:"First Release",values:["latest"],predefined:!0},"event.timestamp":{key:"event.timestamp",name:"Event Timestamp",values:["2017-01-02",">=2017-01-02T01:00:00","<2017-01-02T02:00:00"],predefined:!0},timesSeen:{key:"timesSeen",name:"Times Seen",isInput:!0,values:[],predefined:!0},assigned_or_suggested:{key:"assigned_or_suggested",name:"Assigned or Suggested",isInput:!0,values:[],predefined:!0}}},reset(){this.state={},this.trigger(this.state)},getAllTags(){return this.state},getState(){return this.getAllTags()},loadTagsSuccess(e){const t=e.reduce(((e,t)=>(e[t.key]={values:[],...t},e)),{});this.state={...this.state,...t},this.trigger(this.state)}},l=(0,r.createStore)((0,n.Y)(i))},"./app/utils/getKeyCode.ts":(e,t,s)=>{s.d(t,{H:()=>n});const r={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},o={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},n=e=>r[e.toLowerCase()]||o[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},"./app/utils/useHotkeys.tsx":(e,t,s)=>{s.d(t,{y:()=>a}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/react/index.js"),o=s("./app/utils/getKeyCode.ts");const n=(e,t)=>{const s=(0,o.H)(e);switch(s){case(0,o.H)("command"):return t.metaKey;case(0,o.H)("shift"):return t.shiftKey;case(0,o.H)("ctrl"):return t.ctrlKey;case(0,o.H)("alt"):return t.altKey;default:return s===t.keyCode}};function a(e,t){const s=(0,r.useMemo)((()=>e),t),o=(0,r.useCallback)((e=>{for(const t of s){const s=Array.isArray(t.match)?t.match:[t.match];for(const r of s)if(r.split("+").every((t=>n(t,e))))return void t.callback(e)}}),[s]);(0,r.useEffect)((()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)})),[o])}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_members_tsx-app_actionCreators_tags_tsx-app_components_acl_feature_tsx-app-ced1d5.e67e58c8dff5bc093b32d901db71e0c0.js.map