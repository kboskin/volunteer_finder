(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_projects_tsx-app_components_modals_inviteMembersModal_index_tsx-app_utils_-ec36ab"],{"./app/actionCreators/projects.tsx":(e,t,s)=>{"use strict";s.d(t,{$L:()=>y,$P:()=>g,M9:()=>b,Nh:()=>m,Oe:()=>f,TA:()=>S,Vx:()=>u,bL:()=>w,iC:()=>j,mf:()=>Z,pK:()=>v,rR:()=>_,xV:()=>x}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js");var i=s("../node_modules/lodash/chunk.js"),r=s.n(i),o=s("../node_modules/lodash/debounce.js"),n=s.n(o),a=s("./app/actionCreators/indicator.tsx"),d=s("./app/actions/projectActions.tsx"),l=s("./app/locale.tsx"),c=s("./app/stores/projectsStatsStore.tsx");function u(e,t){d.Z.update(t.projectId,t.data);const s=`/projects/${t.orgId}/${t.projectId}/`;return e.requestPromise(s,{method:"PUT",data:t.data}).then((e=>(d.Z.updateSuccess(e),e)),(e=>{throw d.Z.updateError(e,t.projectId),e}))}function m(e,t){d.Z.loadStats(t.orgId,t.data);const s=`/organizations/${t.orgId}/stats/`;e.request(s,{query:t.query,success:e=>{d.Z.loadStatsSuccess(e)},error:e=>{d.Z.loadStatsError(e)}})}const p=new Set,h=n()(((e,t,s)=>{const i=c.Z.getAll(),o=Object.values(i).map((e=>{let{id:t}=e;return t})),n=Array.from(t).filter((e=>!o.includes(e)));if(!n.length)return void p.clear();const u=r()(n,10).map((t=>((e,t,s,i)=>{const r=`/organizations/${s}/projects/`,o={statsPeriod:"24h",query:t.map((e=>`id:${e}`)).join(" "),...i};return e.requestPromise(r,{query:o})})(e,t,s.orgId,s.query)));Promise.all(u).then((e=>{d.Z.loadStatsForProjectSuccess(e.reduce(((e,t)=>e.concat(t)),[]))})).catch((()=>{(0,a.Iw)((0,l.t)("Unable to fetch all project stats"))})),p.clear()}),50);function g(e,t,s){p.add(t),h(e,p,s)}function v(e){d.Z.setActive(e)}function _(e,t,s){const i=`/projects/${t}/${s.slug}/`;return d.Z.removeProject(s),e.requestPromise(i,{method:"DELETE"}).then((()=>{d.Z.removeProjectSuccess(s),(0,a.S9)((0,l._N)("[project] was successfully removed",{project:s.slug}))}),(e=>{throw d.Z.removeProjectError(s),(0,a.Iw)((0,l._N)("Error removing [project]",{project:s.slug})),e}))}function w(e,t,s,i){const r=`/projects/${t}/${s.slug}/transfer/`;return e.requestPromise(r,{method:"POST",data:{email:i}}).then((()=>{(0,a.S9)((0,l._N)("A request was sent to move [project] to a different organization",{project:s.slug}))}),(e=>{let t="";var i;throw e.status>=400&&e.status<500&&e.responseJSON&&(t=null===(i=e.responseJSON)||void 0===i?void 0:i.detail),t?(0,a.Iw)((0,l._N)("Error transferring [project]. [message]",{project:s.slug,message:t})):(0,a.Iw)((0,l._N)("Error transferring [project]",{project:s.slug})),e}))}function f(e,t,s,i){const r=`/projects/${t}/${s}/teams/${i.slug}/`;return(0,a.E3)(),d.Z.addTeam(i),e.requestPromise(r,{method:"POST"}).then((e=>{(0,a.S9)((0,l._N)("[team] has been added to the [project] project",{team:`#${i.slug}`,project:s})),d.Z.addTeamSuccess(i,s),d.Z.updateSuccess(e)}),(e=>{throw(0,a.Iw)((0,l._N)("Unable to add [team] to the [project] project",{team:`#${i.slug}`,project:s})),d.Z.addTeamError(),e}))}function b(e,t,s,i){const r=`/projects/${t}/${s}/teams/${i}/`;return(0,a.E3)(),d.Z.removeTeam(i),e.requestPromise(r,{method:"DELETE"}).then((e=>{(0,a.S9)((0,l._N)("[team] has been removed from the [project] project",{team:`#${i}`,project:s})),d.Z.removeTeamSuccess(i,s),d.Z.updateSuccess(e)}),(e=>{throw(0,a.Iw)((0,l._N)("Unable to remove [team] from the [project] project",{team:`#${i}`,project:s})),d.Z.removeTeamError(e),e}))}function S(e,t){d.Z.changeSlug(e,t)}function y(e,t,s,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return e.requestPromise(`/teams/${t}/${s}/projects/`,{method:"POST",data:{name:i,platform:r,default_rules:o.defaultRules}})}function j(e,t,s,i){return e.requestPromise(`/projects/${t}/${s}/docs/${i}/`)}function x(e,t){return e.requestPromise(`/organizations/${t}/projects-count/`)}async function Z(e,t,s){return(await e.requestPromise(`/organizations/${t}/releases/stats/`,{method:"GET",query:{statsPeriod:"90d",project:s,per_page:1}})).length>0}},"./app/actionCreators/teams.tsx":(e,t,s)=>{"use strict";s.d(t,{Cm:()=>p,PX:()=>l,s:()=>m,tT:()=>h,um:()=>u,z_:()=>c}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("./app/actionCreators/indicator.tsx"),r=s("./app/actions/teamActions.tsx"),o=s("./app/locale.tsx"),n=s("./app/utils/callIfFunction.tsx");if("app"==s.j)var a=s("./app/utils/guid.tsx");const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var s=arguments.length,i=new Array(s>2?s-2:0),r=2;r<s;r++)i[r-2]=arguments[r];(0,n.g)(e[t],...i)};async function l(e,t){const s=await e.requestPromise(`/organizations/${t.orgId}/user-teams/`);r.Z.loadUserTeams(s)}function c(e,t){r.Z.updateSuccess(e,t)}function u(e,t,s){var i;const o=`/organizations/${t.orgId}/members/${null!==(i=t.memberId)&&void 0!==i?i:"me"}/teams/${t.teamId}/`,n=(0,a.E)();return r.Z.update(n,t.teamId),e.request(o,{method:"POST",success:e=>{r.Z.updateSuccess(t.teamId,e),d(s,"success",e)},error:e=>{r.Z.updateError(n,t.teamId,e),d(s,"error",e)}})}function m(e,t,s){const i=`/organizations/${t.orgId}/members/${t.memberId||"me"}/teams/${t.teamId}/`,o=(0,a.E)();return r.Z.update(o,t.teamId),e.request(i,{method:"DELETE",success:e=>{r.Z.updateSuccess(t.teamId,e),d(s,"success",e)},error:e=>{r.Z.updateError(o,t.teamId,e),d(s,"error",e)}})}function p(e,t,s){return r.Z.createTeam(t),e.requestPromise(`/organizations/${s.orgId}/teams/`,{method:"POST",data:t}).then((e=>(r.Z.createTeamSuccess(e),(0,i.S9)((0,o._N)("[team] has been added to the [organization] organization",{team:`#${e.slug}`,organization:s.orgId})),e)),(e=>{throw r.Z.createTeamError(t.slug,e),(0,i.Iw)((0,o._N)("Unable to create [team] in the [organization] organization",{team:`#${t.slug}`,organization:s.orgId})),e}))}function h(e,t){return r.Z.removeTeam(t.teamId),e.requestPromise(`/teams/${t.orgId}/${t.teamId}/`,{method:"DELETE"}).then((e=>(r.Z.removeTeamSuccess(t.teamId,e),(0,i.S9)((0,o._N)("[team] has been removed from the [organization] organization",{team:`#${t.teamId}`,organization:t.orgId})),e)),(e=>{throw r.Z.removeTeamError(t.teamId,e),(0,i.Iw)((0,o._N)("Unable to remove [team] from the [organization] organization",{team:`#${t.teamId}`,organization:t.orgId})),e}))}},"./app/actions/organizationActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const i=(0,s("../node_modules/reflux/src/index.js").createActions)(["reset","fetchOrgError","update"])},"./app/actions/organizationsActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const i=(0,s("../node_modules/reflux/src/index.js").createActions)(["update","setActive","changeSlug","remove","removeSuccess","removeError"])},"./app/actions/projectActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const i=(0,s("../node_modules/reflux/src/index.js").createActions)(["addTeam","addTeamError","addTeamSuccess","changeSlug","createSuccess","loadProjects","loadStats","loadStatsError","loadStatsForProjectSuccess","loadStatsSuccess","removeProject","removeProjectError","removeProjectSuccess","removeTeam","removeTeamError","removeTeamSuccess","reset","setActive","update","updateError","updateSuccess"])},"./app/components/hookOrDefault.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/stores/hookStore.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=function(e){let{hookName:t,defaultComponent:s,defaultComponentPromise:a}=e;class d extends r.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{hooks:o.Z.get(t)}),(0,i.Z)(this,"unlistener",o.Z.listen(((e,s)=>e===t&&this.setState({hooks:s})),void 0))}componentWillUnmount(){var e;null===(e=this.unlistener)||void 0===e||e.call(this)}get defaultComponent(){if(a){const e=(0,r.lazy)(a);return t=>(0,n.tZ)(r.Suspense,{fallback:null,children:(0,n.tZ)(e,{...t})})}return s}render(){var e,t;const s=this.state.hooks&&this.state.hooks.length,i=null===(e=(t=this.state.hooks)[0])||void 0===e?void 0:e.call(t),r=s&&i?i:this.defaultComponent;return r?(0,n.tZ)(r,{...this.props}):null}}return d.displayName="HookOrDefaultComponent",(0,i.Z)(d,"displayName",`HookOrDefaultComponent(${t})`),d}},"./app/components/modals/inviteMembersModal/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>G,modalCss:()=>W});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a=s("./app/components/asyncComponent.tsx"),d=s("./app/components/button.tsx"),l=s("./app/components/hookOrDefault.tsx"),c=s("./app/components/loadingIndicator.tsx"),u=s("./app/components/questionTooltip.tsx"),m=s("./app/constants/index.tsx"),p=s("./app/icons/index.tsx"),h=s("./app/locale.tsx"),g=s("./app/styles/space.tsx"),v=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),_=s("./app/utils/guid.tsx"),w=s("./app/utils/withLatestContext.tsx"),f=s("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),b=s("./app/components/forms/selectControl.tsx"),S=s("./app/components/forms/teamSelector.tsx"),y=s("./app/components/roleSelectControl.tsx"),j=s("./app/icons/iconClose.tsx"),x=s("../node_modules/react-select/dist/index-4322c0ed.browser.esm.js"),Z=s("./app/components/tooltip.tsx"),I=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function C(e,t){const{children:s,...i}=t,r=e&&e.error,o=void 0===e?s:(0,I.tZ)(Z.Z,{disabled:!r,title:r,children:(0,I.BX)(k,{children:[s,!e.sent&&!e.error&&(0,I.tZ)(z,{}),e.error&&(0,I.tZ)(p.FC,{size:"10px"}),e.sent&&(0,I.tZ)(p.DL,{size:"10px",color:"success"})]})});return(0,I.tZ)(x.y.MultiValue,{...i,children:o})}C.displayName="renderEmailValue";const k=(0,r.Z)("div",{target:"em6kqk41"})("display:inline-grid;grid-auto-flow:column;gap:",(0,g.Z)(.5),";align-items:center;"),z=(0,r.Z)(c.Z,{target:"em6kqk40"})({name:"440peb",styles:"margin:0;.loading-indicator{border-width:2px;}"});z.defaultProps={hideMessage:!0,size:14};const P=C;function E(e){return e.map((e=>({value:e,label:e})))}class T extends o.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{inputValue:""}),(0,i.Z)(this,"handleInputChange",(e=>{this.setState({inputValue:e})})),(0,i.Z)(this,"handleKeyDown",(e=>{const{onChangeEmails:t,emails:s}=this.props,{inputValue:i}=this.state;switch(e.key){case"Enter":case",":case" ":t([...E(s),{label:i,value:i}]),this.setState({inputValue:""}),e.preventDefault()}}))}render(){const{className:e,disabled:t,emails:s,role:i,teams:r,roleOptions:o,roleDisabledUnallowed:n,inviteStatus:a,onRemove:l,onChangeEmails:c,onChangeRole:u,onChangeTeams:m,disableRemove:p,theme:g}=this.props;return(0,I.BX)("div",{className:e,children:[(0,I.tZ)(b.Z,{"data-test-id":"select-emails",disabled:t,placeholder:(0,h.t)("Enter one or more emails"),inputValue:this.state.inputValue,value:s,components:{MultiValue:e=>function(e,t){return P(t[e.data.value],e)}(e,a),DropdownIndicator:()=>null},options:E(s),onBlur:e=>e.target.value&&c([...E(s),{label:e.target.value,value:e.target.value}]),styles:A(g,a),onInputChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onChange:c,multiple:!0,creatable:!0,clearable:!0,menuIsOpen:!1}),(0,I.tZ)(y.Z,{"data-test-id":"select-role",disabled:t,value:i,roles:o,disableUnallowed:n,onChange:u}),(0,I.tZ)(S.Z,{"data-test-id":"select-teams",disabled:t,placeholder:(0,h.t)("Add to teams…"),value:r,onChange:m,multiple:!0,clearable:!0}),(0,I.tZ)(d.ZP,{borderless:!0,icon:(0,I.tZ)(j.b,{}),size:"zero",onClick:l,disabled:p,"aria-label":(0,h.t)("Remove")})]})}}function A(e,t){return{multiValue:(s,i)=>{let{data:r}=i;const o=t[r.value];return{...s,...null!=o&&o.error?{color:e.red300,border:`1px solid ${e.red300}`,backgroundColor:e.red100}:{}}},multiValueLabel:(s,i)=>{let{data:r}=i;const o=t[r.value];return{...s,pointerEvents:"all",...null!=o&&o.error?{color:e.red300}:{}}},multiValueRemove:(s,i)=>{let{data:r}=i;const o=t[r.value];return{...s,...null!=o&&o.error?{borderLeft:`1px solid ${e.red300}`,":hover":{backgroundColor:e.red100,color:e.red300}}:{}}}}}T.displayName="InviteRowControl";const D=(0,f.d)(T),O=(0,l.Z)({hookName:"member-invite-modal:customization",defaultComponent:e=>{let{onSendInvites:t,children:s}=e;return s({sendInvites:t,canSend:!0})}});class q extends a.Z{constructor(){super(...arguments),(0,i.Z)(this,"sessionId",""),(0,i.Z)(this,"reset",(()=>{this.setState({pendingInvites:[this.inviteTemplate],inviteStatus:{},complete:!1,sendingInvites:!1}),(0,v.Z)("invite_modal.add_more",{organization:this.props.organization,modal_session:this.sessionId})})),(0,i.Z)(this,"sendInvite",(async e=>{const{slug:t}=this.props.organization,s={email:e.email,teams:[...e.teams],role:e.role};this.setState((t=>({inviteStatus:{...t.inviteStatus,[e.email]:{sent:!1}}})));const i=this.willInvite?`/organizations/${t}/members/`:`/organizations/${t}/invite-requests/`;try{await this.api.requestPromise(i,{method:"POST",data:s})}catch(t){const s=t.responseJSON,i=!(!s||!s.email)&&(Array.isArray(s.email)?s.email[0]:s.email)||(0,h.t)("Could not invite user");return void this.setState((t=>({inviteStatus:{...t.inviteStatus,[e.email]:{sent:!1,error:i}}})))}this.setState((t=>({inviteStatus:{...t.inviteStatus,[e.email]:{sent:!0}}})))})),(0,i.Z)(this,"sendInvites",(async()=>{this.setState({sendingInvites:!0}),await Promise.all(this.invites.map(this.sendInvite)),this.setState({sendingInvites:!1,complete:!0}),(0,v.Z)(this.willInvite?"invite_modal.invites_sent":"invite_modal.requests_sent",{organization:this.props.organization,modal_session:this.sessionId})})),(0,i.Z)(this,"addInviteRow",(()=>this.setState((e=>({pendingInvites:[...e.pendingInvites,this.inviteTemplate]})))))}get inviteTemplate(){return{emails:new Set,teams:new Set,role:"member"}}componentDidMount(){this.sessionId=(0,_.E)();const{organization:e,source:t}=this.props;(0,v.Z)("invite_modal.opened",{organization:e,modal_session:this.sessionId,can_invite:this.willInvite,source:t})}getEndpoints(){return[["member",`/organizations/${this.props.organization.slug}/members/me/`]]}getDefaultState(){const e=super.getDefaultState(),{initialData:t}=this.props;return{...e,pendingInvites:t?t.map((e=>({...this.inviteTemplate,...e}))):[this.inviteTemplate],inviteStatus:{},complete:!1,sendingInvites:!1}}setEmails(e,t){this.setState((s=>{const i=[...s.pendingInvites];return i[t]={...i[t],emails:new Set(e)},{pendingInvites:i}}))}setTeams(e,t){this.setState((s=>{const i=[...s.pendingInvites];return i[t]={...i[t],teams:new Set(e)},{pendingInvites:i}}))}setRole(e,t){this.setState((s=>{const i=[...s.pendingInvites];return i[t]={...i[t],role:e},{pendingInvites:i}}))}removeInviteRow(e){this.setState((t=>{const s=[...t.pendingInvites];return s.splice(e,1),{pendingInvites:s}}))}get invites(){return this.state.pendingInvites.reduce(((e,t)=>[...e,...[...t.emails].map((e=>({email:e,teams:t.teams,role:t.role})))]),[])}get hasDuplicateEmails(){const e=this.invites.map((e=>e.email));return e.length!==new Set(e).size}get isValidInvites(){return this.invites.length>0&&!this.hasDuplicateEmails}get statusMessage(){const{sendingInvites:e,complete:t,inviteStatus:s}=this.state;if(e)return(0,I.BX)(B,{children:[(0,I.tZ)(c.Z,{mini:!0,relative:!0,hideMessage:!0,size:16}),this.willInvite?(0,h.t)("Sending organization invitations..."):(0,h.t)("Sending invite requests...")]});if(t){const e=Object.values(s),t=e.filter((e=>e.sent)).length,i=e.filter((e=>e.error)).length;if(this.willInvite){const e={invites:(0,I.tZ)("strong",{children:(0,h.tn)("%s invite","%s invites",t)}),failed:i};return(0,I.BX)(B,{status:"success",children:[(0,I.tZ)(p.DL,{size:"sm"}),i>0?(0,h._N)("Sent [invites], [failed] failed to send.",e):(0,h._N)("Sent [invites]",e)]})}const r={inviteRequests:(0,I.tZ)("strong",{children:(0,h.tn)("%s invite request","%s invite requests",t)}),failed:i};return(0,I.BX)(B,{status:"success",children:[(0,I.tZ)(p.DL,{size:"sm"}),i>0?(0,h._N)("[inviteRequests] pending approval, [failed] failed to send.",r):(0,h._N)("[inviteRequests] pending approval",r)]})}return this.hasDuplicateEmails?(0,I.BX)(B,{status:"error",children:[(0,I.tZ)(p.FC,{size:"sm"}),(0,h.t)("Duplicate emails between invite rows.")]}):null}get willInvite(){var e;return null===(e=this.props.organization.access)||void 0===e?void 0:e.includes("member:write")}get inviteButtonLabel(){if(this.invites.length>0){const e=this.invites.length,t=1===e?(0,h.t)("Send invite"):(0,h.t)("Send invites (%s)",e),s=1===e?(0,h.t)("Send invite request"):(0,h.t)("Send invite requests (%s)",e);return this.willInvite?t:s}return this.willInvite?(0,h.t)("Send invite"):(0,h.t)("Send invite request")}render(){const{Footer:e,closeModal:t,organization:s}=this.props,{pendingInvites:i,sendingInvites:r,complete:n,inviteStatus:a,member:l}=this.state,c=r||n;return(0,I.tZ)(O,{organization:s,willInvite:this.willInvite,onSendInvites:this.sendInvites,children:s=>{let{sendInvites:r,canSend:g,headerInfo:_}=s;return(0,I.BX)(o.Fragment,{children:[(0,I.BX)(V,{children:[(0,h.t)("Invite New Members"),!this.willInvite&&(0,I.tZ)(u.Z,{title:(0,h.t)("You do not have permission to directly invite members. Email\n                 addresses entered here will be forwarded to organization\n                 managers and owners; they will be prompted to approve the\n                 invitation."),size:"sm",position:"bottom"})]}),(0,I.tZ)(M,{children:this.willInvite?(0,h.t)("Invite new members by email to join your organization."):(0,h.t)("You don’t have permission to directly invite users, but we'll send a request to your organization owner and manager for review.")}),_,(0,I.BX)($,{children:[(0,I.tZ)("div",{children:(0,h.t)("Email addresses")}),(0,I.tZ)("div",{children:(0,h.t)("Role")}),(0,I.tZ)("div",{children:(0,h.t)("Add to team")})]}),i.map(((e,t)=>{let{emails:s,role:r,teams:o}=e;return(0,I.tZ)(N,{disabled:c,emails:[...s],role:r,teams:[...o],roleOptions:l?l.roles:m.v6,roleDisabledUnallowed:this.willInvite,inviteStatus:a,onRemove:()=>this.removeInviteRow(t),onChangeEmails:e=>{var s;return this.setEmails(null!==(s=null==e?void 0:e.map((e=>e.value)))&&void 0!==s?s:[],t)},onChangeRole:e=>this.setRole(null==e?void 0:e.value,t),onChangeTeams:e=>this.setTeams(e?e.map((e=>e.value)):[],t),disableRemove:c||1===i.length},t)})),(0,I.tZ)(R,{disabled:c,priority:"link",onClick:this.addInviteRow,icon:(0,I.tZ)(p.N_,{size:"xs",isCircled:!0}),children:(0,h.t)("Add another")}),(0,I.tZ)(e,{children:(0,I.BX)(U,{children:[(0,I.tZ)("div",{children:this.statusMessage}),n?(0,I.BX)(o.Fragment,{children:[(0,I.tZ)(d.ZP,{"data-test-id":"send-more",size:"small",onClick:this.reset,children:(0,h.t)("Send more invites")}),(0,I.tZ)(d.ZP,{"data-test-id":"close",priority:"primary",size:"small",onClick:()=>{(0,v.Z)("invite_modal.closed",{organization:this.props.organization,modal_session:this.sessionId}),t()},children:(0,h.t)("Close")})]}):(0,I.BX)(o.Fragment,{children:[(0,I.tZ)(d.ZP,{"data-test-id":"cancel",size:"small",onClick:t,disabled:c,children:(0,h.t)("Cancel")}),(0,I.tZ)(d.ZP,{size:"small","data-test-id":"send-invites",priority:"primary",disabled:!g||!this.isValidInvites||c,onClick:r,children:this.inviteButtonLabel})]})]})})]})}})}}q.displayName="InviteMembersModal";const V=(0,r.Z)("h1",{target:"e1rmyp3r6"})("display:inline-grid;gap:",(0,g.Z)(1.5),";grid-auto-flow:column;align-items:center;font-weight:400;font-size:",(e=>e.theme.headerFontSize),";margin-top:0;margin-bottom:",(0,g.Z)(.75),";"),M=(0,r.Z)("p",{target:"e1rmyp3r5"})("color:",(e=>e.theme.subText),";margin-bottom:",(0,g.Z)(3),";"),L=(0,n.iv)("display:grid;gap:",(0,g.Z)(1.5),";grid-template-columns:3fr 180px 2fr max-content;",""),$=(0,r.Z)("div",{target:"e1rmyp3r4"})(L,";margin-bottom:",(0,g.Z)(1),";font-weight:600;text-transform:uppercase;font-size:",(e=>e.theme.fontSizeSmall),";"),N=(0,r.Z)(D,{target:"e1rmyp3r3"})(L,";margin-bottom:",(0,g.Z)(1.5),";"),R=(0,r.Z)(d.ZP,{target:"e1rmyp3r2"})("margin-top:",(0,g.Z)(3),";"),U=(0,r.Z)("div",{target:"e1rmyp3r1"})("width:100%;display:grid;grid-template-columns:1fr max-content max-content;gap:",(0,g.Z)(1),";"),B=(0,r.Z)("div",{target:"e1rmyp3r0"})("display:grid;grid-template-columns:max-content max-content;gap:",(0,g.Z)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>"error"===e.status?e.theme.red300:e.theme.gray400),";>:first-child{",(e=>"success"===e.status&&`color: ${e.theme.green300}`),";}"),W={name:"onfzye",styles:"width:100%;max-width:800px;margin:50px auto"},G=(0,w.Z)(q)},"./app/components/roleSelectControl.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/forms/selectControl.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){let{roles:t,disableUnallowed:s,...i}=e;return(0,o.tZ)(r.Z,{options:null==t?void 0:t.map((e=>({value:e.id,label:e.name,disabled:s&&!e.allowed,details:(0,o.tZ)(d,{children:e.desc})}))),showDividers:!0,...i})}n.displayName="RoleSelectControl";const a=n,d=(0,i.Z)("span",{target:"e1cjlayn0"})({name:"vad6xm",styles:"display:inline-block;width:20rem"})},"./app/stores/latestContextStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var i=s("../node_modules/reflux/src/index.js"),r=s("./app/actions/organizationActions.tsx"),o=s("./app/actions/organizationsActions.tsx"),n=s("./app/actions/projectActions.tsx"),a=s("./app/utils/makeSafeRefluxStore.ts");const d={unsubscribeListeners:[],state:{project:null,lastProject:null,organization:null,environment:null},get(){return this.state},init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(n.Z.setActive,this.onSetActiveProject)),this.unsubscribeListeners.push(this.listenTo(n.Z.updateSuccess,this.onUpdateProject)),this.unsubscribeListeners.push(this.listenTo(o.Z.setActive,this.onSetActiveOrganization)),this.unsubscribeListeners.push(this.listenTo(o.Z.update,this.onUpdateOrganization)),this.unsubscribeListeners.push(this.listenTo(r.Z.update,this.onUpdateOrganization))},reset(){return this.state={project:null,lastProject:null,organization:null,environment:null},this.state},onUpdateOrganization(e){this.state.organization&&e&&e.slug===this.state.organization.slug&&(this.state={...this.state,organization:e},this.trigger(this.state))},onSetActiveOrganization(e){e?this.state.organization&&this.state.organization.slug===e.slug||(this.state={...this.state,organization:e,project:null}):this.state={...this.state,organization:null,project:null},this.trigger(this.state)},onSetActiveProject(e){e?this.state.project&&this.state.project.slug===e.slug||(this.state={...this.state,lastProject:this.state.project,project:e}):this.state={...this.state,lastProject:this.state.project,project:null},this.trigger(this.state)},onUpdateProject(e){this.state={...this.state,project:e},this.trigger(this.state)}},l=(0,i.createStore)((0,a.Y)(d))},"./app/stores/organizationStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d}),s("../node_modules/core-js/modules/es.string.replace.js");var i=s("../node_modules/reflux/src/index.js"),r=s("./app/actions/organizationActions.tsx"),o=s("./app/constants/index.tsx"),n=s("./app/utils/makeSafeRefluxStore.ts");const a={unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(r.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(r.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(r.Z.fetchOrgError,this.onFetchOrgError))},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=o.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=o.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},d=(0,i.createStore)((0,n.Y)(a))},"./app/stores/organizationsStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("../node_modules/reflux/src/index.js"),r=s("./app/actions/organizationsActions.tsx"),o=s("./app/utils/makeSafeRefluxStore.ts");const n={listenables:[r.Z],state:[],loaded:!1,getInitialState(){return this.state},init(){this.state=[],this.loaded=!1},onUpdate(e){this.add(e)},onChangeSlug(e,t){e.slug!==t.slug&&(this.remove(e.slug),this.add(t))},onRemoveSuccess(e){this.remove(e)},get(e){return this.state.find((t=>t.slug===e))},getAll(){return this.state},remove(e){this.state=this.state.filter((t=>e!==t.slug)),this.trigger(this.state)},add(e){let t=!1;this.state.forEach(((s,i)=>{s.id===e.id&&(e={...s,...e},this.state[i]=e,t=!0)})),t||(this.state=[...this.state,e]),this.trigger(this.state)},load(e){this.state=e,this.loaded=!0,this.trigger(e)}},a=(0,i.createStore)((0,o.Y)(n))},"./app/stores/projectsStatsStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("../node_modules/reflux/src/index.js"),r=s("./app/actions/projectActions.tsx"),o=s("./app/utils/makeSafeRefluxStore.ts");const n={itemsBySlug:{},unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(r.Z.loadStatsForProjectSuccess,this.onStatsLoadSuccess)),this.unsubscribeListeners.push(this.listenTo(r.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(r.Z.updateError,this.onUpdateError))},getInitialState(){return this.itemsBySlug},reset(){this.itemsBySlug={},this.updatingItems=new Map},onStatsLoadSuccess(e){e.forEach((e=>{this.itemsBySlug[e.slug]=e})),this.trigger(this.itemsBySlug)},onUpdate(e,t){const s=this.getBySlug(e);if(this.updatingItems.set(e,s),!s)return;const i={...s,...t};this.itemsBySlug={...this.itemsBySlug,[s.slug]:i},this.trigger(this.itemsBySlug)},onUpdateSuccess(e){this.updatingItems.delete(e.slug)},onUpdateError(e,t){const s=this.updatingItems.get(t);s&&(this.updatingItems.delete(t),this.itemsBySlug={...this.itemsBySlug,[s.slug]:{...s}},this.trigger(this.itemsBySlug))},getAll(){return this.itemsBySlug},getBySlug(e){return this.itemsBySlug[e]}},a=(0,i.createStore)((0,o.Y)(n))},"./app/utils/analytics/coreuiAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{J:()=>i});const i={"page_filters.pin_click":"Page Filters: Pin Button Clicked"}},"./app/utils/analytics/dashboardsAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});const i={"dashboards_views.query_selector.opened":"Dashboards2: Query Selector opened for Widget","dashboards_views.query_selector.selected":"Dashboards2: Query selected in Query Selector","dashboards_views.open_in_discover.opened":"Dashboards2: Widget Opened In Discover","dashboards_views.widget_library.add":"Dashboards2: Number of prebuilt widgets added","dashboards_views.widget_library.add_widget":"Dashboards2: Title of prebuilt widget added","dashboards_views.widget_library.switch_tab":"Dashboards2: Widget Library tab switched","dashboards_views.widget_library.opened":"Dashboards2: Add Widget Library opened","dashboards_manage.search":"Dashboards Manager: Search","dashboards_manage.change_sort":"Dashboards Manager: Sort By Changed","dashboards_manage.create.start":"Dashboards Manager: Dashboard Create Started","dashboards_manage.templates.toggle":"Dashboards Manager: Template Toggle Changed","dashboards_manage.templates.add":"Dashboards Manager: Template Added","dashboards_manage.templates.preview":"Dashboards Manager: Template Previewed","dashboards_views.widget_viewer.edit":"Widget Viewer: Edit Widget Modal Opened","dashboards_views.widget_viewer.open":"Widget Viewer: Opened","dashboards_views.widget_viewer.open_source":"Widget Viewer: Opened in Discover/Issues","dashboards_views.widget_viewer.paginate":"Widget Viewer: Paginate","dashboards_views.widget_viewer.select_query":"Widget Viewer: Query Selected","dashboards_views.widget_viewer.sort":"Widget Viewer: Table Sorted","dashboards_views.widget_viewer.toggle_legend":"Widget Viewer: Legend Toggled","dashboards_views.widget_viewer.zoom":"Widget Viewer: Chart zoomed","dashboards_views.edit_widget_modal.confirm":"Dashboards2: Edit Dashboard Widget modal form submitted","dashboards_views.edit_widget_modal.opened":"Dashboards2: Edit Widget Modal Opened","dashboards_views.add_widget_modal.opened":"Dashboards2: Add Widget Modal opened","dashboards_views.add_widget_modal.change":"Dashboards2: Field changed in Add Widget Modal","dashboards_views.add_widget_modal.confirm":"Dashboards2: Add Widget to Dashboard modal form submitted","dashboards_views.add_widget_modal.save":"Dashboards2: Widget saved directly to Dashboard from Add Widget to Dashboard modal","dashboards_views.widget_builder.change":"Widget Builder: Field changed","dashboards_views.widget_builder.save":"Widget Builder: Form submitted","dashboards_views.widget_builder.opened":"Widget Builder: Page opened"}},"./app/utils/analytics/discoverAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{J:()=>i});const i={"discover_views.add_to_dashboard.modal_open":"Discover2: Add to Dashboard modal opened","discover_views.add_to_dashboard.confirm":"Discover2: Add to Dashboard modal form submitted"}},"./app/utils/analytics/growthAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});const i={"growth.clicked_mobile_prompt_setup_project":"Growth: Clicked Mobile Prompt Setup Project","growth.clicked_mobile_prompt_ask_teammate":"Growth: Clicked Mobile Prompt Ask Teammate","growth.submitted_mobile_prompt_ask_teammate":"Growth: Submitted Mobile Prompt Ask Teammate","growth.demo_click_get_started":"Growth: Demo Click Get Started","growth.demo_click_docs":"Growth: Demo Click Docs","growth.demo_click_request_demo":"Growth: Demo Click Request Demo","growth.clicked_sidebar":"Growth: Clicked Sidebar","growth.onboarding_load_choose_platform":"Growth: Onboarding Load Choose Platform Page","growth.onboarding_set_up_your_project":"Growth: Onboarding Click Set Up Your Project","growth.onboarding_set_up_your_projects":"Growth: Onboarding Click Set Up Your Projects","growth.onboarding_set_up_your_integrations":"Growth: Onboarding Click Set Up Your Integrations","growth.select_platform":"Growth: Onboarding Choose Platform","growth.platformpicker_category":"Growth: Onboarding Platform Category","growth.platformpicker_search":"Growth: Onboarding Platform Search","growth.onboarding_start_onboarding":"Growth: Onboarding Start Onboarding","growth.onboarding_clicked_skip":"Growth: Onboarding Clicked Skip","growth.onboarding_take_to_error":"Growth: Onboarding Take to Error","growth.onboarding_view_full_docs":"Growth: Onboarding View Full Docs","growth.onboarding_view_sample_event":"Growth: Onboarding View Sample Event","growth.onboarding_clicked_instrument_app":"Growth: Onboarding Clicked Instrument App","growth.onboarding_clicked_setup_platform_later":"Growth: Onboarding Clicked Setup Platform Later","growth.onboarding_clicked_setup_integration_later":"Growth: Onboarding Clicked Setup Integration Later","growth.onboarding_quick_start_cta":"Growth: Quick Start Onboarding CTA","growth.onboarding_quick_start_cta_integration":"Growth: Quick Start Onboarding Integration CTA","invite_request.approved":"Invite Request Approved","invite_request.denied":"Invite Request Denied","growth.demo_modal_clicked_signup":"Growth: Demo Modal Clicked Signup","growth.demo_modal_clicked_continue":"Growth: Demo Modal Clicked Continue","growth.clicked_enter_sandbox":"Growth: Clicked Enter Sandbox","growth.onboarding_clicked_project_in_sidebar":"Growth: Clicked Project Sidebar","growth.onboarding_clicked_integration_in_sidebar":"Growth: Clicked Integration Sidebar","growth.sample_transaction_docs_link_clicked":"Growth: Sample Transaction Docs Link Clicked","growth.sample_error_onboarding_link_clicked":"Growth: Sample Error Onboarding Link Clicked","growth.issue_open_in_discover_btn_clicked":"Growth: Open in Discover Button in Issue Details clicked","member_settings_page.loaded":"Member Settings Page Loaded","invite_modal.opened":"Invite Modal: Opened","invite_modal.closed":"Invite Modal: Closed","invite_modal.add_more":"Invite Modal: Add More","invite_modal.invites_sent":"Invite Modal: Invites Sent","invite_modal.requests_sent":"Invite Modal: Requests Sent","sdk_updates.seen":"SDK Updates: Seen","sdk_updates.snoozed":"SDK Updates: Snoozed","sdk_updates.clicked":"SDK Updates: Clicked","onboarding.wizard_opened":"Onboarding Wizard Opened","onboarding.wizard_clicked":"Onboarding Wizard Clicked","sample_event.button_viewed":null,"sample_event.created":"Sample Event Created","sample_event.failed":"Sample Event Failed"}},"./app/utils/analytics/issueAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>i});const i={"event_cause.viewed":null,"event_cause.docs_clicked":"Event Cause Docs Clicked","event_cause.snoozed":"Event Cause Snoozed","event_cause.dismissed":"Event Cause Dismissed","issue_error_banner.viewed":"Issue Error Banner Viewed","issues_tab.viewed":"Viewed Issues Tab","issue_search.failed":"Issue Search: Failed","issue.search_sidebar_clicked":"Issue Search Sidebar Clicked","inbox_tab.issue_clicked":"Clicked Issue from Inbox Tab","issues_stream.issue_clicked":"Clicked Issue from Issues Stream","issues_stream.issue_assigned":"Assigned Issue from Issues Stream","issue.shared_publicly":"Issue Shared Publicly",resolve_issue:"Resolve Issue","tag.clicked":"Tag: Clicked"}},"./app/utils/analytics/performanceAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>i});const i={"performance_views.create_sample_transaction":"Growth: Performance Sample Transaction","performance_views.tour.start":"Performance Views: Tour Start","performance_views.tour.advance":"Performance Views: Tour Advance","performance_views.tour.close":"Performance Views: Tour Close","performance_views.landingv2.transactions.sort":"Performance Views: Landing Transactions Sorted","performance_views.overview.navigate.summary":"Performance Views: Overview view summary","performance_views.overview.cellaction":"Performance Views: Cell Action Clicked","performance_views.landingv3.widget.interaction":"Performance Views: Landing Widget Interaction","performance_views.landingv3.widget.switch":"Performance Views: Landing Widget Switched","performance_views.landingv3.batch_queries":"Performance Views: Landing Query Batching","performance_views.landingv3.display_change":"Performance Views: Switch Landing Tabs","performance_views.landingv3.table_pagination":"Performance Views: Landing Page Transactions Table Page Changed","performance_views.span_summary.change_chart":"Performance Views: Span Summary displayed chart changed","performance_views.spans.change_op":"Performance Views: Change span operation name","performance_views.spans.change_sort":"Performance Views: Change span sort column","performance_views.overview.view":"Performance Views: Transaction overview view","performance_views.overview.search":"Performance Views: Transaction overview search","performance_views.vital_detail.view":"Performance Views: Vital Detail viewed","performance_views.trace_view.view":"Performance Views: Trace View viewed","performance_views.transaction_summary.change_chart_display":"Performance Views: Transaction Summary chart display changed","performance_views.transaction_summary.status_breakdown_click":"Performance Views: Transaction Summary status breakdown option clicked","performance_views.all_events.open_in_discover":"Performance Views: All Events page open in Discover button clicked","performance_views.tags.change_tag":"Performance Views: Tags Page changed selected tag","performance_views.tags.jump_to_release":"Performance Views: Tags Page link to release in table clicked","performance_views.team_key_transaction.set":"Performance Views: Set Team Key Transaction","performance_views.trends.widget_interaction":"Performance Views: Trends Widget Interaction","performance_views.trends.widget_pagination":"Performance Views: Trends Widget Page Changed","performance_views.trends.change_duration":"Performance Views: Trends Widget Duration Changed"}},"./app/utils/analytics/samplingAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>i});const i={"sampling.settings.view":"View Sampling Settings","sampling.settings.condition.add":"Add Sampling Condition","sampling.settings.rule.save":"Save Sampling Rule","sampling.settings.rule.create":"Create Sampling Rule","sampling.settings.rule.update":"Update Sampling Rule","sampling.settings.rule.delete":"Delete Sampling Rule"}},"./app/utils/analytics/searchAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});const i={"search.searched":"Search: Performed search","search.operator_autocompleted":"Search: Operator Autocompleted","organization_saved_search.selected":"Organization Saved Search: Selected saved search","settings_search.open":"settings_search Open","command_palette.open":"command_palette Open","sidebar_help.open":"sidebar_help Open","settings_search.select":"settings_search Select","command_palette.select":"command_palette Select","sidebar_help.select":"sidebar_help Select","settings_search.query":"settings_search Query","command_palette.query":"command_palette Query","sidebar_help.query":"sidebar_help Query","projectselector.direct_selection":"Project Selector: Direct Selection","projectselector.update":"Project Selector: Update","projectselector.clear":"Project Selector: Clear","projectselector.toggle":"Project Selector: Toggle","projectselector.multi_button_clicked":"Project Selector: Multi Button Clicked"}},"./app/utils/analytics/settingsAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{$:()=>i});const i={"notification_settings.index_page_viewed":"Notification Settings: Index Page Viewed","notification_settings.tuning_page_viewed":"Notification Settings: Tuning Page Viewed","notification_settings.updated_tuning_setting":"Notification Settings: Updated Tuning Setting"}},"./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var i=s("./app/utils/analytics/coreuiAnalyticsEvents.tsx"),r=s("./app/utils/analytics/dashboardsAnalyticsEvents.tsx"),o=s("./app/utils/analytics/discoverAnalyticsEvents.tsx"),n=s("./app/utils/analytics/growthAnalyticsEvents.tsx"),a=s("./app/utils/analytics/issueAnalyticsEvents.tsx"),d=s("./app/utils/analytics/makeAnalyticsFunction.tsx"),l=s("./app/utils/analytics/performanceAnalyticsEvents.tsx"),c=s("./app/utils/analytics/samplingAnalyticsEvents.tsx"),u=s("./app/utils/analytics/searchAnalyticsEvents.tsx"),m=s("./app/utils/analytics/settingsAnalyticsEvents.tsx"),p=s("./app/utils/analytics/workflowAnalyticsEvents.tsx");const h={...n.Y,...a.d,...l.K,...r.Q,...o.J,...p.H,...u.Y,...m.$,...i.J,...c.K},g=(0,d.Z)(h)},"./app/utils/analytics/workflowAnalyticsEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{H:()=>i});const i={"alert_builder.filter":"Alert Builder: Filter","alert_details.viewed":"Alert Details: Viewed","alert_rule_details.viewed":"Alert Rule Details: Viewed","alert_rules.viewed":"Alert Rules: Viewed","alert_stream.viewed":"Alert Stream: Viewed","alert_wizard.option_selected":"Alert Wizard: Option Selected","alert_wizard.option_viewed":"Alert Wizard: Option Viewed","edit_alert_rule.add_row":"Edit Alert Rule: Add Row","edit_alert_rule.viewed":"Edit Alert Rule: Viewed","issue_alert_rule_details.edit_clicked":"Issue Alert Rule Details: Edit Clicked","issue_alert_rule_details.viewed":"Issue Alert Rule Details: Viewed","issue_details.action_clicked":"Issue Details: Action Clicked","issue_details.event_json_clicked":"Issue Details: Event JSON Clicked","issue_details.event_navigation_clicked":"Issue Details: Event Navigation Clicked","issue_details.viewed":"Issue Details: Viewed","new_alert_rule.viewed":"New Alert Rule: Viewed","team_insights.viewed":"Team Insights: Viewed"}},"./app/utils/isActiveSuperuser.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>o});var i=s("../node_modules/js-cookie/dist/js.cookie.mjs"),r=s("./app/stores/configStore.tsx");function o(){const{isSuperuser:e}=r.Z.get("user")||{};return!(!e||(i.Z.set("su","test"),void 0!==i.Z.get("su")))}},"./app/utils/parseLinkHeader.tsx":(e,t,s)=>{"use strict";function i(e){if(null===e||""===e)return{};const t=e.split(","),s={};return t.forEach((e=>{const t=/<([^>]+)>; rel="([^"]+)"(?:; results="([^"]+)")?(?:; cursor="([^"]+)")?/g.exec(e),i="true"===t[3]||"false"!==t[3]&&null;s[t[2]]={href:t[1],results:i,cursor:t[4]}})),s}s.d(t,{Z:()=>i})},"./app/utils/useApi.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var i=s("../node_modules/react/index.js"),r=s("./app/api.tsx");const o=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,i.useRef)();void 0===s.current&&void 0===t&&(s.current=new r.KU);const o=null!=t?t:s.current,n=(0,i.useCallback)((()=>{e||o.clear()}),[o,e]);return(0,i.useEffect)((()=>n),[n]),o}},"./app/utils/useTeams.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js");var i=s("../node_modules/react/index.js"),r=s("../node_modules/lodash/uniqBy.js"),o=s.n(r),n=s("./app/actionCreators/teams.tsx"),a=s("./app/actions/teamActions.tsx"),d=s("./app/stores/organizationStore.tsx"),l=s("./app/stores/teamStore.tsx"),c=s("./app/stores/useLegacyStore.tsx"),u=s("./app/utils/isActiveSuperuser.tsx"),m=s("./app/utils/parseLinkHeader.tsx"),p=s("./app/utils/useApi.tsx");async function h(e,t){let{slugs:s,ids:i,search:r,limit:o,lastSearch:n,cursor:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d={};var l;void 0!==s&&s.length>0&&(d.query=s.map((e=>`slug:${e}`)).join(" ")),void 0!==i&&i.length>0&&(d.query=i.map((e=>`id:${e}`)).join(" ")),r&&(d.query=`${null!==(l=d.query)&&void 0!==l?l:""} ${r}`.trim());const c=n===r||!n&&!r;c&&a&&(d.cursor=a),void 0!==o&&(d.per_page=o);let u=!1,p=null;const[h,,g]=await e.requestPromise(`/organizations/${t}/teams/`,{includeAllArgs:!0,query:d}),v=null==g?void 0:g.getResponseHeader("Link");if(v){var _,w;const e=(0,m.Z)(v);u=null==e||null===(_=e.next)||void 0===_?void 0:_.results,p=null==e||null===(w=e.next)||void 0===w?void 0:w.cursor}return{results:h,hasMore:u,nextCursor:p}}const g=function(){var e,t,s;let{limit:r,slugs:m,ids:g,provideUserTeams:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const _=(0,p.Z)(),{organization:w}=(0,c.X)(d.Z),f=(0,c.X)(l.Z),b=null==w?void 0:w.slug,S=new Set(f.teams.map((e=>e.slug))),y=null!==(e=null==m?void 0:m.filter((e=>!S.has(e))))&&void 0!==e?e:[],j=new Set(f.teams.map((e=>e.id))),x=null!==(t=null==g?void 0:g.filter((e=>!j.has(e))))&&void 0!==t?t:[],Z=y.length>0,I=x.length>0,C=v&&!f.loadedUserTeams,k=!Z&&!C&&!I,[z,P]=(0,i.useState)({initiallyLoaded:k,fetching:!1,hasMore:f.hasMore,lastSearch:null,nextCursor:f.cursor,fetchError:null}),E=(0,i.useRef)(null);if(void 0!==m||void 0!==g){var T;const e=null!==(T=m||g)&&void 0!==T?T:[];null===E.current&&(E.current=new Set(e)),(e.length!==E.current.size||e.some((e=>{var t;return!(null!==(t=E.current)&&void 0!==t&&t.has(e))})))&&(E.current=new Set(e))}async function A(){if(void 0!==b){P({...z,fetching:!0});try{await(0,n.PX)(_,{orgId:b}),P({...z,fetching:!1,initiallyLoaded:!0})}catch(e){console.error(e),P({...z,fetching:!1,initiallyLoaded:!0,fetchError:e})}}}async function D(){if(void 0!==b){P({...z,fetching:!0});try{const{results:e,hasMore:t,nextCursor:s}=await h(_,b,{slugs:y,ids:x,limit:r}),i=o()([...e,...f.teams],(e=>{let{id:t}=e;return t}));a.Z.loadTeams(i),P({...z,hasMore:t,fetching:!1,initiallyLoaded:!0,nextCursor:s})}catch(e){console.error(e),P({...z,fetching:!1,initiallyLoaded:!0,fetchError:e})}}}function O(e){return""!==e?q(e):(z.hasMore===f.hasMore&&z.nextCursor===f.cursor||P({...z,lastSearch:e,hasMore:f.hasMore,nextCursor:f.cursor}),Promise.resolve())}async function q(e){const{lastSearch:t}=z,s=e?z.nextCursor:f.cursor;if(void 0!==b){P({...z,fetching:!0});try{_.clear();const{results:i,hasMore:n,nextCursor:d}=await h(_,b,{search:e,limit:r,lastSearch:t,cursor:s}),l=o()([...f.teams,...i],(e=>{let{slug:t}=e;return t}));e?l.length>f.teams.length&&a.Z.loadTeams(l):a.Z.loadTeams(l,n,d),P({...z,hasMore:n&&f.hasMore,fetching:!1,lastSearch:null!=e?e:null,nextCursor:d})}catch(e){console.error(e),P({...z,fetching:!1,fetchError:e})}}else console.error("Cannot fetch teams without an organization in context")}(0,i.useEffect)((()=>{Z||I?D():C&&A()}),[E.current,v]);const V=(0,u.M)(),M=(0,i.useMemo)((()=>m?f.teams.filter((e=>m.includes(e.slug))):g?f.teams.filter((e=>g.includes(e.id))):v&&!V?f.teams.filter((e=>e.isMember)):f.teams),[f.teams,g,m,v,V]),L={teams:M,fetching:z.fetching||f.loading,initiallyLoaded:z.initiallyLoaded,fetchError:z.fetchError,hasMore:null!==(s=z.hasMore)&&void 0!==s?s:f.hasMore,onSearch:O,loadMore:q};return L}},"./app/utils/withLatestContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/stores/configStore.tsx"),n=s("./app/stores/latestContextStore.tsx"),a=s("./app/utils/getDisplayName.tsx"),d=s("./app/utils/withOrganizations.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c={organization:null,project:null},u=function(e){class t extends r.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{latestContext:n.Z.get()}),(0,i.Z)(this,"unsubscribe",n.Z.listen((e=>this.setState({latestContext:e})),void 0))}componentWillUmount(){this.unsubscribe()}render(){const{organizations:t}=this.props,{latestContext:s}=this.state,{organization:i,project:r}=s||c,n=i||(t&&t.length?t.find((e=>{let{slug:t}=e;return t===o.Z.get("lastOrganization")}))||t[0]:null);return(0,l.tZ)(e,{project:r,...this.props,organization:this.props.organization||n})}}return t.displayName="WithLatestContext",(0,i.Z)(t,"displayName",`withLatestContext(${(0,a.Z)(e)})`),(0,d.Z)(t)}},"./app/utils/withOrganizations.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/stores/organizationsStore.tsx"),n=s("./app/utils/getDisplayName.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=function(e){class t extends r.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{organizations:o.Z.getAll()}),(0,i.Z)(this,"unsubscribe",o.Z.listen((e=>this.setState({organizations:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{organizationsLoading:t,organizations:s,...i}=this.props;return(0,a.tZ)(e,{organizationsLoading:null!=t?t:!o.Z.loaded,organizations:null!=s?s:this.state.organizations,...i})}}return t.displayName="WithOrganizations",(0,i.Z)(t,"displayName",`withOrganizations(${(0,n.Z)(e)})`),t}},"../node_modules/lodash/_arrayIncludes.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},"../node_modules/lodash/_arrayIncludesWith.js":e=>{e.exports=function(e,t,s){for(var i=-1,r=null==e?0:e.length;++i<r;)if(s(t,e[i]))return!0;return!1}},"../node_modules/lodash/_baseIndexOf.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseFindIndex.js"),r=s("../node_modules/lodash/_baseIsNaN.js"),o=s("../node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,s){return t==t?o(e,t,s):i(e,r,s)}},"../node_modules/lodash/_baseIsNaN.js":e=>{e.exports=function(e){return e!=e}},"../node_modules/lodash/_baseUniq.js":(e,t,s)=>{var i=s("../node_modules/lodash/_SetCache.js"),r=s("../node_modules/lodash/_arrayIncludes.js"),o=s("../node_modules/lodash/_arrayIncludesWith.js"),n=s("../node_modules/lodash/_cacheHas.js"),a=s("../node_modules/lodash/_createSet.js"),d=s("../node_modules/lodash/_setToArray.js");e.exports=function(e,t,s){var l=-1,c=r,u=e.length,m=!0,p=[],h=p;if(s)m=!1,c=o;else if(u>=200){var g=t?null:a(e);if(g)return d(g);m=!1,c=n,h=new i}else h=t?[]:p;e:for(;++l<u;){var v=e[l],_=t?t(v):v;if(v=s||0!==v?v:0,m&&_==_){for(var w=h.length;w--;)if(h[w]===_)continue e;t&&h.push(_),p.push(v)}else c(h,_,s)||(h!==p&&h.push(_),p.push(v))}return p}},"../node_modules/lodash/_createSet.js":(e,t,s)=>{var i=s("../node_modules/lodash/_Set.js"),r=s("../node_modules/lodash/noop.js"),o=s("../node_modules/lodash/_setToArray.js"),n=i&&1/o(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=n},"../node_modules/lodash/_isIterateeCall.js":(e,t,s)=>{var i=s("../node_modules/lodash/eq.js"),r=s("../node_modules/lodash/isArrayLike.js"),o=s("../node_modules/lodash/_isIndex.js"),n=s("../node_modules/lodash/isObject.js");e.exports=function(e,t,s){if(!n(s))return!1;var a=typeof t;return!!("number"==a?r(s)&&o(t,s.length):"string"==a&&t in s)&&i(s[t],e)}},"../node_modules/lodash/_strictIndexOf.js":e=>{e.exports=function(e,t,s){for(var i=s-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},"../node_modules/lodash/chunk.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseSlice.js"),r=s("../node_modules/lodash/_isIterateeCall.js"),o=s("../node_modules/lodash/toInteger.js"),n=Math.ceil,a=Math.max;e.exports=function(e,t,s){t=(s?r(e,t,s):void 0===t)?1:a(o(t),0);var d=null==e?0:e.length;if(!d||t<1)return[];for(var l=0,c=0,u=Array(n(d/t));l<d;)u[c++]=i(e,l,l+=t);return u}},"../node_modules/lodash/findLastIndex.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseFindIndex.js"),r=s("../node_modules/lodash/_baseIteratee.js"),o=s("../node_modules/lodash/toInteger.js"),n=Math.max,a=Math.min;e.exports=function(e,t,s){var d=null==e?0:e.length;if(!d)return-1;var l=d-1;return void 0!==s&&(l=o(s),l=s<0?n(d+l,0):a(l,d-1)),i(e,r(t,3),l,!0)}},"../node_modules/lodash/noop.js":e=>{e.exports=function(){}},"../node_modules/lodash/uniqBy.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseIteratee.js"),r=s("../node_modules/lodash/_baseUniq.js");e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},"../node_modules/react-document-title/index.js":(e,t,s)=>{"use strict";var i=s("../node_modules/react/index.js"),r=s("../node_modules/prop-types/index.js"),o=s("../node_modules/react-side-effect/lib/index.js");function n(){}n.prototype=Object.create(i.Component.prototype),n.displayName="DocumentTitle",n.propTypes={title:r.string.isRequired},n.prototype.render=function(){return this.props.children?i.Children.only(this.props.children):null},e.exports=o((function(e){var t=e[e.length-1];if(t)return t.title}),(function(e){var t=e||"";t!==document.title&&(document.title=t)}))(n)},"../node_modules/react-side-effect/lib/index.js":(e,t,s)=>{"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=s("../node_modules/react/index.js"),o=i(r),n=i(s("../node_modules/shallowequal/index.js"));function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,s){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==s&&"function"!=typeof s)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(i){if("function"!=typeof i)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),m.canUseDOM?t(l):s&&(l=s(l))}var m=function(e){var t,s;function r(){return e.apply(this,arguments)||this}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,r.peek=function(){return l},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var a=r.prototype;return a.shouldComponentUpdate=function(e){return!n(e,this.props)},a.componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},a.render=function(){return o.createElement(i,this.props)},r}(r.Component);return a(m,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(i)+")"),a(m,"canUseDOM",d),m}}},"../node_modules/shallowequal/index.js":e=>{e.exports=function(e,t,s,i){var r=s?s.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var l=o[d];if(!a(l))return!1;var c=e[l],u=t[l];if(!1===(r=s?s.call(i,c,u,l):void 0)||void 0===r&&c!==u)return!1}return!0}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_projects_tsx-app_components_modals_inviteMembersModal_index_tsx-app_utils_-ec36ab.61c88425233f7d32e507d943d6abde8c.js.map