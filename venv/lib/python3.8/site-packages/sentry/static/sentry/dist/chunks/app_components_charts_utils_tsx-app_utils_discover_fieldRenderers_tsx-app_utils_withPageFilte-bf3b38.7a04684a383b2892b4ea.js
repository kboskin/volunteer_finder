"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_utils_tsx-app_utils_discover_fieldRenderers_tsx-app_utils_withPageFilte-bf3b38"],{"./app/actionCreators/guides.tsx":(e,t,n)=>{if(n.r(t),n.d(t,{closeGuide:()=>g,dismissGuide:()=>f,fetchGuides:()=>d,nextStep:()=>p,recordDismiss:()=>_,recordFinish:()=>y,registerAnchor:()=>u,setForceHide:()=>m,toStep:()=>h,unregisterAnchor:()=>c}),"app"==n.j)var r=n("../node_modules/@sentry/hub/esm/exports.js");var s=n("./app/api.tsx"),i=n("./app/stores/configStore.tsx"),o=n("./app/stores/guideStore.tsx"),a=n("./app/utils/analytics.tsx");const l=new s.KU;async function d(){try{const e=await l.requestPromise("/assistant/");o.Z.fetchSucceeded(e)}catch(e){r.Tb(e)}}function u(e){o.Z.registerAnchor(e)}function c(e){o.Z.unregisterAnchor(e)}function p(){o.Z.nextStep()}function m(e){o.Z.setForceHide(e)}function h(e){o.Z.toStep(e)}function g(e){o.Z.closeGuide(e)}function f(e,t,n){_(e,t,n),g(!0)}function y(e,t){l.request("/assistant/",{method:"PUT",data:{guide:e,status:"viewed"}});const n=i.Z.get("user");if(!n)return;const r={eventKey:"assistant.guide_finished",eventName:"Assistant Guide Finished",guide:e,organization_id:t,user_id:parseInt(n.id,10)};(0,a.ec)(r)}function _(e,t,n){l.request("/assistant/",{method:"PUT",data:{guide:e,status:"dismissed"}});const r=i.Z.get("user");if(!r)return;const s={eventKey:"assistant.guide_dismissed",eventName:"Assistant Guide Dismissed",guide:e,step:t,organization_id:n,user_id:parseInt(r.id,10)};(0,a.ec)(s)}},"./app/actions/pageFiltersActions.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n("../node_modules/reflux/src/index.js").createActions)(["reset","initializeUrlState","updateProjects","updateDateTime","updateEnvironments","updateDesyncedFilters","pin"])},"./app/components/actions/menuHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>a});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/menuItem.tsx"),i=n("./app/styles/space.tsx");const o=(0,r.Z)(s.Z,{target:"e1v5j7f00"})("text-transform:uppercase;font-weight:600;color:",(e=>e.theme.gray400),";border-bottom:1px solid ",(e=>e.theme.innerBorder),";padding:",(0,i.Z)(1),";");o.defaultProps={header:!0};const a=o},"./app/components/assistant/guideAnchor.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("../node_modules/@sentry/hub/esm/exports.js"),a=n("./app/actionCreators/guides.tsx"),l=n("./app/components/button.tsx"),d=n("./app/components/hovercard.tsx"),u=n("./app/locale.tsx"),c=n("./app/stores/guideStore.tsx"),p=n("./app/styles/space.tsx"),m=n("./app/utils/theme.tsx"),h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{active:!1,step:0,orgId:null}),(0,r.Z)(this,"unsubscribe",c.Z.listen((e=>this.onGuideStateChange(e)),void 0)),(0,r.Z)(this,"containerElement",(0,i.createRef)()),(0,r.Z)(this,"handleFinish",(e=>{var t,n,r,s;e.stopPropagation(),null===(t=(n=this.props).onStepComplete)||void 0===t||t.call(n,e),null===(r=(s=this.props).onFinish)||void 0===r||r.call(s,e);const{currentGuide:i,orgId:o}=this.state;i&&(0,a.recordFinish)(i.guide,o),(0,a.closeGuide)()})),(0,r.Z)(this,"handleNextStep",(e=>{var t,n;e.stopPropagation(),null===(t=(n=this.props).onStepComplete)||void 0===t||t.call(n,e),(0,a.nextStep)()})),(0,r.Z)(this,"handleDismiss",(e=>{e.stopPropagation();const{currentGuide:t,step:n,orgId:r}=this.state;t&&(0,a.dismissGuide)(t.guide,n,r)}))}componentDidMount(){const{target:e}=this.props;(0,a.registerAnchor)(e)}componentDidUpdate(e,t){if(this.containerElement.current&&!t.active&&this.state.active)try{const{top:e}=this.containerElement.current.getBoundingClientRect(),t=e+window.pageYOffset-window.innerHeight/2;window.scrollTo({top:t})}catch(e){o.Tb(e)}}componentWillUnmount(){const{target:e}=this.props;(0,a.unregisterAnchor)(e),this.unsubscribe()}onGuideStateChange(e){var t,n,r;const s=(null===(t=e.currentGuide)||void 0===t||null===(n=t.steps[e.currentStep])||void 0===n?void 0:n.target)===this.props.target&&!e.forceHide;this.setState({active:s,currentGuide:null!==(r=e.currentGuide)&&void 0!==r?r:void 0,step:e.currentStep,orgId:e.orgId})}getHovercardBody(){const{to:e}=this.props,{currentGuide:t,step:n}=this.state;if(!t)return null;const r=t.steps.length,s=n+1,o=t.steps[n],a=s===r,l=r>1,d="#assistant"===window.location.hash?"#":"",c=(0,h.tZ)(x,{size:"small",translucentBorder:!0,href:d,onClick:this.handleDismiss,priority:"link",children:o.dismissText||(0,u.t)("Dismiss")});return(0,h.BX)(_,{"data-test-id":"guide-container",children:[(0,h.BX)(E,{children:[o.title&&(0,h.tZ)(S,{children:o.title}),(0,h.tZ)(b,{children:o.description})]}),(0,h.BX)(T,{children:[(0,h.tZ)("div",{children:a?(0,h.BX)(i.Fragment,{children:[(0,h.tZ)(v,{size:"small",translucentBorder:!0,to:e,onClick:this.handleFinish,children:o.nextText||(l?(0,u.t)("Enough Already"):(0,u.t)("Got It"))}),o.hasNextGuide&&c]}):(0,h.BX)(i.Fragment,{children:[(0,h.tZ)(v,{size:"small",translucentBorder:!0,onClick:this.handleNextStep,to:e,children:o.nextText||(0,u.t)("Next")}),!o.cantDismiss&&c]})}),l&&(0,h.tZ)(w,{children:(0,u._N)("[currentStepCount] of [totalStepCount]",{currentStepCount:s,totalStepCount:r})})]})]})}render(){const{children:e,position:t,offset:n,containerClassName:r}=this.props,{active:s}=this.state;return s?(0,h.tZ)(A,{show:!0,body:this.getHovercardBody(),tipColor:m.ZP.purple300,position:t,offset:n,containerClassName:r,children:(0,h.tZ)("span",{ref:this.containerElement,children:e})}):e||null}}function f(e){let{disabled:t,children:n,...r}=e;return t?(0,h.tZ)(i.Fragment,{children:n}):(0,h.tZ)(g,{...r,children:n})}g.displayName="BaseGuideAnchor",f.displayName="GuideAnchor";const y=f,_=(0,s.Z)("div",{target:"emyn818"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(2),";text-align:center;line-height:1.5;background-color:",(e=>e.theme.purple300),";border-color:",(e=>e.theme.purple300),";color:",(e=>e.theme.white),";"),E=(0,s.Z)("div",{target:"emyn817"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(1),";a{color:",(e=>e.theme.white),";text-decoration:underline;}"),S=(0,s.Z)("div",{target:"emyn816"})("font-weight:bold;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),b=(0,s.Z)("div",{target:"emyn815"})("font-size:",(e=>e.theme.fontSizeMedium),";"),T=(0,s.Z)("div",{target:"emyn814"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(1),";"),v=(0,s.Z)(l.ZP,{target:"emyn813"})("font-size:",(e=>e.theme.fontSizeMedium),";min-width:40%;"),x=(0,s.Z)(v,{target:"emyn812"})("margin-left:",(0,p.Z)(1),";&:hover,&:focus,&:active{color:",(e=>e.theme.white),";}color:",(e=>e.theme.white),";"),w=(0,s.Z)("div",{target:"emyn811"})("font-size:",(e=>e.theme.fontSizeSmall),";font-weight:bold;text-transform:uppercase;"),A=(0,s.Z)(d.uI,{target:"emyn810"})(d.uT,"{background-color:",m.ZP.purple300,";margin:-1px;border-radius:",m.ZP.borderRadius,";width:300px;}")},"./app/components/autoSelectText.tsx":(e,t,n)=>{n.d(t,{Z:()=>d});var r=n("../node_modules/react/index.js"),s=n("../node_modules/classnames/index.js"),i=n.n(s),o=n("./app/utils/selectText.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(e,t)=>{let{children:n,className:s,...l}=e;const d=(0,r.useRef)(null);function u(){d.current&&(0,o.e)(d.current)}return(0,r.useImperativeHandle)(t,(()=>({selectText:()=>u()}))),(0,a.tZ)("div",{...l,onClick:u,className:i()("auto-select-text",s),children:(0,a.tZ)("span",{ref:d,children:n})})};l.displayName="AutoSelectText";const d=(0,r.forwardRef)(l)},"./app/components/charts/utils.tsx":(e,t,n)=>{n.d(t,{$i:()=>c,B8:()=>u,DC:()=>v,EX:()=>S,IZ:()=>p,JT:()=>N,Nm:()=>b,RI:()=>x,Sw:()=>T,TE:()=>O,WV:()=>_,XO:()=>f,Xe:()=>w,ZS:()=>E,Zn:()=>d,aC:()=>h,aE:()=>R,dV:()=>g,j1:()=>A,oS:()=>y,w3:()=>m});var r=n("../node_modules/moment/moment.js"),s=n.n(r),i=n("./app/constants/index.tsx"),o=n("./app/utils.tsx"),a=n("./app/utils/dates.tsx"),l=n("./app/utils/queryString.tsx");const d=86400,u=43200,c=20160,p=10080,m=1440,h=360,g=60,f=50;function y(e,t){if(!t)return(0,o.YU)(e);const n=t&&"number"==typeof t?t:80,r=e.length>n?e.substring(0,n)+"…":e;return(0,o.YU)(r)}function _(e){return b(e)<=m}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";const n=b(e);return n>=d?"high"===t?"4h":"medium"===t?"1d":"2d":n>=u?"high"===t?"1h":"medium"===t?"4h":"1d":n>=c?"high"===t?"30m":"medium"===t?"1h":"12h":n>m?"high"===t?"30m":"medium"===t?"1h":"6h":n>g?"high"===t?"5m":"medium"===t?"15m":"1h":"high"===t?"1m":"medium"===t?"5m":"10m"}function S(e){const t=b(e);return t>=d?"1d":t>=u?"4h":"1h"}function b(e){const{period:t,start:n,end:r}=e;return n&&r?s()(r).diff(n,"minutes"):60*(0,a.YJ)("string"==typeof t?t:i.GY)}function T(e,t){return!(!e||t&&(0,a.YJ)(t)>1080||!e)}function v(e){let{includePrevious:t=!0,period:n,start:r,end:s}=e;return!r&&!s&&T(t,n)}function x(e){return(0,l.qP)(null==e?void 0:e.query.unselectedSeries).reduce(((e,t)=>(e[t]=!1,e)),{})}function w(e,t){return(0,o.ri)(e)&&(void 0===e.data&&void 0===e.totals||(0,o.ri)(t)&&t&&(0,o.ri)(e)&&!function(e){return((0,o.ri)(e.data)||(0,o.ri)(e.totals))&&(0,o.ri)(e.start)&&(0,o.ri)(e.end)}(e))}const A=e=>"number"==typeof e?`${e}px`:null!==e?e:void 0,R=e=>e.map((e=>{const t=[Math.min(parseInt(e.slice(1,3),16)+30,255),Math.min(parseInt(e.slice(3,5),16)+30,255),Math.min(parseInt(e.slice(5,7),16)+30,255)];return`rgb(${t[0]}, ${t[1]}, ${t[2]})`})),Z={title:"",data:[]},N=e=>{var t;if(!e||!e.length)return Z;const n=e[0],{data:r,meta:s}=n;if(!r||!r.length||!s)return Z;const i=Object.keys(s).find((e=>"geo.country_code"!==e));return i?{title:null!==(t=n.title)&&void 0!==t?t:"",data:r.map((e=>({name:e["geo.country_code"],value:e[i]})))}:Z},O=e=>`previous ${e}`},"./app/components/checkboxFancy/checkboxFancy.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=n("./app/icons/index.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=e=>e.isDisabled&&(0,s.iv)("background:",e.isChecked||e.isIndeterminate?e.theme.gray200:e.theme.backgroundSecondary,";border-color:",e.theme.border,";",""),l=e=>!e.isDisabled&&(0,s.iv)("border:2px solid ",e.isChecked||e.isIndeterminate?e.theme.active:e.theme.textColor,";",""),d=(0,r.Z)((e=>{let{isDisabled:t,isChecked:n,isIndeterminate:r,size:s,...a}=e;return(0,o.BX)("div",{"data-test-id":"checkbox-fancy",role:"checkbox","aria-disabled":t,"aria-checked":r?"mixed":n,...a,children:[r&&(0,o.tZ)(i.JZ,{size:"70%",color:"white"}),!r&&n&&(0,o.tZ)(i.DL,{size:"70%",color:"white"})]})}),{target:"e89w7c00"})("display:flex;align-items:center;justify-content:center;box-shadow:1px 1px 5px 0px rgba(0, 0, 0, 0.05) inset;width:",(e=>e.size),";height:",(e=>e.size),";border-radius:5px;background:",(e=>e.isChecked||e.isIndeterminate?e.theme.active:"transparent"),";border:2px solid ",(e=>e.isChecked||e.isIndeterminate?e.theme.active:e.theme.gray300),";cursor:",(e=>e.isDisabled?"not-allowed":"pointer"),";",(e=>(!e.isChecked||!e.isIndeterminate)&&"transition: 500ms border ease-out"),";&:hover{",l,";}",a,";");d.defaultProps={size:"16px",isChecked:!1,isIndeterminate:!1};const u=d},"./app/components/count.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var r=n("./app/utils/formatters.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{value:t,className:n}=e;return(0,s.tZ)("span",{className:n,title:null==t?void 0:t.toLocaleString(),children:(0,r.Du)(t)})}i.displayName="Count";const o=i},"./app/components/dateTime.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("../node_modules/moment/moment.js"),s=n.n(r),i=n("../node_modules/moment-timezone/index.js"),o=n.n(i),a=n("./app/stores/configStore.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){var t;let{format:n,date:r,utc:i,shortDate:d,dateOnly:u,timeOnly:c,timeAndDate:p,seconds:m=!0,...h}=e;const g=a.Z.get("user"),f=null==g?void 0:g.options,y=function(e){let{clock24Hours:t}=e;return n||(u?"LL":p?t?"MMM DD, HH:mm":"MMM DD, LT":c?t?"HH:mm":"LT":d?"MM/DD/YYYY":t?m?"MMM D, YYYY HH:mm:ss":"MMM D, YYYY HH:mm":m?"ll LTS z":"lll")}(f);return(0,l.tZ)("time",{...h,children:i?s().utc(r).format(y):o().tz(r,null!==(t=null==f?void 0:f.timezone)&&void 0!==t?t:"").format(y)})}d.displayName="DateTime";const u=d},"./app/components/duration.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var r=n("./app/utils/formatters.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=e=>{let{seconds:t,fixedDigits:n,abbreviation:i,exact:o,...a}=e;return(0,s.tZ)("span",{...a,children:o?(0,r._U)(t,i):(0,r.g9)(t,n,i)})};i.displayName="Duration";const o=i},"./app/components/gridEditable/index.tsx":(e,t,n)=>{n.d(t,{zO:()=>O,z7:()=>N,ZP:()=>I});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("./app/components/emptyStateWarning.tsx"),o=n("./app/components/loadingIndicator.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),d=n("./app/utils/performanceForSentry.tsx"),u=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=n("./app/components/panels/index.tsx"),p=n("./app/styles/space.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=(0,u.Z)("div",{target:"e17psx6813"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:",(0,p.Z)(1),";"),g=(0,u.Z)("h4",{target:"e17psx6812"})("margin:0;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";"),f=(0,u.Z)("div",{target:"e17psx6811"})("display:grid;gap:",(0,p.Z)(1),";grid-auto-flow:column;grid-auto-columns:auto;justify-items:end;&>span{display:flex;flex-direction:row;}"),y=(0,u.Z)((e=>{let{children:t,...n}=e;return(0,m.tZ)(c.s_,{...n,children:(0,m.tZ)(c.N,{children:t})})}),{target:"e17psx6810"})("overflow:hidden;z-index:",1,";"),_=(0,u.Z)("table",{target:"e17psx689"})("position:inherit;display:grid;grid-template-columns:repeat(auto-fill, minmax(50px, auto));box-sizing:border-box;border-collapse:collapse;margin:0;z-index:",5,";overflow-x:auto;"),E=(0,u.Z)("tr",{target:"e17psx688"})("display:contents;&:last-child,&:last-child>td:first-child,&:last-child>td:last-child{border-bottom-left-radius:",(e=>e.theme.borderRadius),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";}"),S=(0,u.Z)("thead",{target:"e17psx687"})({name:"49aokf",styles:"display:contents"}),b=(0,u.Z)("th",{target:"e17psx686"})("position:relative;height:",45,"px;display:flex;align-items:center;min-width:24px;padding:0 ",(0,p.Z)(2),";border-right:1px solid transparent;border-left:1px solid transparent;background-color:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;user-select:none;a,div,span{line-height:1.1;color:inherit;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}&:first-child{border-top-left-radius:",(e=>e.theme.borderRadius),";}&:last-child{border-top-right-radius:",(e=>e.theme.borderRadius),";border-right:none;}&:hover{border-left-color:",(e=>e.isFirst?"transparent":e.theme.border),";border-right-color:",(e=>e.theme.border),";}"),T=(0,u.Z)("th",{target:"e17psx685"})("height:",45,"px;display:flex;align-items:center;padding:0 ",(0,p.Z)(2),";background-color:",(e=>e.theme.backgroundSecondary),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;line-height:1;text-transform:uppercase;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;&:first-child{border-top-left-radius:",(e=>e.theme.borderRadius),";padding:",(0,p.Z)(1)," 0 ",(0,p.Z)(1)," ",(0,p.Z)(3),";}"),v=(0,u.Z)("tbody",{target:"e17psx684"})("display:contents;>tr:first-child td{border-top:1px solid ",(e=>e.theme.border),";}"),x=(0,u.Z)("td",{target:"e17psx683"})("min-width:0;min-height:",40,"px;padding:",(0,p.Z)(1)," ",(0,p.Z)(2),";background-color:",(e=>e.theme.background),";border-top:1px solid ",(e=>e.theme.innerBorder),";display:flex;flex-direction:column;justify-content:center;font-size:",(e=>e.theme.fontSizeMedium),";&:first-child{padding:",(0,p.Z)(1)," 0 ",(0,p.Z)(1)," ",(0,p.Z)(3),";}&:last-child{border-right:none;padding:",(0,p.Z)(1)," ",(0,p.Z)(2),";}"),w=(0,u.Z)(x,{target:"e17psx682"})("grid-column:1/-1;width:100%;height:",160,"px;background-color:transparent;"),A=(0,u.Z)("div",{target:"e17psx681"})("position:absolute;top:45px;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:",160,"px;z-index:",-1,";background:",(e=>e.theme.background),";"),R=e=>(0,m.tZ)(w,{children:(0,m.tZ)(A,{children:e.children})});R.displayName="GridBodyCellStatus";const Z=(0,u.Z)("div",{target:"e17psx680"})("position:absolute;top:0px;right:-6px;width:11px;height:",(e=>{const t=e.dataRows;let n=45+40*t;return t>=1&&(n+=t),n}),"px;padding-left:5px;padding-right:5px;cursor:col-resize;z-index:",1,";&::after{content:' ';display:block;width:100%;height:100%;}&:hover::after{background-color:",(e=>e.theme.gray200),";}&:active::after,&:focus::after{background-color:",(e=>e.theme.purple300),";}&:hover::before{position:absolute;top:0;left:2px;content:' ';display:block;width:7px;height:",45,"px;background-color:",(e=>e.theme.purple300),";opacity:0.4;}"),N=-1,O=90;class k extends s.Component{constructor(){var e;super(...arguments),e=this,(0,r.Z)(this,"state",{numColumn:0}),(0,r.Z)(this,"refGrid",(0,s.createRef)()),(0,r.Z)(this,"resizeMetadata",void 0),(0,r.Z)(this,"resizeWindowLifecycleEvents",{mousemove:[],mouseup:[]}),(0,r.Z)(this,"onResetColumnSize",((e,t)=>{e.stopPropagation();const n=[...this.props.columnOrder];n[t]={...n[t],width:N},this.setGridTemplateColumns(n);const r=this.props.grid.onResizeColumn;r&&r(t,{...n[t],width:N})})),(0,r.Z)(this,"onResizeMouseDown",(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(t.stopPropagation(),-1===n||"contextmenu"===t.type)return;const r=t.currentTarget.parentElement;r&&(e.resizeMetadata={columnIndex:n,columnWidth:r.offsetWidth,cursorX:t.clientX},window.addEventListener("mousemove",e.onResizeMouseMove),e.resizeWindowLifecycleEvents.mousemove.push(e.onResizeMouseMove),window.addEventListener("mouseup",e.onResizeMouseUp),e.resizeWindowLifecycleEvents.mouseup.push(e.onResizeMouseUp))})),(0,r.Z)(this,"onResizeMouseUp",(e=>{const t=this.resizeMetadata,n=this.props.grid.onResizeColumn;if(t&&n){const{columnOrder:r}=this.props,s=e.clientX-t.cursorX;n(t.columnIndex,{...r[t.columnIndex],width:t.columnWidth+s})}this.resizeMetadata=void 0,this.clearWindowLifecycleEvents()})),(0,r.Z)(this,"onResizeMouseMove",(e=>{const{resizeMetadata:t}=this;t&&window.requestAnimationFrame((()=>this.resizeGridColumn(e,t)))})),(0,r.Z)(this,"redrawGridColumn",(()=>{this.setGridTemplateColumns(this.props.columnOrder)})),(0,r.Z)(this,"renderGridBodyRow",((e,t)=>{const{columnOrder:n,grid:r}=this.props,s=r.renderPrependColumns?r.renderPrependColumns(!1,e,t):[];return(0,m.BX)(E,{children:[s&&s.map(((e,t)=>(0,m.tZ)(x,{children:e},`prepend-${t}`))),n.map(((n,s)=>(0,m.tZ)(x,{children:r.renderBodyCell?r.renderBodyCell(n,e,t,s):e[n.key]},`${n.key}${s}`)))]},t)}))}static getDerivedStateFromProps(e,t){return{...t,numColumn:e.columnOrder.length}}componentDidMount(){window.addEventListener("resize",this.redrawGridColumn),this.setGridTemplateColumns(this.props.columnOrder)}componentDidUpdate(){this.setGridTemplateColumns(this.props.columnOrder)}componentWillUnmount(){this.clearWindowLifecycleEvents(),window.removeEventListener("resize",this.redrawGridColumn)}clearWindowLifecycleEvents(){Object.keys(this.resizeWindowLifecycleEvents).forEach((e=>{this.resizeWindowLifecycleEvents[e].forEach((t=>window.removeEventListener(e,t))),this.resizeWindowLifecycleEvents[e]=[]}))}resizeGridColumn(e,t){if(!this.refGrid.current)return;const n=e.clientX-t.cursorX,r=[...this.props.columnOrder];r[t.columnIndex]={...r[t.columnIndex],width:Math.max(t.columnWidth+n,0)},this.setGridTemplateColumns(r)}setGridTemplateColumns(e){const t=this.refGrid.current;if(!t)return;const n=(this.props.grid.prependColumnWidths||[]).join(" "),r=e.map(((t,n)=>t.width===N?`minmax(${O}px, auto)`:"number"==typeof t.width&&t.width>O?n===e.length-1?`minmax(${t.width}px, auto)`:`${t.width}px`:n===e.length-1?`minmax(${O}px, auto)`:`${O}px`));t.style.gridTemplateColumns=`${n} ${r.join(" ")}`}renderGridHead(){const{error:e,isLoading:t,columnOrder:n,grid:r,data:s}=this.props,i=n.length,o=r.renderPrependColumns?r.renderPrependColumns(!0):[];return(0,m.BX)(E,{children:[o&&o.map(((e,t)=>(0,m.tZ)(T,{children:e},`prepend-${t}`))),n.map(((n,o)=>(0,m.BX)(b,{isFirst:0===o,children:[r.renderHeadCell?r.renderHeadCell(n,o):n.name,o!==i-1&&(0,m.tZ)(Z,{dataRows:e||t||!s?0:s.length,onMouseDown:e=>this.onResizeMouseDown(e,o),onDoubleClick:e=>this.onResetColumnSize(e,o),onContextMenu:this.onResizeMouseDown})]},`${o}.${n.key}`)))]})}renderGridBody(){const{data:e,error:t,isLoading:n}=this.props;return t?this.renderError():n?this.renderLoading():e&&0!==e.length?e.map(this.renderGridBodyRow):this.renderEmptyData()}renderError(){return(0,m.tZ)(E,{children:(0,m.tZ)(R,{children:(0,m.tZ)(a.FC,{color:"gray300",size:"lg"})})})}renderLoading(){return(0,m.tZ)(E,{children:(0,m.tZ)(R,{children:(0,m.tZ)(o.Z,{})})})}renderEmptyData(){return(0,m.tZ)(E,{children:(0,m.tZ)(R,{children:(0,m.tZ)(i.Z,{children:(0,m.tZ)("p",{children:(0,l.t)("No results found for your query")})})})})}render(){const{title:e,headerButtons:t}=this.props,n=e||t;return(0,m.tZ)(s.Fragment,{children:(0,m.BX)(s.Profiler,{id:"GridEditable",onRender:d.FG,children:[n&&(0,m.BX)(h,{children:[e&&(0,m.tZ)(g,{children:e}),t&&(0,m.tZ)(f,{children:t()})]}),(0,m.tZ)(y,{children:(0,m.BX)(_,{"data-test-id":"grid-editable",ref:this.refGrid,children:[(0,m.tZ)(S,{children:this.renderGridHead()}),(0,m.tZ)(v,{children:this.renderGridBody()})]})})]})})}}k.displayName="GridEditable";const I=k},"./app/components/menuItem.tsx":(e,t,n)=>{n.d(t,{Z:()=>E});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/lodash/omit.js")),i=n.n(s),o=n("./app/components/links/link.tsx"),a=n("./app/styles/space.tsx"),l=n("./app/utils/callIfFunction.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=e=>{let{header:t,icon:n,divider:r,isActive:s,noAnchor:o,className:a,children:u,...c}=e;const{to:p,href:m,title:E,withBorder:S,disabled:b,onSelect:T,eventKey:v,allowDefaultEvent:x,stopPropagation:w}=c,A=e=>{b||T&&(!0!==x&&e.preventDefault(),w&&e.stopPropagation(),(0,l.g)(T,v))};let R=null;return o||t?R=u:r||(R=(()=>{const e={onClick:A,tabIndex:-1,isActive:s,disabled:b,withBorder:S};return p?(0,d.BX)(_,{to:p,...e,title:E,"data-test-id":"menu-item",children:[n&&(0,d.tZ)(y,{children:n}),u]}):m?(0,d.BX)(h,{...e,href:m,"data-test-id":"menu-item",children:[n&&(0,d.tZ)(y,{children:n}),u]}):(0,d.BX)(f,{role:"button",...e,title:E,"data-test-id":"menu-item",children:[n&&(0,d.tZ)(y,{children:n}),u]})})()),(0,d.tZ)(g,{className:a,role:"presentation",isActive:s,divider:r,noAnchor:o,header:t,...i()(c,["href","title","onSelect","eventKey","to","as"]),children:R})};function c(e){const t=`\n    display: block;\n    padding: ${(0,a.Z)(.5)} ${(0,a.Z)(2)};\n    &:focus {\n      outline: none;\n    }\n  `;return e.disabled?`\n      ${t}\n      color: ${e.theme.disabled};\n      background: transparent;\n      cursor: not-allowed;\n    `:e.isActive?`\n      ${t}\n      color: ${e.theme.white};\n      background: ${e.theme.active};\n\n      &:hover {\n        background: ${e.theme.activeHover};\n      }\n    `:`\n    ${t}\n\n    &:hover {\n      background: ${e.theme.hover};\n    }\n  `}function p(e){return e.noAnchor?`\n    & a {\n      ${c(e)}\n    }\n  `:""}u.displayName="MenuItem";const m=e=>"string"==typeof e&&!1===["isActive","disabled","withBorder"].includes(e),h=(0,r.Z)("a",{shouldForwardProp:m,target:"e1g67xf44"})(c,";"),g=(0,r.Z)("li",{target:"e1g67xf43"})("display:block;",(e=>e.withBorder&&`\n    border-bottom: 1px solid ${e.theme.innerBorder};\n\n    &:last-child {\n      border-bottom: none;\n    }\n  `),";",(e=>e.divider&&`\n    height: 1px;\n    margin: ${(0,a.Z)(.5)} 0;\n    overflow: hidden;\n    background-color: ${e.theme.innerBorder};\n  `)," ",(e=>e.header&&`\n    padding: ${(0,a.Z)(.25)} ${(0,a.Z)(.5)};\n    font-size: ${e.theme.fontSizeSmall};\n    line-height: 1.4;\n    color: ${e.theme.gray300};\n  `)," ",p,";"),f=(0,r.Z)("span",{target:"e1g67xf42"})(c," display:flex;align-items:center;"),y=(0,r.Z)("div",{target:"e1g67xf41"})("display:flex;align-items:center;margin-right:",(0,a.Z)(1),";"),_=(0,r.Z)(o.Z,{shouldForwardProp:m,target:"e1g67xf40"})(c,";"),E=u},"./app/components/organizations/pageFilters/parse.tsx":(e,t,n)=>{n.d(t,{Sg:()=>E,fI:()=>_,fK:()=>y,su:()=>d}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/moment/moment.js"),s=n.n(r),i=n("./app/constants/index.tsx"),o=n("./app/constants/pageFilters.tsx"),a=n("./app/utils.tsx"),l=n("./app/utils/dates.tsx");function d(e){const t=e.match("^(\\d+)([hdmsw])?$");if(t)return{period:t[1],periodLength:t[2]||"s"}}function u(e){const t=d(e);return t?`${t.period}${t.periodLength}`:void 0}function c(e){if(Array.isArray(e)){const t=e.find(u);return t?u(t):void 0}if("string"==typeof e)return u(e)}function p(e){return function(e){if(!e)return;const t=s().utc(e);return t.isValid()?t.format("YYYY-MM-DDTHH:mm:ss.SSS"):void 0}(Array.isArray(e)?e.find((e=>s().utc(e).isValid())):e)}function m(e){if((0,a.ri)(e))return!0===e||"true"===e?"true":"false"}function h(e){const t=Array.isArray(e)?e.find((e=>!!m(e))):e;return m(t)}function g(e){if(!(0,a.ri)(e))return;if(Array.isArray(e))return e.map((e=>parseInt(e,10)));const t=parseInt(e,10);return isNaN(t)?[]:[t]}function f(e){if((0,a.ri)(e))return Array.isArray(e)?e:[e]}function y(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowEmptyPeriod:s=!1,allowAbsoluteDatetime:o=!0,allowAbsolutePageDatetime:l=!1,defaultStatsPeriod:d=i.GY}=r,{pageStatsPeriod:u,pageStart:m,pageEnd:g,pageUtc:f,start:y,end:_,period:E,statsPeriod:S,utc:b,...T}=e;let v=c(u)||c(S)||c(E)||null;const x=o?l&&null!==(t=p(m))&&void 0!==t?t:p(y):null,w=o?l&&null!==(n=p(g))&&void 0!==n?n:p(_):null;x&&w||v||s||(v=d);const A={statsPeriod:v,start:v?null:null!=x?x:null,end:v?null:null!=w?w:null,utc:h(null!=f?f:b),...T},R=Object.entries(A).filter((e=>{let[t,n]=e;return(0,a.ri)(n)}));return Object.fromEntries(R)}function _(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowAbsoluteDatetime:s}=r,i=null!==(t=g(e[o.nF.PROJECT]))&&void 0!==t?t:null,a=null!==(n=f(e[o.nF.ENVIRONMENT]))&&void 0!==n?n:null,d=y(e,r),u=s&&!!d.start&&!!d.end,c=u?(0,l.hC)(d.start):null,p=u?(0,l.hC)(d.end):null,m=d.statsPeriod,h=d.utc,_={project:i,environment:a,period:m||null,start:c||null,end:p||null,utc:void 0!==h?"true"===h:null};return _}function E(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return o.Nw.includes(t)})))}},"./app/components/performance/teamKeyTransaction.tsx":(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("../node_modules/react-dom/profiling.js"),a=n("../node_modules/react-popper/lib/esm/Popper.js"),l=n("../node_modules/react-popper/lib/esm/Manager.js"),d=n("../node_modules/react-popper/lib/esm/Reference.js"),u=n("./app/components/actions/menuHeader.tsx"),c=n("./app/components/checkboxFancy/checkboxFancy.tsx"),p=n("./app/components/menuItem.tsx"),m=n("./app/locale.tsx"),h=n("./app/styles/space.tsx"),g=n("./app/utils.tsx"),f=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),y=n("./app/utils/performance/constants.tsx"),_=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class E extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{isOpen:!1}),(0,r.Z)(this,"menuEl",null),(0,r.Z)(this,"handleClickOutside",(e=>{this.menuEl&&e.target instanceof Element&&(this.menuEl.contains(e.target)||this.setState({isOpen:!1}))})),(0,r.Z)(this,"toggleOpen",(()=>{this.setState((e=>{let{isOpen:t}=e;return{isOpen:!t}}))})),(0,r.Z)(this,"toggleSelection",((e,t)=>()=>{const{handleToggleKeyTransaction:n,organization:r}=this.props,{action:s}=t;return(0,f.Z)("performance_views.team_key_transaction.set",{organization:r,action:s}),e?n(t):void 0}))}componentDidUpdate(e,t){this.state.isOpen&&!1===t.isOpen&&document.addEventListener("click",this.handleClickOutside,!0),!1===this.state.isOpen&&t.isOpen&&document.removeEventListener("click",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside,!0)}partitionTeams(e,t){const{teams:n,project:r}=this.props,s=[],i=[],o=[],a=new Set(r.teams.map((e=>{let{id:t}=e;return t})));for(const r of n){var l;a.has(r.id)?t.has(r.id)||(null!==(l=e.get(r.id))&&void 0!==l?l:0)<y.X?s.push(r):i.push(r):o.push(r)}return{enabledTeams:s,disabledTeams:i,noAccessTeams:o}}renderMenuContent(e,t){const{teams:n,project:r,transactionName:s}=this.props,{enabledTeams:o,disabledTeams:a,noAccessTeams:l}=this.partitionTeams(e,t),d=o.length>0,u=this.toggleSelection(d,{action:o.length===t.size?"unkey":"key",teamIds:o.map((e=>{let{id:t}=e;return t})),project:r,transactionName:s}),p=o.length+a.length>0;return(0,_.BX)(v,{children:[p&&(0,_.BX)(i.Fragment,{children:[(0,_.BX)(x,{first:!0,children:[(0,m.t)("My Teams with Access"),(0,_.tZ)(R,{children:(0,_.tZ)(c.Z,{isDisabled:!d,isChecked:n.length===t.size,isIndeterminate:n.length>t.size&&t.size>0,onClick:u})})]}),o.map((e=>(0,_.tZ)(S,{team:e,isKeyed:t.has(e.id),disabled:!1,onSelect:this.toggleSelection(!0,{action:t.has(e.id)?"unkey":"key",teamIds:[e.id],project:r,transactionName:s})},e.slug))),a.map((e=>(0,_.tZ)(S,{team:e,isKeyed:t.has(e.id),disabled:!0,onSelect:this.toggleSelection(!0,{action:t.has(e.id)?"unkey":"key",teamIds:[e.id],project:r,transactionName:s})},e.slug)))]}),l.length>0&&(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(x,{first:!p,children:(0,m.t)("My Teams without Access")}),l.map((e=>(0,_.tZ)(S,{team:e,disabled:!0},e.slug)))]})]})}renderMenu(){const{isLoading:e,counts:t,keyedTeams:n}=this.props;return!e&&(0,g.ri)(t)&&(0,g.ri)(n)?(0,o.createPortal)((0,_.tZ)(a.r,{placement:"top",modifiers:[{name:"hide",enabled:!1},{name:"preventOverflow",enabled:!0,options:{padding:10}}],children:e=>{let{ref:r,style:s,placement:i}=e;return(0,_.tZ)(T,{ref:e=>{r(e),this.menuEl=e},style:s,"data-placement":i,children:this.renderMenuContent(t,n)})}}),document.body):null}render(){const{isLoading:e,error:t,title:n,keyedTeams:r,initialValue:s,teams:i}=this.props,{isOpen:o}=this.state,a=o?this.renderMenu():null;return(0,_.BX)(l.dK,{children:[(0,_.tZ)(d.s,{children:a=>{let{ref:l}=a;return(0,_.tZ)(b,{ref:l,children:(0,_.tZ)(n,{isOpen:o,disabled:e||Boolean(t),keyedTeams:r?i.filter((e=>{let{id:t}=e;return r.has(t)})):null,initialValue:s,onClick:this.toggleOpen})})}}),a]})}}function S(e){let{team:t,isKeyed:n,disabled:r,onSelect:s}=e;return(0,_.tZ)(w,{disabled:r,onSelect:s,stopPropagation:!0,children:(0,_.BX)(A,{children:[t.slug,(0,_.tZ)(R,{children:(0,g.ri)(n)?r?(0,m.t)("Max %s",y.X):(0,_.tZ)(c.Z,{isChecked:n}):null})]})},t.slug)}E.displayName="TeamKeyTransaction",S.displayName="TeamKeyTransactionItem";const b=(0,s.Z)("div",{target:"e1nwfj6j6"})({name:"ugbj7z",styles:"display:flex;&>span{display:flex;}"}),T=(0,s.Z)("div",{target:"e1nwfj6j5"})("border:none;border-radius:2px;box-shadow:0 0 0 1px rgba(52, 60, 69, 0.2),0 1px 3px rgba(70, 82, 98, 0.25);background-clip:padding-box;background-color:",(e=>e.theme.background),";width:220px;overflow:visible;z-index:",(e=>e.theme.zIndex.tooltip),";&:before,&:after{width:0;height:0;content:'';display:block;position:absolute;right:auto;}&:before{border-left:9px solid transparent;border-right:9px solid transparent;left:calc(50% - 9px);z-index:-2;}&:after{border-left:8px solid transparent;border-right:8px solid transparent;left:calc(50% - 8px);z-index:-1;}&[data-placement*='bottom']{margin-top:9px;&:before{border-bottom:9px solid ",(e=>e.theme.border),";top:-9px;}&:after{border-bottom:8px solid ",(e=>e.theme.background),";top:-8px;}}&[data-placement*='top']{margin-bottom:9px;&:before{border-top:9px solid ",(e=>e.theme.border),";bottom:-9px;}&:after{border-top:8px solid ",(e=>e.theme.background),";bottom:-8px;}}"),v=(0,s.Z)("div",{target:"e1nwfj6j4"})({name:"9t7tbb",styles:"max-height:250px;pointer-events:auto;overflow-y:auto"}),x=(0,s.Z)(u.Z,{target:"e1nwfj6j3"})("display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:",(0,h.Z)(1)," ",(0,h.Z)(2),";background:",(e=>e.theme.backgroundSecondary),";",(e=>e.first&&"border-radius: 2px"),";"),w=(0,s.Z)(p.Z,{target:"e1nwfj6j2"})("font-size:",(e=>e.theme.fontSizeMedium),";&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}"),A=(0,s.Z)("div",{target:"e1nwfj6j1"})({name:"fxdlmq",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%"}),R=(0,s.Z)("span",{target:"e1nwfj6j0"})("min-width:",(0,h.Z)(2),";margin-left:",(0,h.Z)(1),";"),Z=E},"./app/components/performance/teamKeyTransactionsManager.tsx":(e,t,n)=>{n.d(t,{$:()=>g,z:()=>h});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("../node_modules/lodash/isEqual.js"),o=n.n(i),a=n("./app/actionCreators/indicator.tsx"),l=n("./app/locale.tsx"),d=n("./app/utils/parseLinkHeader.tsx"),u=n("./app/utils/withApi.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=(0,s.createContext)({teams:[],isLoading:!1,error:null,counts:null,getKeyedTeams:()=>null,handleToggleKeyTransaction:()=>{}});class m extends s.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{keyFetchID:null,isLoading:!0,error:null,teamKeyTransactions:[]}),(0,r.Z)(this,"getKeyedTeams",((e,t)=>{const{teamKeyTransactions:n}=this.state,r=new Set;return n.forEach((n=>{let{team:s,keyed:i}=n;i.find((n=>n.project_id===e&&n.transaction===t))&&r.add(s)})),r})),(0,r.Z)(this,"handleToggleKeyTransaction",(async e=>{const{api:t,organization:n}=this.props,{teamKeyTransactions:r}=this.state,{action:s,project:i,transactionName:o,teamIds:d}=e,u="unkey"===s,c=new Set(d),p=r.map((e=>{let{team:t,count:n,keyed:r}=e;return c.has(t)?u?{team:t,count:n-1,keyed:r.filter((e=>e.project_id!==i.id||e.transaction!==o))}:{team:t,count:n+1,keyed:[...r,{project_id:i.id,transaction:o}]}:{team:t,count:n,keyed:r}}));try{await function(e,t,n,r,s,i){(0,a.E3)((0,l.t)("Saving changes…"));const o=e.requestPromise(`/organizations/${n}/key-transactions/`,{method:t?"DELETE":"POST",query:{project:r.map((e=>String(e)))},data:{transaction:s,team:i}});return o.then(a.B8),o.catch((e=>{var t;const n=null==e?void 0:e.responseJSON,r=null!==(t=null==n?void 0:n.detail)&&void 0!==t?t:null==n?void 0:n.non_field_errors;Array.isArray(r)&&r.length&&r[0]?(0,a.Iw)(r[0]):(0,a.Iw)(null!=r?r:(0,l.t)("Unable to update key transaction"))})),o}(t,u,n.slug,[i.id],o,d),this.setState({teamKeyTransactions:p})}catch(e){var m,h;this.setState({error:null!==(m=null===(h=e.responseJSON)||void 0===h?void 0:h.detail)&&void 0!==m?m:null})}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=e.organization.slug!==this.props.organization.slug,n=!o()(e.selectedTeams,this.props.selectedTeams),r=!o()(e.selectedProjects,this.props.selectedProjects);(t||n||r)&&this.fetchData()}async fetchData(){const{api:e,organization:t,selectedTeams:n,selectedProjects:r}=this.props,s=Symbol("keyFetchID");this.setState({isLoading:!0,keyFetchID:s});let i=[],o=null;try{i=await async function(e,t,n,r){const s=`/organizations/${t}/key-transactions-list/`,i=[];let o,u=!0;for(;u;)try{var c;const t={cursor:o,team:n,project:r};t.cursor||delete t.cursor,null!==(c=t.project)&&void 0!==c&&c.length||delete t.project;const[a,,l]=await e.requestPromise(s,{method:"GET",includeAllArgs:!0,query:t});i.push(a);const g=null==l?void 0:l.getResponseHeader("Link");if(g){var p,m,h;const e=(0,d.Z)(g);u=null!==(p=null==e||null===(m=e.next)||void 0===m?void 0:m.results)&&void 0!==p&&p,o=null===(h=e.next)||void 0===h?void 0:h.cursor}else u=!1}catch(e){var g,f;throw(0,a.Iw)(null!==(g=null===(f=e.responseJSON)||void 0===f?void 0:f.detail)&&void 0!==g?g:(0,l.t)("Error fetching team key transactions")),e}return i.flat()}(e,t.slug,n,r)}catch(e){var u,c;o=null!==(u=null===(c=e.responseJSON)||void 0===c?void 0:c.detail)&&void 0!==u?u:(0,l.t)("Error fetching team key transactions")}this.setState({isLoading:!1,keyFetchID:void 0,error:o,teamKeyTransactions:i})}getCounts(){const{teamKeyTransactions:e}=this.state,t=new Map;return e.forEach((e=>{let{team:n,count:r}=e;t.set(n,r)})),t}render(){const{teams:e}=this.props,{isLoading:t,error:n}=this.state,r={teams:e,isLoading:t,error:n,counts:this.getCounts(),getKeyedTeams:this.getKeyedTeams,handleToggleKeyTransaction:this.handleToggleKeyTransaction};return(0,c.tZ)(p.Provider,{value:r,children:this.props.children})}}m.displayName="UnwrappedProvider";const h=(0,u.Z)(m),g=p.Consumer},"./app/components/performance/waterfall/constants.tsx":(e,t,n)=>{n.d(t,{U:()=>s,d:()=>r});const r=24,s=4},"./app/components/performance/waterfall/rowBar.tsx":(e,t,n)=>{n.d(t,{R:()=>a,e:()=>o});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/performance/waterfall/constants.tsx"),i=n("./app/components/performance/waterfall/utils.tsx");const o=(0,r.Z)("div",{target:"enpozew1"})("position:absolute;height:",s.d-2*s.U,"px;left:0;min-width:1px;user-select:none;transition:border-color 0.15s ease-in-out;",(e=>(0,i.xW)(e,"#dedae3","#f4f2f7")),";"),a="app"==n.j?(0,r.Z)("div",{target:"enpozew0"})("position:absolute;top:50%;display:flex;align-items:center;transform:translateY(-50%);white-space:nowrap;font-size:",(e=>e.theme.fontSizeExtraSmall),";color:",(e=>!0===e.showDetail?e.theme.gray200:e.theme.gray300),";font-variant-numeric:tabular-nums;line-height:1;",i.Jf,"@media (max-width: ",(e=>e.theme.breakpoints.medium),"){font-size:10px;}"):null},"./app/components/performance/waterfall/utils.tsx":(e,t,n)=>{n.d(t,{FV:()=>m,Jf:()=>a,R3:()=>p,bQ:()=>u,dF:()=>i,hd:()=>_,uZ:()=>h,ud:()=>d,uu:()=>l,xW:()=>o,yI:()=>c});var r=n("./app/constants/chartPalette.tsx"),s=n("./app/styles/space.tsx");const i=e=>{let{showStriping:t,showDetail:n,theme:r}=e;return n?r.textColor:t?r.backgroundSecondary:r.background};function o(e,t,n){let{spanBarHatch:r}=e;return!0===r?`\n      background-image: linear-gradient(135deg,\n        ${n},\n        ${n} 2.5px,\n        ${t} 2.5px,\n        ${t} 5px,\n        ${n} 6px,\n        ${n} 8px,\n        ${t} 8px,\n        ${t} 11px,\n        ${n} 11px,\n        ${n} 14px,\n        ${t} 14px,\n        ${t} 16.5px,\n        ${n} 16.5px,\n        ${n} 19px,\n        ${t} 20px\n      );\n      background-size: 16px 16px;\n    `:null}const a=e=>{let{durationDisplay:t,theme:n,spanBarHatch:r}=e;switch(t){case"left":return`right: calc(100% + ${(0,s.Z)(.5)});`;case"right":return`left: calc(100% + ${(0,s.Z)(.75)});`;default:return`\n        right: ${(0,s.Z)(.75)};\n        color: ${!0===r?n.gray300:n.white};\n      `}},l=e=>{let{theme:t,isExpanded:n,disabled:r,errored:s,isSpanGroupToggler:i}=e;const o=n?t.button.default:t.button.primary,a=t.button.danger,l=s?n?o.background:a.background:o.background,d=s?a.background:o.border,u=s&&n?a.background:o.color;return i?`\n    background: ${t.blue300};\n    border: 1px solid ${t.button.default.border};\n    color: ${u};\n    cursor: pointer;\n  `:r?`\n    background: ${l};\n    border: 1px solid ${d};\n    color: ${u};\n    cursor: default;\n  `:`\n    background: ${l};\n    border: 1px solid ${d};\n    color: ${u};\n  `},d=e=>{let{width:t,left:n}=e;return void 0===n||void 0===t?"inset":n+t<.7?"right":n>.3?"left":"inset"},u=e=>`${(1e3*e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}ms`,c=e=>`${(100*e).toFixed(3)}%`,p=e=>{const{left:t,top:n}=e.getBoundingClientRect();return{x:t+window.pageXOffset,y:n+window.pageYOffset}},m=e=>{const{x:t,y:n}=p(e);return{x:t+(e.clientLeft-e.scrollLeft),y:n+(e.clientTop-e.scrollTop),width:e.scrollWidth,height:e.scrollHeight}},h=(e,t,n)=>e<t?t:e>n?n:e,g=e=>{const t="abcdefghijklmnopqrstuvwxyz".indexOf(e)||0;return-1===t?0:t},f=Object.keys(r.Z).map((e=>r.Z[17][e])),y={default:r.Z[17][4],transaction:r.Z[17][8],http:r.Z[17][10],db:r.Z[17][17]},_=e=>{if(!e||e.length<3)return r.Z[17][4];if(y[e])return y[e];const t=g(e.slice(0,1)),n=g(e.slice(1,2)),s=g(e.slice(2,3)),i=g(e.slice(3,4));return f[(t+n+s+i)%f.length]}},"./app/components/scoreBar.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./app/utils/theme.tsx")),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=e=>{let{score:t,className:n,vertical:r,size:a=40,thickness:l=4,radius:u=3,palette:c=s.ZP.similarity.colors}=e;const p=c.length,m=t>=p?p:t<=0?0:t,h=m-1,g={vertical:r,thickness:l,size:a,radius:u};return(0,o.BX)("div",{className:n,children:[[...Array(m)].map(((e,t)=>(0,i.az)(d,{...g,key:t,color:c[h]}))),[...Array(p-m)].map(((e,t)=>(0,o.tZ)(d,{...g,empty:!0},`empty-${t}`)))]})};a.displayName="BaseScoreBar";const l=(0,r.Z)(a,{target:"e1bnnx291"})("display:flex;",(e=>e.vertical?"flex-direction: column-reverse;\n    justify-content: flex-end;":"min-width: 80px;"),";"),d=(0,r.Z)("div",{target:"e1bnnx290"})("border-radius:",(e=>e.radius),"px;margin:2px;",(e=>e.empty&&`background-color: ${e.theme.similarity.empty};`),";",(e=>e.color&&`background-color: ${e.color};`),";width:",(e=>e.vertical?e.size:e.thickness),"px;height:",(e=>e.vertical?e.thickness:e.size),"px;"),u=l},"./app/components/shortId.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/autoSelectText.tsx"),i=n("./app/components/links/link.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{shortId:t,avatar:n,onClick:r,to:s,className:a}=e;return t?(0,o.BX)(l,{onClick:r,className:a,children:[n,s?(0,o.tZ)(i.Z,{to:s,children:t}):(0,o.tZ)(d,{children:t})]}):null}a.displayName="ShortId";const l=(0,r.Z)("div",{target:"e1k2zj7b1"})("font-family:",(e=>e.theme.text.familyMono),";display:grid;grid-auto-flow:column;gap:0.5em;align-items:center;justify-content:flex-end;"),d=(0,r.Z)(s.Z,{target:"e1k2zj7b0"})("min-width:0;a &{color:",(e=>e.theme.linkColor),";}"),u=a},"./app/components/userMisery.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("./app/components/scoreBar.tsx"),s=n("./app/components/tooltip.tsx"),i=n("./app/constants/chartPalette.tsx"),o=n("./app/locale.tsx"),a=n("./app/utils.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){const{bars:t,barHeight:n,userMisery:d,miseryLimit:u,totalUsers:c,miserableUsers:p}=e,m=d>.05?d:0,h=new Array(t).fill([i.Z[0][0]]),g=Math.round(m*h.length);let f;return f=(0,a.ri)(p)&&(0,a.ri)(c)&&(0,a.ri)(u)?(0,o._N)("[miserableUsers] out of [totalUsers] unique users waited more than [duration]ms (4x the response time threshold)",{miserableUsers:p,totalUsers:c,duration:4*u}):(0,a.ri)(u)?(0,o._N)("User Misery score is [userMisery], representing users who waited more than [duration]ms (4x the response time threshold)",{duration:4*u,userMisery:d.toFixed(3)}):(0,o._N)("User Misery score is [userMisery].",{userMisery:d.toFixed(3)}),(0,l.tZ)(s.Z,{title:f,containerDisplayMode:"block",children:(0,l.tZ)(r.Z,{size:n,score:g,palette:h,radius:0})})}d.displayName="UserMisery";const u=d},"./app/components/version.tsx":(e,t,n)=>{n.d(t,{Z:()=>b});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react-router/es/index.js")),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=n("./app/components/clipboard.tsx"),a=n("./app/components/globalSelectionLink.tsx"),l=n("./app/components/links/link.tsx"),d=n("./app/components/tooltip.tsx"),u=n("./app/icons/index.tsx"),c=n("./app/styles/space.tsx"),p=n("./app/utils/formatters.tsx"),m=n("./app/utils/theme.tsx"),h=n("./app/utils/withOrganization.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const f=e=>{let{version:t,organization:n,anchor:r=!0,preservePageFilters:s,tooltipRawVersion:c,withPackage:h,projectId:f,truncate:b,className:T,location:v}=e;const x=(0,p.ko)(t,h);let w;return f?w=f:null!=n&&n.features.includes("global-views")||(w=null==v?void 0:v.query.project),(0,g.tZ)(d.Z,{title:(0,g.BX)(_,{onClick:e=>{e.stopPropagation()},children:[(0,g.tZ)(E,{children:t}),(0,g.tZ)(o.Z,{value:t,children:(0,g.tZ)(S,{children:(0,g.tZ)(u.vU,{size:"xs"})})})]}),disabled:!c,isHoverable:!0,containerDisplayMode:b?"block":"inline-block",overlayStyle:(()=>{if(!/(^[a-f0-9]{40}$)|(^[a-f0-9]{64}$)/.test(t))return(0,i.iv)("@media (min-width: ",m.ZP.breakpoints.small,"){max-width:500px;}","")})(),children:(()=>{if(r&&null!=n&&n.slug){const e={to:{pathname:`/organizations/${null==n?void 0:n.slug}/releases/${encodeURIComponent(t)}/`,query:w?{project:w}:void 0},className:T};return s?(0,g.tZ)(a.Z,{...e,children:(0,g.tZ)(y,{truncate:b,children:x})}):(0,g.tZ)(l.Z,{...e,children:(0,g.tZ)(y,{truncate:b,children:x})})}return(0,g.tZ)(y,{className:T,truncate:b,children:x})})()})};f.displayName="Version";const y=(0,r.Z)("span",{target:"eqmhduc3"})((e=>e.truncate&&"max-width: 100%;\n    display: block;\n  overflow: hidden;\n  font-variant-numeric: tabular-nums;\n  text-overflow: ellipsis;\n  white-space: nowrap;"),";"),_=(0,r.Z)("span",{target:"eqmhduc2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),E=(0,r.Z)("span",{target:"eqmhduc1"})((e=>e.theme.overflowEllipsis),";"),S=(0,r.Z)("span",{target:"eqmhduc0"})("margin-left:",(0,c.Z)(.5),";position:relative;bottom:-",(0,c.Z)(.25),";&:hover{cursor:pointer;}"),b=(0,h.Z)((0,s.withRouter)(f))},"./app/stores/guideStore.tsx":(e,t,n)=>{n.d(t,{Z:()=>_}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react-router/es/index.js"),s=n("../node_modules/reflux/src/index.js"),i=n("./app/actions/organizationsActions.tsx"),o=n("./app/components/links/externalLink.tsx"),a=n("./app/components/links/link.tsx"),l=n("./app/locale.tsx"),d=n("./app/stores/configStore.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var c=n("./app/constants/index.tsx"),p=n("./app/stores/hookStore.tsx"),m=n("./app/utils/analytics.tsx"),h=n("./app/utils/makeSafeRefluxStore.ts");function g(e,t){var n,r;const s=null!==(n=e.priority)&&void 0!==n?n:Number.MAX_SAFE_INTEGER,i=null!==(r=t.priority)&&void 0!==r?r:Number.MAX_SAFE_INTEGER;return s===i?e.guide.localeCompare(t.guide):s-i}const f={forceHide:!1,guides:[],anchors:new Set,currentGuide:null,currentStep:0,orgId:null,orgSlug:null,forceShow:!1,prevGuide:null},y={state:f,unsubscribeListeners:[],browserHistoryListener:null,init(){this.state=f,this.unsubscribeListeners.push(this.listenTo(i.Z.setActive,this.onSetActiveOrganization)),window.addEventListener("load",this.onURLChange,!1),this.browserHistoryListener=r.browserHistory.listen((()=>this.onURLChange()))},teardown(){(0,h.W)(this.unsubscribeListeners),window.removeEventListener("load",this.onURLChange),this.browserHistoryListener&&this.browserHistoryListener()},onURLChange(){this.state.forceShow="#assistant"===window.location.hash,this.updateCurrentGuide()},onSetActiveOrganization(e){this.state.orgId=e?e.id:null,this.state.orgSlug=e?e.slug:null,this.updateCurrentGuide()},fetchSucceeded(e){if(!e||!Array.isArray(e))return;const t=(n=this.state.orgSlug,d.Z.get("demoMode")?[{guide:"sidebar",requiredTargets:["projects","issues"],priority:1,markOthersAsSeen:!0,steps:[{title:(0,l.t)("Projects"),target:"projects",description:(0,l.t)("Create a project for any type of application you want to monitor.")},{title:(0,l.t)("Issues"),target:"issues",description:(0,l.t)("Here's a list of what's broken with your application. And everything you need to know to fix it.")},{title:(0,l.t)("Performance"),target:"performance",description:(0,l.t)("See slow faster. Trace slow-loading pages back to their API calls as well as surface all related errors.")},{title:(0,l.t)("Releases"),target:"releases",description:(0,l.t)("Track the health of every release, see differences between releases from crash analytics to adoption rates.")},{title:(0,l.t)("Discover"),target:"discover",description:(0,l.t)("Query and unlock insights into the health of your entire system and get answers to critical business questions all in one place."),nextText:(0,l.t)("Got it")}]},{guide:"issue_stream_v2",requiredTargets:["issue_stream_title"],steps:[{title:(0,l.t)("Issue"),target:"issue_stream_title",description:(0,l.t)("Click here to get a full error report down to the line of code that caused the error.")}]},{guide:"issue_v2",requiredTargets:["issue_details","exception"],steps:[{title:(0,l.t)("Details"),target:"issue_details",description:(0,l.t)("See the who, what, and where of every error right at the top")},{title:(0,l.t)("Exception"),target:"exception",description:(0,l.t)("Source code right in the stack trace, so you don’t need to find it yourself.")},{title:(0,l.t)("Tags"),target:"tags",description:(0,l.t)("Tags help you quickly access related events and view the tag distribution for a set of events.")},{title:(0,l.t)("Breadcrumbs"),target:"breadcrumbs",description:(0,l.t)("Check out the play by play of what your user experienced till they encountered the exception.")},{title:(0,l.t)("Discover"),target:"open_in_discover",description:(0,l.t)("Uncover trends with Discover — analyze errors by URL, geography, device, browser, etc.")}]},{guide:"releases",requiredTargets:["release_version"],steps:[{title:(0,l.t)("Release"),target:"release_version",description:(0,l.t)("Click here to easily identify new issues, regressions, and track the health of every release.")}]},{guide:"release_details",requiredTargets:["release_chart"],steps:[{title:(0,l.t)("Chart"),target:"release_chart",description:(0,l.t)("Click and drag to zoom in on a specific section of the chart.")},{title:(0,l.t)("Discover"),target:"release_issues_open_in_discover",description:(0,l.t)("Analyze these errors by URL, geography, device, browser, etc.")},{title:(0,l.t)("Discover"),target:"release_transactions_open_in_discover",description:(0,l.t)("Analyze these performance issues by URL, geography, device, browser, etc.")}]},{guide:"discover_landing",requiredTargets:["discover_landing_header"],steps:[{title:(0,l.t)("Discover"),target:"discover_landing_header",description:(0,l.t)("Click into any of the queries below to identify trends in event data.")}]},{guide:"discover_event_view",requiredTargets:["create_alert_from_discover"],steps:[{title:(0,l.t)("Create Alert"),target:"create_alert_from_discover",description:(0,l.t)("Create an alert based on this query to get notified when an event exceeds user-defined thresholds.")},{title:(0,l.t)("Columns"),target:"columns_header_button",description:(0,l.t)("There's a whole lot more to... _discover_. View all the query conditions.")}]},{guide:"transaction_details",requiredTargets:["span_tree"],steps:[{title:(0,l.t)("Span Tree"),target:"span_tree",description:(0,l.t)("Expand the spans to see span details from start date, end date to the operation.")},{title:(0,l.t)("Breadcrumbs"),target:"breadcrumbs",description:(0,l.t)("Check out the play by play of what your user experienced till they encountered the performance issue.")}]}]:[{guide:"issue",requiredTargets:["issue_number","exception"],steps:[{title:(0,l.t)("Identify Your Issues"),target:"issue_number",description:(0,l._N)("You have Issues. That's fine. Use the Issue number in your commit message,\n                and we'll automatically resolve the Issue when your code is deployed. [link:Learn more]",{link:(0,u.tZ)(o.Z,{href:"https://docs.sentry.io/product/releases/"})})},{title:(0,l.t)("Annoy the Right People"),target:"owners",description:(0,l._N)("Notification overload makes it tempting to hurl your phone into the ocean.\n                Define who is responsible for what, so alerts reach the right people and your\n                devices stay on dry land. [link:Learn more]",{link:(0,u.tZ)(o.Z,{href:"https://docs.sentry.io/product/error-monitoring/issue-owners/"})})},{title:(0,l.t)("Narrow Down Suspects"),target:"exception",description:(0,l.t)("We've got stack trace. See the exact sequence of function calls leading to the error\n                in question, no detective skills necessary.")},{title:(0,l.t)("Retrace Your Steps"),target:"breadcrumbs",description:(0,l.t)("Not sure how you got here? Sentry automatically captures breadcrumbs for events in web\n                frameworks to lead you straight to your error.")}]},{guide:"issue_stream",requiredTargets:["issue_stream"],steps:[{title:(0,l.t)("Issues"),target:"issue_stream",description:(0,l._N)("Sentry automatically groups similar events together into an issue. Similarity is\n            determined by stack trace and other factors. [link:Learn more].",{link:(0,u.tZ)(o.Z,{href:"https://docs.sentry.io/platform-redirect/?next=/data-management/event-grouping/"})})}]},{guide:"alerts_write_owner",requiredTargets:["alerts_write_owner"],steps:[{target:"alerts_write_owner",description:(0,l._N)("Today only admins in your organization can create alert rules but we recommend [link:allowing members to create alerts], too.",{link:(0,u.tZ)(a.Z,{to:n?`/settings/${n}`:"/settings"})}),nextText:(0,l.t)("Allow"),hasNextGuide:!0}]},{guide:"trace_view",requiredTargets:["trace_view_guide_row","trace_view_guide_row_details"],steps:[{title:(0,l.t)("Event Breakdown"),target:"trace_view_guide_breakdown",description:(0,l.t)("The event breakdown shows you the breakdown of event types within a trace.")},{title:(0,l.t)("Transactions"),target:"trace_view_guide_row",description:(0,l.t)("You can quickly see all the transactions in a trace alongside the project, transaction duration, and any related errors.")},{title:(0,l.t)("Transactions Details"),target:"trace_view_guide_row_details",description:(0,l.t)("Click on any transaction to see more details.")}]},{guide:"span_op_breakdowns_and_tag_explorer",requiredTargets:["span_op_breakdowns_filter"],steps:[{title:(0,l.t)("Filter by Span Operation"),target:"span_op_breakdowns_filter",description:(0,l.t)("You can now filter these transaction events based on http, db, browser or resource operation.")},{title:(0,l.t)("Suspect Tags"),target:"tag_explorer",description:(0,l._N)("See which tags often correspond to slower transactions. You'll want to investigate these more. [link:Learn more]",{link:(0,u.tZ)(o.Z,{href:"https://docs.sentry.io/product/performance/transaction-summary/#suspect-tags"})})}]},{guide:"project_transaction_threshold",requiredTargets:["project_transaction_threshold"],steps:[{title:(0,l.t)("Project Thresholds"),target:"project_transaction_threshold",description:(0,l.t)("Gauge performance using different metrics for each project. Set response time thresholds, per project, for the Apdex and User Misery Scores in each project’s Performance settings.")}]},{guide:"project_transaction_threshold_override",requiredTargets:["project_transaction_threshold_override"],steps:[{title:(0,l.t)("Response Time Thresholds"),target:"project_transaction_threshold_override",description:(0,l.t)("Use this menu to adjust each transaction’s satisfactory response time threshold, which can vary across transactions. These thresholds are used to calculate Apdex and User Misery, metrics that indicate how satisfied and miserable users are, respectively.")}]},{guide:"semver",requiredTargets:["releases_search"],dateThreshold:new Date("2021-05-01"),steps:[{title:(0,l.t)("Filter by Semver"),target:"releases_search",description:(0,l._N)("You can now filter releases by semver. For example: release.version:>14.0 [br] [link:View the docs]",{br:(0,u.tZ)("br",{}),link:(0,u.tZ)(o.Z,{href:"https://docs.sentry.io/product/releases/usage/sorting-filtering/#filtering-releases"})}),nextText:(0,l.t)("Leave me alone")}]},{guide:"new_page_filters",requiredTargets:["new_page_filter_button"],expectedTargets:["new_page_filter_pin"],dateThreshold:new Date("2022-04-05"),steps:[{title:(0,l.t)("Selection filters here now!"),target:"new_page_filter_button",description:(0,l.t)("Selection filters were at the top of the page. Now they're here. Because this is what's getting filtered. Obvi."),nextText:(0,l.t)("Sounds Good")},{title:(0,l.t)("Pin your filters"),target:"new_page_filter_pin",description:(0,l.t)("Want to keep the same filters between searches and sessions? Click this button. Don't want to? Don't click this button."),nextText:(0,l.t)("Got It")}]}]).reduce(((t,n)=>{const r=e.find((e=>e.guide===n.guide));return r&&t.push({...n,...r}),t}),[]);var n;this.state.guides=t,this.updateCurrentGuide()},closeGuide(e){const{currentGuide:t,guides:n}=this.state;n.filter((n=>n.guide===(null==t?void 0:t.guide)||(null==t?void 0:t.markOthersAsSeen)&&e)).forEach((e=>e.seen=!0)),this.state.forceShow=!1,this.updateCurrentGuide()},nextStep(){this.state.currentStep+=1,this.trigger(this.state)},toStep(e){this.state.currentStep=e,this.trigger(this.state)},registerAnchor(e){this.state.anchors.add(e),this.updateCurrentGuide()},unregisterAnchor(e){this.state.anchors.delete(e),this.updateCurrentGuide()},setForceHide(e){this.state.forceHide=e,this.trigger(this.state)},recordCue(e){const t=d.Z.get("user");if(!t)return;const n={guide:e,eventKey:"assistant.guide_cued",eventName:"Assistant Guide Cued",organization_id:this.state.orgId,user_id:parseInt(t.id,10)};(0,m.ec)(n)},updatePrevGuide(e){const{prevGuide:t}=this.state;e&&(t&&t.guide===e.guide||(this.recordCue(e.guide),this.state.prevGuide=e))},updateCurrentGuide(e){const{anchors:t,guides:n,forceShow:r}=this.state;let s=n.sort(g).filter((e=>e.requiredTargets.every((e=>t.has(e)))));const i=d.Z.get("user"),o=new Date(2019,6,1),a=new Date(null==i?void 0:i.dateJoined);r||(s=s.filter((e=>{let{seen:t,dateThreshold:n}=e;return!t&&(!(null==i||!i.isSuperuser||c.Bo)||(n?a<n:a>o))})));const l=s.length>0?{...s[0],steps:s[0].steps.filter((e=>{var n,r;return t.has(e.target)||(null===(n=s[0])||void 0===n||null===(r=n.expectedTargets)||void 0===r?void 0:r.includes(e.target))}))}:null;this.updatePrevGuide(l),this.state.currentStep=this.state.currentGuide&&l&&this.state.currentGuide.guide===l.guide?this.state.currentStep:0,this.state.currentGuide=l,this.trigger(this.state),p.Z.get("callback:on-guide-update").map((t=>t(l,{dismissed:e})))}},_=(0,s.createStore)((0,h.Y)(y))},"./app/stores/pageFiltersStore.tsx":(e,t,n)=>{n.d(t,{Z:()=>g}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/lodash/isEqual.js"),s=n.n(r),i=n("../node_modules/reflux/src/index.js"),o=n("./app/actions/pageFiltersActions.tsx"),a=n("./app/components/organizations/pageFilters/utils.tsx"),l=n("../node_modules/lodash/isDate.js"),d=n.n(l),u=n("../node_modules/lodash/isEqualWith.js"),c=n.n(u);function p(e,t){return d()(e)&&d()(t)?+e==+t:!e&&!t||void 0}var m=n("./app/utils/makeSafeRefluxStore.ts");const h={selection:(0,a.Zs)(),pinnedFilters:new Set,desyncedFilters:new Set,hasInitialState:!1,unsubscribeListeners:[],init(){this.reset(this.selection),this.unsubscribeListeners.push(this.listenTo(o.Z.reset,this.onReset)),this.unsubscribeListeners.push(this.listenTo(o.Z.initializeUrlState,this.onInitializeUrlState)),this.unsubscribeListeners.push(this.listenTo(o.Z.updateProjects,this.updateProjects)),this.unsubscribeListeners.push(this.listenTo(o.Z.updateDateTime,this.updateDateTime)),this.unsubscribeListeners.push(this.listenTo(o.Z.updateEnvironments,this.updateEnvironments)),this.unsubscribeListeners.push(this.listenTo(o.Z.updateDesyncedFilters,this.updateDesyncedFilters)),this.unsubscribeListeners.push(this.listenTo(o.Z.pin,this.pin))},reset(e){this._isReady=!1,this.selection=e||(0,a.Zs)(),this.pinnedFilters=new Set},onInitializeUrlState(e,t){this._isReady=!0,this.selection=e,this.pinnedFilters=t,this.trigger(this.getState())},getState(){return{selection:this.selection,pinnedFilters:this.pinnedFilters,desyncedFilters:this.desyncedFilters,isReady:this._isReady}},onReset(){this.reset(),this.trigger(this.getState())},updateDesyncedFilters(e){this.desyncedFilters=e,this.trigger(this.getState())},updateProjects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s()(this.selection.projects,e)||(this.selection={...this.selection,projects:e,environments:null===t?this.selection.environments:t},this.trigger(this.getState()))},updateDateTime(e){var t,n;t=this.selection.datetime,n=e,c()(t,n,p)||(this.selection={...this.selection,datetime:e},this.trigger(this.getState()))},updateEnvironments(e){s()(this.selection.environments,e)||(this.selection={...this.selection,environments:null!=e?e:[]},this.trigger(this.getState()))},pin(e,t){t?this.pinnedFilters.add(e):this.pinnedFilters.delete(e),this.trigger(this.getState())}},g=(0,i.createStore)((0,m.Y)(h))},"./app/types/utils.tsx":(e,t,n)=>{function r(e){}function s(e){return void 0!==e.id}n.d(t,{V1:()=>s,hu:()=>r})},"./app/utils/dates.tsx":(e,t,n)=>{n.d(t,{Bv:()=>b,L0:()=>m,M_:()=>a,Ri:()=>v,Sv:()=>h,YJ:()=>T,Yz:()=>S,gn:()=>x,hC:()=>g,jI:()=>_,kv:()=>A,n3:()=>y,pv:()=>w,qE:()=>f,sC:()=>c,tk:()=>l,us:()=>E,v5:()=>p,zs:()=>R}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/moment/moment.js"),s=n.n(r),i=n("./app/components/organizations/pageFilters/parse.tsx"),o=n("./app/stores/configStore.tsx");const a="00:00:00",l="23:59:59",d="YYYY/MM/DD HH:mm:ss";function u(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?s():s().utc}function c(e){return s()(e,"HH:mm",!0).isValid()}function p(e){return s().utc(e).format(s().HTML5_FMT.DATETIME_LOCAL_SECONDS)}function m(e,t){let{local:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(n)(e).format(t)}function h(){var e,t;return null===(e=o.Z.get("user"))||void 0===e||null===(t=e.options)||void 0===t?void 0:t.timezone}function g(e){return s().utc(e).local().toDate()}function f(e,t){let{local:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=t.split(":").map((e=>parseInt(e,10))),o=new Date(+e);return n?o.setHours(r,s):o.setUTCHours(r,s),void 0!==i&&o.setSeconds(i),o}function y(e){return new Date(s().utc(e).format(d))}function _(e){return new Date(s()(e).format(d))}function E(e){return s()(e).add(1,"day").startOf("hour").startOf("minute").startOf("second").subtract(1,"second").local().toDate()}function S(e,t){return s()().local().subtract(t,e)}function b(e,t){return n=S(e,t),s()(n).startOf("day").startOf("hour").startOf("minute").startOf("second").local().toDate();var n}function T(e){const t=(0,i.su)(e);if(!t)return-1;const{period:n,periodLength:r}=t,s=parseInt(n,10);switch(r){case"s":return s/3600;case"m":return s/60;case"h":return s;case"d":return 24*s;case"w":return 24*s*7;default:return-1}}function v(e,t,n){return e&&e.endsWith("d")?parseInt(e.slice(0,-1),10):e&&e.endsWith("h")?parseInt(e.slice(0,-1),10)/24:t&&n?(new Date(n).getTime()-new Date(t).getTime())/864e5:0}function x(){var e,t;return null===(e=o.Z.get("user"))||void 0===e||null===(t=e.options)||void 0===t?void 0:t.clock24Hours}function w(){let{displaySeconds:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x()?e?"HH:mm:ss":"HH:mm":e?"LTS":"LT"}function A(e,t){return t?y(e):new Date(s().tz(s().utc(e),h()).format("YYYY/MM/DD HH:mm:ss"))}function R(e,t){return s().tz(s()(e).local().format("YYYY-MM-DD HH:mm:ss"),t?"UTC":h()).utc().toDate()}},"./app/utils/discover/fieldRenderers.tsx":(e,t,n)=>{n.d(t,{fK:()=>ie,Js:()=>se,NW:()=>J,D0:()=>K});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react-router/es/index.js")),i=n("../node_modules/lodash/partial.js"),o=n.n(i),a=n("./app/components/count.tsx"),l=n("./app/components/duration.tsx"),d=n("./app/components/idBadge/projectBadge.tsx"),u=n("./app/components/idBadge/userBadge.tsx"),c=n("./app/components/links/externalLink.tsx"),p=n("./app/components/performance/waterfall/rowBar.tsx"),m=n("./app/components/performance/waterfall/utils.tsx"),h=n("./app/components/tooltip.tsx"),g=n("./app/components/userMisery.tsx"),f=n("./app/components/version.tsx"),y=n("./app/locale.tsx"),_=n("./app/utils.tsx"),E=n("./app/utils/analytics.tsx"),S=n("./app/utils/discover/fields.tsx"),b=n("./app/utils/events.tsx"),T=n("./app/utils/formatters.tsx"),v=n("./app/utils/getDynamicText.tsx"),x=n("./app/utils/projects.tsx"),w=n("./app/views/performance/transactionSummary/filter.tsx"),A=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=n("../node_modules/react/index.js"),Z=n("./app/styles/space.tsx"),N=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class O extends R.Component{constructor(){super(...arguments),(0,A.Z)(this,"state",{expanded:!1}),(0,A.Z)(this,"handleToggle",(()=>{this.setState((e=>({expanded:!e.expanded})))}))}render(){const{expanded:e}=this.state,{value:t}=this.props;return(0,N.BX)(k,{expanded:e,children:[e&&t.slice(0,t.length-1).map(((e,t)=>(0,N.tZ)(I,{children:K(e)},`${t}:${e}`))),(0,N.tZ)(I,{children:K(t.slice(-1)[0])}),t.length>1?(0,N.tZ)(C,{children:(0,N.tZ)("button",{onClick:this.handleToggle,children:e?(0,y.t)("[collapse]"):(0,y.t)("[+%s more]",t.length-1)})}):null]})}}O.displayName="ArrayValue";const k=(0,r.Z)("div",{target:"e536ad12"})("display:flex;flex-direction:",(e=>e.expanded?"column":"row"),";& button{background:none;border:0;outline:none;padding:0;cursor:pointer;color:",(e=>e.theme.blue300),";margin-left:",(0,Z.Z)(.5),";}"),I=(0,r.Z)("span",{target:"e536ad11"})("flex-shrink:1;display:block;",(e=>e.theme.overflowEllipsis),";width:unset;"),C=(0,r.Z)("div",{target:"e536ad10"})({name:"1bmnxg7",styles:"white-space:nowrap"}),j=O;var F=n("./app/utils/discover/styles.tsx"),D=n("./app/components/button.tsx"),M=n("./app/components/performance/teamKeyTransaction.tsx"),L=n("./app/components/performance/teamKeyTransactionsManager.tsx"),P=n("./app/icons/index.tsx"),U=n("./app/utils/withProjects.tsx");class z extends R.Component{render(){var e,t;const{isOpen:n,keyedTeams:r,initialValue:s,...i}=this.props,o=null!==(e=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:s)&&void 0!==e?e:0,a=(0,N.tZ)(P.GK,{color:o?"yellow300":"gray200",isSolid:o>0,"data-test-id":"team-key-transaction-column"}),l=(0,N.tZ)(D.ZP,{...i,icon:a,borderless:!0,size:"zero","aria-label":(0,y.t)("Toggle star for team")});if(!n&&null!=r&&r.length){const e=r.map((e=>{let{slug:t}=e;return t})).join(", ");return(0,N.tZ)(h.Z,{title:e,children:l})}return l}}function $(e){let{isKeyTransaction:t,counts:n,getKeyedTeams:r,project:s,transactionName:i,...o}=e;const a=r(s.id,i);return(0,N.tZ)(M.Z,{counts:n,keyedTeams:a,title:z,project:s,transactionName:i,initialValue:Number(t),...o})}function V(e){let{isKeyTransaction:t,projects:n,projectSlug:r,transactionName:s,...i}=e;const o=n.find((e=>e.slug===r));return(0,_.ri)(o)&&(0,_.ri)(s)?(0,N.tZ)(L.$,{children:e=>(0,N.tZ)($,{isKeyTransaction:t,project:o,transactionName:s,...i,...e})}):(0,N.tZ)(z,{isOpen:!1,disabled:!0,keyedTeams:null,initialValue:Number(t)})}z.displayName="TitleStar",$.displayName="TeamKeyTransactionField",V.displayName="TeamKeyTransactionFieldWrapper";const q=(0,U.Z)(V),H=(0,r.Z)("span",{target:"ettn0cm3"})("color:",(e=>e.theme.gray300),";"),B=(0,N.tZ)(H,{children:(0,y.t)("(no value)")}),G=(0,N.tZ)(H,{children:(0,y.t)("(empty string)")});function K(e){switch(e){case null:return B;case"":return G;default:return e}}const Y={boolean:{isSortable:!0,renderFunc:(e,t)=>{const n=t[e]?(0,y.t)("true"):(0,y.t)("false");return(0,N.tZ)(F.W2,{children:n})}},date:{isSortable:!0,renderFunc:(e,t)=>(0,N.tZ)(F.W2,{children:t[e]?(0,v.Z)({value:(0,N.tZ)(F.Ik,{date:t[e]}),fixed:"timestamp"}):B})},duration:{isSortable:!0,renderFunc:(e,t)=>(0,N.tZ)(F.Hw,{children:"number"==typeof t[e]?(0,N.tZ)(l.Z,{seconds:t[e]/1e3,fixedDigits:2,abbreviation:!0}):B})},integer:{isSortable:!0,renderFunc:(e,t)=>(0,N.tZ)(F.Hw,{children:"number"==typeof t[e]?(0,N.tZ)(a.Z,{value:t[e]}):B})},number:{isSortable:!0,renderFunc:(e,t)=>(0,N.tZ)(F.Hw,{children:"number"==typeof t[e]?(0,T.$1)(t[e],4):B})},percentage:{isSortable:!0,renderFunc:(e,t)=>(0,N.tZ)(F.Hw,{children:"number"==typeof t[e]?(0,T.rl)(t[e]):B})},string:{isSortable:!0,renderFunc:(e,t)=>{const n=Array.isArray(t[e])?t[e].slice(-1):(0,_.ri)(t[e])?t[e]:B;return(0,_.CB)(n)?(0,N.tZ)(F.W2,{children:(0,N.tZ)(c.Z,{href:n,"data-test-id":"group-tag-url",children:n})}):(0,N.tZ)(F.W2,{children:K(n)})}},array:{isSortable:!0,renderFunc:(e,t)=>{const n=Array.isArray(t[e])?t[e]:[t[e]];return(0,N.tZ)(j,{value:n})}}},W={id:{sortField:"id",renderFunc:e=>{const t=null==e?void 0:e.id;return"string"!=typeof t?null:(0,N.tZ)(F.W2,{children:(0,b.XQ)(t)})}},trace:{sortField:"trace",renderFunc:e=>{const t=null==e?void 0:e.trace;return"string"!=typeof t?null:(0,N.tZ)(F.W2,{children:(0,b.XQ)(t)})}},"issue.id":{sortField:"issue.id",renderFunc:(e,t)=>{let{organization:n}=t;const r={pathname:`/organizations/${n.slug}/issues/${e["issue.id"]}/`};return(0,N.tZ)(F.W2,{children:(0,N.tZ)(F.Jo,{to:r,"aria-label":e["issue.id"],children:e["issue.id"]})})}},issue:{sortField:null,renderFunc:(e,t)=>{let{organization:n}=t;const r=e["issue.id"];if(!r)return(0,N.tZ)(F.W2,{children:(0,N.tZ)(F.PV,{shortId:`${e.issue}`})});const s={pathname:`/organizations/${n.slug}/issues/${r}/`};return(0,N.tZ)(F.W2,{children:(0,N.tZ)(F.Jo,{to:s,"aria-label":r,children:(0,N.tZ)(F.PV,{shortId:`${e.issue}`})})})}},project:{sortField:"project",renderFunc:(e,t)=>{let n,r,{organization:s}=t;return"number"==typeof e.project?r=[e.project]:n=[e.project],(0,N.tZ)(F.W2,{children:(0,N.tZ)(x.Z,{orgId:s.slug,slugs:n,projectIds:r,children:t=>{let n,{projects:r}=t;return n="number"==typeof e.project?r.find((t=>t.id===e.project.toString())):r.find((t=>t.slug===e.project)),(0,N.tZ)(d.Z,{project:n||{slug:e.project},avatarSize:16})}})})}},user:{sortField:"user",renderFunc:e=>{if(e.user){const[t,n]=e.user.split(":"),r={id:"",name:"",email:"",username:"",ip_address:""};r[t]=n;const s=(0,N.tZ)(u.Z,{user:r,hideEmail:!0,avatarSize:16});return(0,N.tZ)(F.W2,{children:s})}return(0,N.tZ)(F.W2,{children:B})}},"user.display":{sortField:"user.display",renderFunc:e=>{if(e["user.display"]){const t={id:"",name:e["user.display"],email:"",username:"",ip_address:""},n=(0,N.tZ)(u.Z,{user:t,hideEmail:!0,avatarSize:16});return(0,N.tZ)(F.W2,{children:n})}return(0,N.tZ)(F.W2,{children:B})}},"count_unique(user)":{sortField:"count_unique(user)",renderFunc:e=>{var t;const n=null!==(t=e.count_unique_user)&&void 0!==t?t:e["count_unique(user)"];return"number"==typeof n?(0,N.BX)(F.Ej,{children:[(0,N.tZ)(F.Hw,{children:(0,N.tZ)(a.Z,{value:n})}),(0,N.tZ)(F.tB,{size:"20"})]}):(0,N.tZ)(F.W2,{children:B})}},release:{sortField:"release",renderFunc:e=>e.release?(0,N.tZ)(F.cz,{children:(0,N.tZ)(f.Z,{version:e.release,anchor:!1,tooltipRawVersion:!0,truncate:!0})}):(0,N.tZ)(F.W2,{children:B})},"error.handled":{sortField:"error.handled",renderFunc:e=>{const t=e["error.handled"];if(null===t||0===(null==t?void 0:t.length))return(0,N.tZ)(F.W2,{children:B});const n=Array.isArray(t)?t:[t];return(0,N.tZ)(F.W2,{children:n.every((e=>[1,null].includes(e)))?"true":"false"})}},team_key_transaction:{sortField:null,renderFunc:(e,t)=>{var n;let{organization:r}=t;return(0,N.tZ)(F.W2,{children:(0,N.tZ)(q,{isKeyTransaction:0!==(null!==(n=e.team_key_transaction)&&void 0!==n?n:0),organization:r,projectSlug:e.project,transactionName:e.transaction})})}},"trend_percentage()":{sortField:"trend_percentage()",renderFunc:e=>(0,N.tZ)(F.Hw,{children:"number"==typeof e.trend_percentage?(0,T.rl)(e.trend_percentage-1):B})},"timestamp.to_hour":{sortField:"timestamp.to_hour",renderFunc:e=>(0,N.tZ)(F.W2,{children:(0,v.Z)({value:(0,N.tZ)(F.Ik,{date:e["timestamp.to_hour"],format:"lll z"}),fixed:"timestamp.to_hour"})})},"timestamp.to_day":{sortField:"timestamp.to_day",renderFunc:e=>(0,N.tZ)(F.W2,{children:(0,v.Z)({value:(0,N.tZ)(F.Ik,{date:e["timestamp.to_day"],dateOnly:!0,utc:!0}),fixed:"timestamp.to_day"})})}},X={user_misery:e=>t=>{const n=e;if(!(n in t))return(0,N.tZ)(F.Hw,{children:B});const r=t[n];if(null===r||isNaN(r))return(0,N.tZ)(F.Hw,{children:B});const s="project_threshold_config";let i="",o=parseInt(n.split("_").pop()||"",10);isNaN(o)?(i="count_miserable_user",o=s in t?t[s][1]:void 0):i=`count_miserable_user_${o}`;const a=t.count_unique_user;let l;if(i in t){const e=parseInt(i.split("_").pop()||"",10);l=e===o||isNaN(e)?t[i]:void 0}return(0,N.tZ)(F.Uz,{children:(0,N.tZ)(g.Z,{bars:10,barHeight:20,miseryLimit:o,totalUsers:a,userMisery:r,miserableUsers:l})})}};function J(e,t){if(W.hasOwnProperty(e))return W[e].sortField;if(!t)return e;if((0,S.GO)(e))return e;for(const t in S.lx)if(e.startsWith(t))return S.lx[t].isSortable?e:null;const n=t[e];return Y.hasOwnProperty(n)&&Y[n].isSortable?e:null}const Q=(e,t)=>t in e&&"number"==typeof e[t],ee=(e,t)=>{var n,r;let{location:i,organization:o,eventView:a}=t;const d=S.$4.reduce(((t,n)=>Q(e,n)?t+e[n]:t),0),u=Math.max(d,e["transaction.duration"]);if(S.$4.every((t=>!Q(e,t)))||0===u)return Y.duration.renderFunc(S.zD,e);let c,p=1;const g=null==a||null===(n=a.sorts)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.field;return c=g&&S.$4.includes(g)?[g,...S.$4.filter((e=>e!==g))]:S.$4,(0,N.BX)(te,{children:[c.map((t=>{var n;if(!Q(e,t))return null;const r=null!==(n=(0,S.Ki)(t))&&void 0!==n?n:"op",a=e[t],d=a/u;return p-=d,0===d?null:(0,N.tZ)("div",{style:{width:(0,m.yI)(d||0)},children:(0,N.tZ)(h.Z,{title:(0,N.BX)("div",{children:[(0,N.tZ)("div",{children:r}),(0,N.tZ)("div",{children:(0,N.tZ)(l.Z,{seconds:a/1e3,fixedDigits:2,abbreviation:!0})})]}),containerDisplayMode:"block",children:(0,N.tZ)(ne,{spanBarHatch:!1,style:{backgroundColor:(0,m.hd)(r),cursor:"pointer"},onClick:e=>{e.stopPropagation();const t=(0,w.uy)(r);t!==w.f1.None&&((0,E.ec)({eventName:"Performance Views: Select Relative Breakdown",eventKey:"performance_views.relative_breakdown.selection",organization_id:parseInt(o.id,10),action:t}),s.browserHistory.push({pathname:i.pathname,query:{...i.query,...(0,w.bz)(t)}}))}})})},r)})),(0,N.tZ)("div",{style:{width:(0,m.yI)(p||0)},children:(0,N.tZ)(h.Z,{title:(0,N.tZ)("div",{children:(0,y.t)("Other")}),containerDisplayMode:"block",children:(0,N.tZ)(re,{spanBarHatch:!1})})},"other")]})};ee.displayName="spanOperationRelativeBreakdownRenderer";const te=(0,r.Z)("div",{target:"ettn0cm2"})({name:"8k1832",styles:"position:relative;display:flex"}),ne=(0,r.Z)(p.e,{target:"ettn0cm1"})({name:"pw7jst",styles:"position:relative;width:100%"}),re=(0,r.Z)(ne,{target:"ettn0cm0"})("background-color:",(e=>e.theme.gray100),";");function se(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(W.hasOwnProperty(e))return W[e].renderFunc;if((0,S.sU)(e))return ee;const r=n?(0,S.LY)(e):e,s=t[r];for(const e in X)if(r.startsWith(e))return X[e](r);return Y.hasOwnProperty(s)?o()(Y[s].renderFunc,r):o()(Y.string.renderFunc,r)}function ie(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=n?(0,S.LY)(e):e,s=t[r];return Y.hasOwnProperty(s)?o()(Y[s].renderFunc,r):o()(Y.string.renderFunc,r)}},"./app/utils/discover/fields.tsx":(e,t,n)=>{n.d(t,{$4:()=>Z,$n:()=>v,Cq:()=>C,G5:()=>G,GO:()=>V,HM:()=>te,HW:()=>he,J8:()=>N,KZ:()=>ae,Ki:()=>ge,Kr:()=>Y,LY:()=>ne,NF:()=>y,Px:()=>le,Xr:()=>I,ZC:()=>b,Zl:()=>T,_4:()=>de,_f:()=>f,b8:()=>j,bQ:()=>B,bv:()=>fe,by:()=>H,db:()=>X,e$:()=>ie,el:()=>W,fD:()=>ue,h1:()=>re,hW:()=>M,hr:()=>J,jg:()=>E,lx:()=>u,n0:()=>oe,nr:()=>Q,qG:()=>me,qe:()=>U,sN:()=>ee,sU:()=>R,uI:()=>q,vp:()=>K,wZ:()=>_,yK:()=>w,zD:()=>A}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.replace.js");var r=n("../node_modules/lodash/isEqual.js"),s=n.n(r),i=n("./app/constants/index.tsx"),o=n("./app/locale.tsx"),a=n("./app/types/utils.tsx"),l=n("./app/views/dashboardsV2/widgetBuilder/releaseWidget/fields.tsx");const d=[{label:"is equal to",value:"equals"},{label:"is not equal to",value:"notEquals"},{label:"is less than",value:"less"},{label:"is greater than",value:"greater"},{label:"is less than or equal to",value:"lessOrEquals"},{label:"is greater than or equal to",value:"greaterOrEquals"}],u={count:{parameters:[],documentation:(0,o.t)("number of events"),outputType:"number",isSortable:!0,multiPlotType:"area"},count_unique:{parameters:[{kind:"column",columnTypes:["string","integer","number","duration","date","boolean"],defaultValue:"user",required:!0}],documentation:(0,o.t)("unique number of events"),outputType:"integer",isSortable:!0,multiPlotType:"line"},count_miserable:{getFieldOverrides(e){let{parameter:t}=e;return"column"===t.kind?{defaultValue:"user"}:{defaultValue:t.defaultValue}},parameters:[{kind:"column",columnTypes:(m=["user"],function(e){let{name:t}=e;return m.includes(t)}),defaultValue:"user",required:!0},{kind:"value",dataType:"number",defaultValue:"300",required:!0}],documentation:(0,o.t)("miserable number of events"),outputType:"number",isSortable:!0,multiPlotType:"area"},count_if:{parameters:[{kind:"column",columnTypes:(c=["string","duration"],p=["id","issue","user.display"],function(e){let{name:t,dataType:n}=e;return c.includes(n)&&!p.includes(t)}),defaultValue:"transaction.duration",required:!0},{kind:"dropdown",options:d,dataType:"string",defaultValue:d[0].value,required:!0},{kind:"value",dataType:"string",defaultValue:"300",required:!0}],documentation:(0,o.t)("conditional number of events"),outputType:"number",isSortable:!0,multiPlotType:"area"},eps:{parameters:[],documentation:(0,o.t)("events per second"),outputType:"number",isSortable:!0,multiPlotType:"area"},epm:{parameters:[],documentation:(0,o.t)("events per minute"),outputType:"number",isSortable:!0,multiPlotType:"area"},failure_count:{parameters:[],documentation:(0,o.t)("number of failed events"),outputType:"number",isSortable:!0,multiPlotType:"line"},min:{parameters:[{kind:"column",columnTypes:ce(["integer","number","duration","date","percentage"]),defaultValue:"transaction.duration",required:!0}],documentation:(0,o.t)("minimum"),outputType:null,isSortable:!0,multiPlotType:"line"},max:{parameters:[{kind:"column",columnTypes:ce(["integer","number","duration","date","percentage"]),defaultValue:"transaction.duration",required:!0}],documentation:(0,o.t)("maximum"),outputType:null,isSortable:!0,multiPlotType:"line"},sum:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),required:!0,defaultValue:"transaction.duration"}],documentation:(0,o.t)("total value"),outputType:null,isSortable:!0,multiPlotType:"area"},any:{parameters:[{kind:"column",columnTypes:["string","integer","number","duration","date","boolean"],required:!0,defaultValue:"transaction.duration"}],documentation:(0,o.t)("pick any value"),outputType:null,isSortable:!0},p50:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!1}],documentation:(0,o.t)("median"),outputType:null,isSortable:!0,multiPlotType:"line"},p75:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!1}],documentation:(0,o.t)("75th percentile"),outputType:null,isSortable:!0,multiPlotType:"line"},p95:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!1}],documentation:(0,o.t)("95th percentile"),outputType:null,type:[],isSortable:!0,multiPlotType:"line"},p99:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!1}],documentation:(0,o.t)("99th percentile"),outputType:null,isSortable:!0,multiPlotType:"line"},p100:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!1}],documentation:(0,o.t)("maximum"),outputType:null,isSortable:!0,multiPlotType:"line"},percentile:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!0},{kind:"value",dataType:"number",defaultValue:"0.5",required:!0}],documentation:(0,o.t)("arbitrary percentile"),outputType:null,isSortable:!0,multiPlotType:"line"},avg:{parameters:[{kind:"column",columnTypes:ce(["duration","number","percentage"]),defaultValue:"transaction.duration",required:!0}],documentation:(0,o.t)("average"),outputType:null,isSortable:!0,multiPlotType:"line"},apdex:{parameters:[{kind:"value",dataType:"number",defaultValue:"300",required:!0}],documentation:(0,o.t)("performance score, higher is better"),outputType:"number",isSortable:!0,multiPlotType:"line"},user_misery:{parameters:[{kind:"value",dataType:"number",defaultValue:"300",required:!0}],documentation:(0,o.t)("ratio of miserable users"),outputType:"number",isSortable:!0,multiPlotType:"line"},failure_rate:{parameters:[],documentation:(0,o.t)("failure_count()/count()"),outputType:"percentage",isSortable:!0,multiPlotType:"line"},last_seen:{parameters:[],documentation:(0,o.t)("largest timestamp"),outputType:"date",isSortable:!0}};var c,p,m;const h={tpm:"epm",tps:"eps"};var g;(0,a.hu)(u),function(e){e.CULPRIT="culprit",e.DEVICE_ARCH="device.arch",e.DEVICE_BATTERY_LEVEL="device.battery_level",e.DEVICE_BRAND="device.brand",e.DEVICE_CHARGING="device.charging",e.DEVICE_FAMILY="device.family",e.DEVICE_LOCALE="device.locale",e.DEVICE_NAME="device.name",e.DEVICE_ONLINE="device.online",e.DEVICE_ORIENTATION="device.orientation",e.DEVICE_SIMULATOR="device.simulator",e.DEVICE_UUID="device.uuid",e.DIST="dist",e.ENVIRONMENT="environment",e.ERROR_HANDLED="error.handled",e.ERROR_UNHANDLED="error.unhandled",e.ERROR_MECHANISM="error.mechanism",e.ERROR_TYPE="error.type",e.ERROR_VALUE="error.value",e.EVENT_TYPE="event.type",e.GEO_CITY="geo.city",e.GEO_COUNTRY_CODE="geo.country_code",e.GEO_REGION="geo.region",e.HTTP_METHOD="http.method",e.HTTP_REFERER="http.referer",e.HTTP_URL="http.url",e.ID="id",e.ISSUE="issue",e.LEVEL="level",e.LOCATION="location",e.MESSAGE="message",e.OS_BUILD="os.build",e.OS_KERNEL_VERSION="os.kernel_version",e.PLATFORM_NAME="platform.name",e.PROJECT="project",e.RELEASE="release",e.SDK_NAME="sdk.name",e.SDK_VERSION="sdk.version",e.STACK_ABS_PATH="stack.abs_path",e.STACK_COLNO="stack.colno",e.STACK_FILENAME="stack.filename",e.STACK_FUNCTION="stack.function",e.STACK_IN_APP="stack.in_app",e.STACK_LINENO="stack.lineno",e.STACK_MODULE="stack.module",e.STACK_PACKAGE="stack.package",e.STACK_STACK_LEVEL="stack.stack_level",e.TIMESTAMP="timestamp",e.TIMESTAMP_TO_HOUR="timestamp.to_hour",e.TIMESTAMP_TO_DAY="timestamp.to_day",e.TITLE="title",e.TRACE="trace",e.TRACE_PARENT_SPAN="trace.parent_span",e.TRACE_SPAN="trace.span",e.TRANSACTION="transaction",e.TRANSACTION_DURATION="transaction.duration",e.TRANSACTION_OP="transaction.op",e.TRANSACTION_STATUS="transaction.status",e.USER="user",e.USER_EMAIL="user.email",e.USER_ID="user.id",e.USER_IP="user.ip",e.USER_USERNAME="user.username",e.USER_DISPLAY="user.display"}(g||(g={}));const f={[g.ID]:"string",[g.TIMESTAMP]:"date",[g.TIMESTAMP_TO_HOUR]:"date",[g.TIMESTAMP_TO_DAY]:"date",[g.CULPRIT]:"string",[g.LOCATION]:"string",[g.MESSAGE]:"string",[g.PLATFORM_NAME]:"string",[g.ENVIRONMENT]:"string",[g.RELEASE]:"string",[g.DIST]:"string",[g.TITLE]:"string",[g.EVENT_TYPE]:"string",[g.TRANSACTION]:"string",[g.USER]:"string",[g.USER_ID]:"string",[g.USER_EMAIL]:"string",[g.USER_USERNAME]:"string",[g.USER_IP]:"string",[g.SDK_NAME]:"string",[g.SDK_VERSION]:"string",[g.HTTP_METHOD]:"string",[g.HTTP_REFERER]:"string",[g.HTTP_URL]:"string",[g.OS_BUILD]:"string",[g.OS_KERNEL_VERSION]:"string",[g.DEVICE_NAME]:"string",[g.DEVICE_BRAND]:"string",[g.DEVICE_LOCALE]:"string",[g.DEVICE_UUID]:"string",[g.DEVICE_ARCH]:"string",[g.DEVICE_FAMILY]:"string",[g.DEVICE_BATTERY_LEVEL]:"number",[g.DEVICE_ORIENTATION]:"string",[g.DEVICE_SIMULATOR]:"boolean",[g.DEVICE_ONLINE]:"boolean",[g.DEVICE_CHARGING]:"boolean",[g.GEO_COUNTRY_CODE]:"string",[g.GEO_REGION]:"string",[g.GEO_CITY]:"string",[g.ERROR_TYPE]:"string",[g.ERROR_VALUE]:"string",[g.ERROR_MECHANISM]:"string",[g.ERROR_HANDLED]:"boolean",[g.ERROR_UNHANDLED]:"boolean",[g.LEVEL]:"string",[g.STACK_ABS_PATH]:"string",[g.STACK_FILENAME]:"string",[g.STACK_PACKAGE]:"string",[g.STACK_MODULE]:"string",[g.STACK_FUNCTION]:"string",[g.STACK_IN_APP]:"boolean",[g.STACK_COLNO]:"number",[g.STACK_LINENO]:"number",[g.STACK_STACK_LEVEL]:"number",[g.TRANSACTION_DURATION]:"duration",[g.TRANSACTION_OP]:"string",[g.TRANSACTION_STATUS]:"string",[g.TRACE]:"string",[g.TRACE_SPAN]:"string",[g.TRACE_PARENT_SPAN]:"string",[g.PROJECT]:"string",[g.ISSUE]:"string",[g.USER_DISPLAY]:"string"},y=[g.CULPRIT],_=Object.freeze(Object.fromEntries(Object.keys(f).map((e=>[e,{key:e,name:e}])))),E={"release.version":{key:"release.version",name:"release.version"},"release.build":{key:"release.build",name:"release.build"},"release.package":{key:"release.package",name:"release.package"},"release.stage":{key:"release.stage",name:"release.stage",predefined:!0,values:i.kX}},S=new Set(["release"]);function b(e){return e in _&&!S.has(e)?`tags[${e}]`:e}let T,v;!function(e){e.FP="measurements.fp",e.FCP="measurements.fcp",e.LCP="measurements.lcp",e.FID="measurements.fid",e.CLS="measurements.cls",e.TTFB="measurements.ttfb",e.RequestTime="measurements.ttfb.requesttime"}(T||(T={})),function(e){e.AppStartCold="measurements.app_start_cold",e.AppStartWarm="measurements.app_start_warm",e.FramesTotal="measurements.frames_total",e.FramesSlow="measurements.frames_slow",e.FramesFrozen="measurements.frames_frozen",e.FramesSlowRate="measurements.frames_slow_rate",e.FramesFrozenRate="measurements.frames_frozen_rate",e.StallCount="measurements.stall_count",e.StallTotalTime="measurements.stall_total_time",e.StallLongestTime="measurements.stall_longest_time",e.StallPercentage="measurements.stall_percentage"}(v||(v={}));const x={[T.FP]:"duration",[T.FCP]:"duration",[T.LCP]:"duration",[T.FID]:"duration",[T.CLS]:"number",[T.TTFB]:"duration",[T.RequestTime]:"duration",[v.AppStartCold]:"duration",[v.AppStartWarm]:"duration",[v.FramesTotal]:"integer",[v.FramesSlow]:"integer",[v.FramesFrozen]:"integer",[v.FramesSlowRate]:"percentage",[v.FramesFrozenRate]:"percentage",[v.StallCount]:"integer",[v.StallTotalTime]:"duration",[v.StallLongestTime]:"duration",[v.StallPercentage]:"percentage"};function w(e){return e.startsWith("spans.")}const A="span_ops_breakdown.relative";function R(e){return e===A}const Z=["spans.http","spans.db","spans.browser","spans.resource"],N=["avg","sum","transaction.duration","transaction.op","transaction.status","p50","p75","p95","p99","p100","percentile","failure_rate","apdex","count_miserable","user_misery","eps","epm","team_key_transaction",...Object.keys(x),...Z,A],O=/^measurements\.([a-zA-Z0-9-_.]+)$/,k=/^spans\.([a-zA-Z0-9-_.]+)$/;function I(e){return!!e.match(O)}function C(e){return x.hasOwnProperty(e)?x[e]:"number"}function j(e){const t=e.match(O);return t&&t.length>=2?t[1]:null}const F=/^(\w+)\((.*)?\)$/,D=/(\w+)\((.*)?\)/g;function M(e){const t=L(e);return t&&t.arguments.length>0?t.arguments[0]:null}function L(e){const t=e.match(F);return t&&3===t.length?{name:t[1],arguments:P(t[1],t[2])}:null}function P(e,t){if("to_other"!==e&&"count_if"!==e&&"spans_histogram"!==e||0===t.length)return t?t.split(",").map((e=>e.trim())):[];const n=[];let r=!1,s=!1,i=0,o=0;for(;o<t.length;)i===o&&'"'===t[o]?r=!0:i===o&&" "===t[o]?i+=1:r&&!s&&"\\"===t[o]?s=!0:r&&!s&&'"'===t[o]?r=!1:r&&s?s=!1:r&&","===t[o]||","===t[o]&&(n.push(t.substring(i,o).trim()),i=o+1),o+=1;return i!==o&&n.push(t.substring(i).trim()),n}const U="equation|",z=/^equation\[(\d+)\]$/,$="calculated|";function V(e){return e.startsWith(U)}function q(e){return z.test(e)}function H(e){return e.includes(U)}function B(e){return e.replace(U,"")}function G(e){const t=e.match(z);return t&&2===t.length?parseInt(t[1],10):-1}function K(e){return e.slice(U.length)}function Y(e){const t=e.match(D);return V(e)&&null!==t&&t.length>0}function W(e){if("function"===e.kind&&"any"===e.function[0])return!1;const t=function(e){if("function"===e.kind){const t=de(e.function[0],e.function[1]);if(null!==t)return t}else if("field"===e.kind){if(f.hasOwnProperty(e.field))return f[e.field];if(I(e.field))return C(e.field);if(w(e.field))return"duration"}return"string"}(e);return"number"===t||"integer"===t||"duration"===t}function X(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=Object.keys(u),s=Object.values(t).map((e=>e.field));return r.forEach((t=>{const r=u[t].parameters.map((n=>{const r=u[t].getFieldOverrides;return void 0===r?n:{...n,...r({parameter:n,organization:e})}}));if(r.every((e=>void 0!==e.defaultValue))){const e=`${t}(${r.map((e=>e.defaultValue)).join(",")})`;-1===s.indexOf(e)&&-1===n.indexOf(e)&&s.push(e)}})),s.map((e=>({field:e})))}function J(e){return e.replace($,"")}function Q(e,t){if(V(e))return{kind:"equation",field:K(e),alias:t};if(function(e){return e.startsWith($)}(e))return{kind:"calculatedField",field:J(e),alias:t};const n=L(e);var r;return n?{kind:"function",function:[n.name,null!==(r=n.arguments[0])&&void 0!==r?r:"",n.arguments[1],n.arguments[2]],alias:t}:{kind:"field",field:e,alias:t}}function ee(e){return"field"===e.kind?e.field:"calculatedField"===e.kind?`calculated|${e.field}`:"equation"===e.kind?`${U}${e.field}`:`${e.function[0]}(${e.function.slice(1).filter((e=>e)).join(",")})`}function te(e){return Q(e.field,e.alias)}function ne(e){const t=L(e);if(!t)return e;let n=t.name;return t.arguments.length>0&&(n+="_"+t.arguments.join("_")),n.replace(/[^\w]/g,"_").replace(/^_+/g,"").replace(/_+$/,"")}function re(e){return null!==L(e)}const se={has:(0,o.t)("check field exists"),"release.version":(0,o.t)("semantic version"),"release.stage":(0,o.t)("adoption stage"),"release.package":(0,o.t)("semantic package"),"release.build":(0,o.t)("semantic build number"),[g.CULPRIT]:(0,o.t)("deprecated"),[g.DEVICE_ARCH]:(0,o.t)("cpu architecture"),[g.DEVICE_FAMILY]:(0,o.t)("common part of name"),[g.DEVICE_BATTERY_LEVEL]:(0,o.t)("0-100 of level"),[g.DEVICE_BRAND]:(0,o.t)("brand of device"),[g.DEVICE_CHARGING]:(0,o.t)("True or False"),[g.DEVICE_LOCALE]:(0,o.t)("deprecated"),[g.DEVICE_NAME]:(0,o.t)("details of device"),[g.DEVICE_ONLINE]:(0,o.t)("True or False"),[g.DEVICE_ORIENTATION]:(0,o.t)("portrait or landscape"),[g.DEVICE_SIMULATOR]:(0,o.t)("True or False"),[g.DEVICE_UUID]:(0,o.t)("uuid"),[g.DIST]:(0,o.t)("build or variant"),[g.ENVIRONMENT]:(0,o.t)("deployment name"),[g.ERROR_HANDLED]:(0,o.t)("True or False"),[g.ERROR_MECHANISM]:(0,o.t)("created error"),[g.ERROR_TYPE]:(0,o.t)("exception type"),[g.ERROR_UNHANDLED]:(0,o.t)("True or False"),[g.ERROR_VALUE]:(0,o.t)("error value"),[g.EVENT_TYPE]:(0,o.t)("type of event"),[g.GEO_CITY]:(0,o.t)("full name"),[g.GEO_COUNTRY_CODE]:(0,o.t)("ISO 3166-1"),[g.GEO_REGION]:(0,o.t)("full name"),[g.HTTP_METHOD]:(0,o.t)("method of request"),[g.HTTP_REFERER]:(0,o.t)("referer of request"),[g.HTTP_URL]:(0,o.t)("url of request"),[g.ID]:(0,o.t)("event identifier"),[g.ISSUE]:(0,o.t)("issue short id"),[g.LEVEL]:(0,o.t)("string"),[g.LOCATION]:(0,o.t)("where error happened"),[g.MESSAGE]:(0,o.t)("title or name"),[g.OS_BUILD]:(0,o.t)("internal build revision"),[g.OS_KERNEL_VERSION]:(0,o.t)("kernel string"),[g.PLATFORM_NAME]:(0,o.t)("name of platform"),[g.PROJECT]:(0,o.t)("project name"),[g.RELEASE]:(0,o.t)("code version"),[g.SDK_NAME]:(0,o.t)("sentry sdk name"),[g.SDK_VERSION]:(0,o.t)("sentry sdk version"),[g.STACK_ABS_PATH]:(0,o.t)("absolute path"),[g.STACK_COLNO]:(0,o.t)("column number"),[g.STACK_FILENAME]:(0,o.t)("source file"),[g.STACK_FUNCTION]:(0,o.t)("function called"),[g.STACK_IN_APP]:(0,o.t)("True or False"),[g.STACK_LINENO]:(0,o.t)("line number"),[g.STACK_MODULE]:(0,o.t)("platform specific"),[g.STACK_PACKAGE]:(0,o.t)("package of frame"),[g.STACK_STACK_LEVEL]:(0,o.t)("number"),[g.TIMESTAMP]:(0,o.t)("time event occurred"),[g.TIMESTAMP_TO_DAY]:(0,o.t)("rounded timestamp"),[g.TIMESTAMP_TO_HOUR]:(0,o.t)("rounded timestamp"),[g.TITLE]:(0,o.t)("title or name"),[g.TRACE]:(0,o.t)("uuid"),[g.TRACE_PARENT_SPAN]:(0,o.t)("span for parent trace"),[g.TRACE_SPAN]:(0,o.t)("span for trace"),[g.TRANSACTION]:(0,o.t)("transaction name"),[g.TRANSACTION_DURATION]:(0,o.t)("duration"),[g.TRANSACTION_OP]:(0,o.t)("short code"),[g.TRANSACTION_STATUS]:(0,o.t)("final status"),[g.USER]:(0,o.t)("unparsed user field"),[g.USER_DISPLAY]:(0,o.t)("email>username>id>ip"),[g.USER_EMAIL]:(0,o.t)("email"),[g.USER_ID]:(0,o.t)("identifier"),[g.USER_IP]:(0,o.t)("ip address"),[g.USER_USERNAME]:(0,o.t)("username"),[v.AppStartCold]:(0,o.t)("first launch duration"),[v.AppStartWarm]:(0,o.t)("subsequent launch duration"),[v.FramesFrozenRate]:(0,o.t)("frames_frozen/frames_total"),[v.FramesFrozen]:(0,o.t)("framse slower than 700ms"),[v.FramesSlowRate]:(0,o.t)("frames_slow/frames_total"),[v.FramesSlow]:(0,o.t)("frames slower than 16ms"),[v.FramesTotal]:(0,o.t)("number of frames"),[v.StallCount]:(0,o.t)("stalled event loops"),[v.StallLongestTime]:(0,o.t)("largest stalled event loop"),[v.StallPercentage]:(0,o.t)("stall_total_time/duration"),[v.StallTotalTime]:(0,o.t)("duration of stall"),[T.CLS]:(0,o.t)("cumulative layout shift"),[T.FCP]:(0,o.t)("first contentful paint"),[T.FID]:(0,o.t)("first input delay"),[T.FP]:(0,o.t)("first paint"),[T.LCP]:(0,o.t)("largest contentful paint"),[T.RequestTime]:(0,o.t)("time until response start"),[T.TTFB]:(0,o.t)("time to first byte")};function ie(e){if(se.hasOwnProperty(e))return se[e];const t=L(e);return t&&u.hasOwnProperty(t.name)?u[t.name].documentation:""}function oe(e){const t=function(e){return e.filter((e=>re(e)||Y(e)||function(e){return["session.crash_free_rate","session.crashed","session.errored_preaggregated","session.errored_set","session.init"].includes(e)}(e)))}(e);return{columns:e.filter((e=>!t.includes(e))),aggregates:t}}function ae(e){const t=[],n=[],r=[];for(const i of e){var s;const e=ee(i);"function"===i.kind||"calculatedField"===i.kind||"equation"===i.kind&&Y(e)?t.push(e):n.push(e),r.push(null!==(s=i.alias)&&void 0!==s?s:"")}return{aggregates:t,columns:n,fieldAliases:r}}function le(e){const t=L(e);if(!t)return"number";const n=de(t.name,t.arguments[0]);return null===n?"number":n}function de(e,t){var n,r;const s=null!==(n=u[h[e]||e])&&void 0!==n?n:l.Am[e];return null!=s&&s.outputType?s.outputType:(!t&&null!=s&&null!==(r=s.parameters)&&void 0!==r&&r[0]&&!1===s.parameters[0].required&&(t=s.parameters[0].defaultValue),t&&l.Jo.hasOwnProperty(t)?l.Jo[t].type:t&&f.hasOwnProperty(t)?f[t]:t&&I(t)?C(t):t&&w(t)?"duration":null)}function ue(e){if(V(e))return"line";const t=L(e);return t&&u.hasOwnProperty(t.name)?u[t.name].multiPlotType:"area"}function ce(e){return function(t){let{name:n,dataType:r}=t;return![g.DEVICE_BATTERY_LEVEL,g.STACK_COLNO,g.STACK_LINENO,g.STACK_STACK_LEVEL].includes(n)&&e.includes(r)}}const pe=["number","duration","integer","percentage"];function me(e,t,n){let r="left";if(t&&(r=pe.includes(t)?"right":"left"),void 0===t||"never"===t){const t=n?n[ne(e)]:void 0;void 0!==t&&pe.includes(t)&&(r="right")}return r}function he(e){return["number","integer","duration","percentage"].includes(e)}function ge(e){const t=e.match(k);return t&&t.length>=2?t[1]:null}function fe(e,t){return("function"===t.kind||"field"===t.kind)&&e.filter((e=>s()(e,t))).length>1}},"./app/utils/discover/styles.tsx":(e,t,n)=>{n.d(t,{Ej:()=>f,Hw:()=>c,Ik:()=>p,Jo:()=>m,PV:()=>h,Uz:()=>g,W2:()=>d,cz:()=>u,tB:()=>y});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/dateTime.tsx"),i=n("./app/components/links/link.tsx"),o=n("./app/components/shortId.tsx"),a=n("./app/icons/iconUser.tsx"),l=n("./app/styles/space.tsx");const d=(0,r.Z)("div",{target:"ej0iif39"})((e=>e.theme.overflowEllipsis),";"),u=(0,r.Z)("div",{target:"ej0iif38"})({name:"zjik7",styles:"display:flex"}),c=(0,r.Z)("div",{target:"ej0iif37"})("text-align:right;font-variant-numeric:tabular-nums;",(e=>e.theme.overflowEllipsis),";"),p=(0,r.Z)(s.Z,{target:"ej0iif36"})("color:",(e=>e.theme.gray300),";font-variant-numeric:tabular-nums;",(e=>e.theme.overflowEllipsis),";"),m=(0,r.Z)(i.Z,{target:"ej0iif35"})((e=>e.theme.overflowEllipsis),";"),h=(0,r.Z)(o.Z,{target:"ej0iif34"})({name:"1rg9myb",styles:"justify-content:flex-start;display:block"}),g=(0,r.Z)("div",{target:"ej0iif33"})({name:"1h1hi12",styles:"max-width:80px;margin-left:auto"}),f=(0,r.Z)("div",{target:"ej0iif32"})({name:"c4ysgb",styles:"display:flex;align-items:center;justify-content:flex-end;width:100%"}),y=(0,r.Z)(a.f,{target:"ej0iif31"})("margin-left:",(0,l.Z)(1),";color:",(e=>e.theme.gray400),";")},"./app/utils/performance/constants.tsx":(e,t,n)=>{n.d(t,{X:()=>s,s:()=>i}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("./app/constants/pageFilters.tsx");const s=100,i=["team",...Object.values(r.nF)]},"./app/utils/tokenizeSearch.tsx":(e,t,n)=>{n.d(t,{Bn:()=>p,MY:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("./app/utils.tsx"));let i;function o(e){return e.type===i.OPERATOR}function a(e){return["OR","AND"].includes(e.toUpperCase())}function l(e,t){return void 0!==e&&o(e)&&["(",")"].includes(e.value)&&e.value===t}!function(e){e[e.OPERATOR=0]="OPERATOR",e[e.FILTER=1]="FILTER",e[e.FREE_TEXT=2]="FREE_TEXT"}(i||(i={}));class d{constructor(e){(0,r.Z)(this,"tokens",void 0);const t=Array.isArray(e)?e:function(e){const t=Array.from(e),n=[];let r="",s="",i="",o=!1;for(let e=0;e<t.length;e++){const a=t[e],l=t.length-1>e?t[e+1]:null;r+=a,null!==l&&!u(a)&&u(l)&&(s=a),!u(a)||o||":"===s||u(r)||(n.push(r.trim()),r=""),!["'",'"'].includes(a)||o&&i!==a||(o=!o,o&&(i=a)),o&&"\\"===a&&l===i&&(r+=l,e++)}const a=r.trim();return""!==a&&n.push(a),n}(e);this.tokens=[];for(let e of t){let t=i.FREE_TEXT;if(a(e)){this.addOp(e.toUpperCase());continue}if(e.startsWith("(")){const t=e.match(/^\(+/g);t&&(t[0].split("").map((e=>this.addOp(e))),e=e.replace(/^\(+/g,""))}for(let n=0,r=e.length;n<r;n++){const r=e[n];if(0===n&&('"'===r||":"===r))break;if(":"===r){const r=e[n+1]||"";t=[":"," "].includes(r)?i.FREE_TEXT:i.FILTER;break}}let n="";if(e.endsWith(")")&&!e.includes("(")){const t=e.match(/\)+$/g);t&&(n=t[0],e=e.replace(/\)+$/g,""))}t===i.FREE_TEXT&&e.length?this.addFreeText(e):t===i.FILTER&&this.addStringFilter(e,!1),""!==n&&n.split("").map((e=>this.addOp(e)))}}formatString(){const e=[];for(const t of this.tokens)switch(t.type){case i.FILTER:""===t.value||null===t.value?e.push(`${t.key}:""`):/[\s\(\)\\"]/g.test(t.value)?e.push(`${t.key}:"${(0,s.d9)(t.value)}"`):e.push(`${t.key}:${t.value}`);break;case i.FREE_TEXT:/[\s\(\)\\"]/g.test(t.value)?e.push(`"${(0,s.d9)(t.value)}"`):e.push(t.value);break;default:e.push(t.value)}return e.join(" ").trim()}addStringFilter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,r]=function(e){const t=e.indexOf(":");return[c(e.slice(0,t)),c(e.slice(t+1))]}(e);return this.addFilterValues(n,[r],t),this}addFilterValues(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(const r of t){const t=n?p(r):r,s={type:i.FILTER,key:e,value:t};this.tokens.push(s)}return this}setFilterValues(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.removeFilter(e),this.addFilterValues(e,t,n),this}get filters(){return this.tokens.filter((e=>e.type===i.FILTER)).reduce(((e,t)=>{var n;return{...e,[t.key]:[...null!==(n=e[t.key])&&void 0!==n?n:[],t.value]}}),{})}getFilterValues(e){var t;return null!==(t=this.filters[e])&&void 0!==t?t:[]}getFilterKeys(){return Object.keys(this.filters)}hasFilter(e){return this.getFilterValues(e).length>0}removeFilter(e){this.tokens=this.tokens.filter((t=>t.key!==e));let t=[];const n=(e,n)=>!t.includes(n);do{t.length&&(this.tokens=this.tokens.filter(n)),t=[];for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(!o(n)||"("!==n.value)continue;let r=!1;for(let n=e+1;n<this.tokens.length;n++){const s=this.tokens[n];if(o(s)&&"("===s.value){e=n-1;break}if(o(s)){if(o(s)&&")"===s.value){t=[e,n];break}}else{if(r)break;r=!0}}if(t.length>0)break}}while(t.length>0);let r=-1;do{r>=0&&(this.tokens.splice(r,1),r=-1);for(let e=0;e<this.tokens.length;e++){const t=this.tokens[e],n=this.tokens[e-1],s=this.tokens[e+1];if(o(t)&&a(t.value)&&(void 0===n||o(n)||void 0===s||o(s))){if(l(n,")")&&l(s,"("))continue;r=e;break}}}while(r>=0);return this}removeFilterValue(e,t){const n=this.getFilterValues(e);Array.isArray(n)&&n.length&&this.setFilterValues(e,n.filter((e=>e!==t)))}addFreeText(e){const t={type:i.FREE_TEXT,value:(n=e,n.replace(/^["\(]+|["\)]+$/g,""))};var n;return this.tokens.push(t),this}addOp(e){const t={type:i.OPERATOR,value:e};return this.tokens.push(t),this}get freeText(){return this.tokens.filter((e=>e.type===i.FREE_TEXT)).map((e=>e.value))}set freeText(e){this.tokens=this.tokens.filter((e=>e.type!==i.FREE_TEXT));for(const t of e)this.addFreeText(t)}copy(){const e=new d([]);return e.tokens=[...this.tokens],e}isEmpty(){return 0===this.tokens.length}}function u(e){return""===e.trim()}function c(e){const t=e.length;if(t<=1)return e;let n=0;for(;n<=t/2&&'"'===e.charAt(n);n++);let r=t-1;for(;r>=t/2&&'"'===e.charAt(r)&&"\\"!==e.charAt(r-1);r--);return e.slice(n,r+1)}function p(e){return"string"==typeof e?e.replace(/([\*])/g,"\\$1"):e}},"./app/utils/usePageFilters.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var r=n("./app/stores/pageFiltersStore.tsx"),s=n("./app/stores/useLegacyStore.tsx");const i=function(){return(0,s.X)(r.Z)}},"./app/utils/withPageFilters.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var r=n("./app/utils/getDisplayName.tsx"),s=n("./app/utils/usePageFilters.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=function(e){const t=t=>{const{selection:n,isReady:r}=(0,s.Z)(),o={selection:n,isGlobalSelectionReady:r};return(0,i.tZ)(e,{...o,...t})},n=(0,r.Z)(e);return t.displayName=`withPageFilters(${n})`,t}},"./app/views/dashboardsV2/widgetBuilder/releaseWidget/fields.tsx":(e,t,n)=>{n.d(t,{$4:()=>u,d2:()=>h,Xg:()=>c,wg:()=>p,Mg:()=>m,Jo:()=>f,Wt:()=>E,Am:()=>y,ve:()=>_,_I:()=>S,aE:()=>g,e1:()=>b}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/lodash/invert.js"),s=n.n(r),i=n("./app/types/index.tsx"),o=n("./app/utils.tsx");let a,l;!function(e){e.SESSION="sentry.sessions.session",e.SESSION_DURATION="sentry.sessions.session.duration",e.SESSION_ERROR="sentry.sessions.session.error",e.SESSION_CRASH_FREE_RATE="session.crash_free_rate",e.USER_CRASH_FREE_RATE="session.crash_free_user_rate",e.SESSION_CRASH_RATE="session.crash_rate",e.USER_CRASH_RATE="session.crash_user_rate",e.USER="sentry.sessions.user",e.SESSION_HEALTHY="session.healthy",e.USER_HEALTHY="session.healthy_user",e.SESSION_ABNORMAL="session.abnormal",e.USER_ABNORMAL="session.abnormal_user",e.SESSION_CRASHED="session.crashed",e.USER_CRASHED="session.crashed_user",e.SESSION_ERRORED="session.errored",e.USER_ERRORED="session.errored_user"}(a||(a={})),function(e){e.MEASUREMENTS_FP="sentry.transactions.measurements.fp",e.MEASUREMENTS_FCP="sentry.transactions.measurements.fcp",e.MEASUREMENTS_LCP="sentry.transactions.measurements.lcp",e.MEASUREMENTS_FID="sentry.transactions.measurements.fid",e.MEASUREMENTS_CLS="sentry.transactions.measurements.cls",e.MEASUREMENTS_TTFB="sentry.transactions.measurements.ttfb",e.MEASUREMENTS_TTFB_REQUESTTIME="sentry.transactions.measurements.ttfb.requesttime",e.MEASUREMENTS_APP_START_COLD="sentry.transactions.measurements.app_start_cold",e.MEASUREMENTS_APP_START_WARM="sentry.transactions.measurements.app_start_warm",e.MEASUREMENTS_FRAMES_TOTAL="sentry.transactions.measurements.frames_total",e.MEASUREMENTS_FRAMES_SLOW="sentry.transactions.measurements.frames_slow",e.MEASUREMENTS_FRAMES_FROZEN="sentry.transactions.measurements.frames_frozen",e.MEASUREMENTS_FRAMES_SLOW_RATE="sentry.transactions.measurements.frames_slow_rate",e.MEASUREMENTS_FRAMES_FROZEN_RATE="sentry.transactions.measurements.frames_frozen_rate",e.MEASUREMENTS_STALL_COUNT="sentry.transactions.measurements.stall_count",e.MEASUREMENTS_STALL_TOTAL_TIME="sentry.transactions.measurements.stall_total_time",e.MEASUREMENTS_STALL_LONGEST_TIME="sentry.transactions.measurements.stall_longest_time",e.MEASUREMENTS_STALL_PERCENTAGE="sentry.transactions.measurements.stall_percentage",e.TRANSACTION_DURATION="sentry.transactions.transaction.duration",e.USER="sentry.transactions.user",e.TRANSACTION="transaction"}(l||(l={})),a.USER,a.SESSION_ERROR,a.SESSION_DURATION,a.SESSION,a.SESSION_CRASH_FREE_RATE,a.USER_CRASH_FREE_RATE,a.SESSION_CRASH_RATE,a.USER_CRASH_RATE,a.SESSION_HEALTHY,a.USER_HEALTHY,a.SESSION_ABNORMAL,a.USER_ABNORMAL,a.SESSION_CRASHED,a.USER_CRASHED,a.SESSION_ERRORED,a.USER_ERRORED,l.USER,l.TRANSACTION,l.TRANSACTION_DURATION,l.MEASUREMENTS_FP,l.MEASUREMENTS_FCP,l.MEASUREMENTS_LCP,l.MEASUREMENTS_FID,l.MEASUREMENTS_CLS,l.MEASUREMENTS_TTFB,l.MEASUREMENTS_TTFB_REQUESTTIME,l.MEASUREMENTS_APP_START_COLD,l.MEASUREMENTS_APP_START_WARM,l.MEASUREMENTS_FRAMES_TOTAL,l.MEASUREMENTS_FRAMES_SLOW,l.MEASUREMENTS_FRAMES_FROZEN,l.MEASUREMENTS_FRAMES_SLOW_RATE,l.MEASUREMENTS_FRAMES_FROZEN_RATE,l.MEASUREMENTS_STALL_COUNT,l.MEASUREMENTS_STALL_TOTAL_TIME,l.MEASUREMENTS_STALL_LONGEST_TIME,l.MEASUREMENTS_STALL_PERCENTAGE,a.SESSION,a.USER,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION,l.TRANSACTION_DURATION;var d=n("./app/views/eventsV2/table/types.tsx");const u=/count_(abnormal|errored|crashed|healthy)\((user|session)\)/;let c;!function(e){e.HEALTHY_SESSIONS="count_healthy(session)",e.HEALTHY_USERS="count_healthy(user)",e.ABNORMAL_SESSIONS="count_abnormal(session)",e.ABNORMAL_USERS="count_abnormal(user)",e.CRASHED_SESSIONS="count_crashed(session)",e.CRASHED_USERS="count_crashed(user)",e.ERRORED_SESSIONS="count_errored(session)",e.ERRORED_USERS="count_errored(user)"}(c||(c={}));const p={"count_healthy(session)":a.SESSION_HEALTHY,"count_healthy(user)":a.USER_HEALTHY,"count_abnormal(session)":a.SESSION_ABNORMAL,"count_abnormal(user)":a.USER_ABNORMAL,"count_crashed(session)":a.SESSION_CRASHED,"count_crashed(user)":a.USER_CRASHED,"count_errored(session)":a.SESSION_ERRORED,"count_errored(user)":a.USER_ERRORED,"count_unique(user)":`count_unique(${a.USER})`,"sum(session)":`sum(${a.SESSION})`,"crash_free_rate(session)":a.SESSION_CRASH_FREE_RATE,"crash_free_rate(user)":a.USER_CRASH_FREE_RATE,"crash_rate(session)":a.SESSION_CRASH_RATE,"crash_rate(user)":a.USER_CRASH_RATE,"avg(session.duration)":`avg(${a.SESSION_DURATION})`,"max(session.duration)":`max(${a.SESSION_DURATION})`,"p50(session.duration)":`p50(${a.SESSION_DURATION})`,"p75(session.duration)":`p75(${a.SESSION_DURATION})`,"p95(session.duration)":`p95(${a.SESSION_DURATION})`,"p99(session.duration)":`p99(${a.SESSION_DURATION})`,project:"project_id"},m=s()(p),h=["count_errored(session)","count_errored(user)","count_healthy(session)","count_healthy(user)","session.status"],g=["project","environment"],f={[i.r2.SESSION]:{name:"session",operations:["sum","crash_rate","crash_free_rate","count_healthy","count_abnormal","count_crashed","count_errored"],type:"integer"},[i.r2.USER]:{name:"user",operations:["count_unique","crash_rate","crash_free_rate","count_healthy","count_abnormal","count_crashed","count_errored"],type:"string"},[i.r2.SESSION_DURATION]:{name:"session.duration",operations:["avg","p50","p75","p95","p99","max"],type:"duration"}},y={sum:{outputType:"integer",parameters:[{kind:"column",columnTypes:["integer"],defaultValue:i.r2.SESSION,required:!0}]},count_unique:{outputType:"integer",parameters:[{kind:"column",columnTypes:["string"],defaultValue:i.r2.USER,required:!0}]},count_healthy:{outputType:"integer",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},count_abnormal:{outputType:"integer",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},count_crashed:{outputType:"integer",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},count_errored:{outputType:"integer",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},crash_rate:{outputType:"percentage",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},crash_free_rate:{outputType:"percentage",parameters:[{kind:"column",columnTypes:["integer","string"],defaultValue:i.r2.SESSION,required:!0}]},avg:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]},max:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]},p50:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]},p75:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]},p95:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]},p99:{outputType:null,parameters:[{kind:"column",columnTypes:["duration"],defaultValue:i.r2.SESSION_DURATION,required:!0}]}},_=["environment","project","release","session.status"],E=["environment","project","release"],S=Object.values(i.$y);function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(f),t=arguments.length>1?arguments[1]:void 0;const n={},r=new Set,s=Object.keys(y);return e.sort(((e,t)=>e.name.localeCompare(t.name))).forEach((e=>{e.operations.forEach((e=>r.add(e))),n[`field:${e.name}`]={label:e.name,value:{kind:d.L.METRICS,meta:{name:e.name,dataType:e.type}}}})),Array.from(r).filter((e=>s.includes(e))).sort(((e,t)=>e.localeCompare(t))).forEach((e=>{n[`function:${e}`]={label:`${e}(…)`,value:{kind:d.L.FUNCTION,meta:{name:e,parameters:y[e].parameters.map((e=>e))}}}})),(0,o.ri)(t)&&t.sort(((e,t)=>e.localeCompare(t))).forEach((e=>{n[`field:${e}`]={label:e,value:{kind:d.L.FIELD,meta:{name:e,dataType:"string"}}}})),n}},"./app/views/eventsV2/table/types.tsx":(e,t,n)=>{let r;n.d(t,{L:()=>r}),function(e){e.TAG="tag",e.MEASUREMENT="measurement",e.BREAKDOWN="breakdown",e.FIELD="field",e.FUNCTION="function",e.EQUATION="equation",e.METRICS="metric",e.NUMERIC_METRICS="numeric_metric"}(r||(r={}))},"./app/views/eventsV2/utils.tsx":(e,t,n)=>{n.d(t,{Bn:()=>Z,Di:()=>A,F_:()=>j,Hg:()=>T,R0:()=>N,TX:()=>v,Ur:()=>w,tG:()=>k,u:()=>I,zt:()=>x}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react-router/es/index.js");if("app"==n.j)var s=n("../node_modules/@sentry/utils/esm/object.js");var i=n("../node_modules/papaparse/papaparse.min.js"),o=n("./app/actionCreators/modal.tsx"),a=n("./app/components/gridEditable/index.tsx"),l=n("./app/constants/pageFilters.tsx"),d=n("./app/locale.tsx"),u=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),c=n("./app/utils/dates.tsx"),p=n("./app/utils/discover/fields.tsx"),m=n("./app/utils/discover/types.tsx"),h=n("./app/utils/events.tsx"),g=n("./app/utils/localStorage.tsx"),f=n("./app/utils/tokenizeSearch.tsx"),y=n("./app/views/dashboardsV2/types.tsx"),_=n("./app/views/eventsV2/savedQuery/utils.tsx"),E=n("./app/views/eventsV2/table/types.tsx"),S=n("./app/views/eventsV2/data.tsx");const b={key:"",name:"",type:"never",isSortable:!1,column:Object.freeze({kind:"field",field:""}),width:a.z7};function T(e,t){let n=0;return e.map((e=>{const r={...b},s=(0,p.nr)(e.field,e.alias),i=e.field;if((0,p.GO)(e.field)?(r.key=t?e.field:`equation[${n}]`,r.name=(0,p.vp)(i),n+=1):(r.key=i,r.name=i),r.width=e.width||a.z7,"function"===s.kind){const e=(0,p._4)(s.function[0],s.function[1]);null!==e&&(r.type=e);const t=p.lx[s.function[0]];r.isSortable=t&&t.isSortable}else"field"===s.kind&&(p._f.hasOwnProperty(s.field)?r.type=p._f[s.field]:(0,p.Xr)(s.field)?r.type=(0,p.Cq)(s.field):(0,p.yK)(s.field)&&(r.type="duration"));return r.column=s,r}))}function v(e){const{location:t,nextEventView:n}=e,s=e.extraQuery||{},i=n.generateQueryStringObject();r.browserHistory.push({...t,query:{...s,...i}})}function x(e){let{eventView:t,event:n,organization:r}=e;const s=[(0,d.t)("Discover")],i=t.name;"string"==typeof i&&String(i).trim().length>0&&s.push(String(i).trim());const o=n?(0,h.YQ)(n,null==r?void 0:r.features).title:void 0;return o&&s.push(o),s.reverse(),s.join(" - ")}function w(e){const t=[...S.gh];return e.features.includes("performance-view")&&(t.splice(2,0,...S.Qu),t.push(...S.He)),t}function A(e,t,n){const{data:r}=e,s=t.map((e=>e.name)),o=i.unparse({fields:s,data:r.map((e=>s.map((t=>{return t=(0,p.LY)(t),"string"==typeof(n=e[t])&&`${n}`.match(/^[\=\+\-\@]/)?`'${n}`:n;var n}))))}),a=`data:text/csv;charset=utf8,${encodeURIComponent(o)}`,l=document.createElement("a"),d=new Date;return l.setAttribute("href",a),l.setAttribute("download",`${n} ${(0,c.v5)(d)}.csv`),l.click(),l.remove(),a}const R={last_seen:"timestamp",failure_count:"transaction.status"};function Z(e,t,n){const r=new Set,s=e.fields.map((e=>{const t=(0,p.nr)(e.field,e.alias),n="function"===t.kind?function(e){var t;const n=e.function[0],r=p.lx[n];let s=e.function[1];if(R.hasOwnProperty(n))s=R[n];else if(null!=r&&null!==(t=r.parameters)&&void 0!==t&&t[0]){const e=r.parameters[0];"column"!==e.kind?s="":s||!1!==e.required||(s=e.defaultValue)}else s="";return s?{kind:"field",field:s}:null}(t):t;return null===n||r.has(n.field)||(0,p.Kr)(e.field)?null:(r.add(n.field),n)}));0===r.size&&s.length&&(s[0]={kind:"field",field:"id"});const i=s.reduceRight(((e,t,n)=>null===t?e.withDeletedColumn(n,void 0):e.withUpdatedColumn(n,t,void 0)),e.clone());return i.query=function(e,t,n){const r=new f.MY(e.query);for(const e in r.filters)"function"===(0,p.nr)(e).kind&&r.removeFilter(e);const s=Object.assign({},t,function(e,t){const n=Object.values(l.nF),r={};return t?(e.fields.forEach((e=>{const s=(0,p.nr)(e.field,e.alias);if("function"===s.kind)return;const i=(0,p.LY)(e.field);if(t.hasOwnProperty(i)){let e=t[i];if(Array.isArray(e)){if(e.length>1)return void(r[s.field]=e);e=e[0]}const n=null!=e&&/[\s\(\)\\"]/g.test(String(e).trim()),o=null==e?"":n?String(e):String(e).trim();if((0,p.Xr)(s.field)&&!o)return;"timestamp"===s.field?r[s.field]=(0,c.v5)(o):r[s.field]=o}if(t.tags&&Array.isArray(t.tags)){const e=t.tags.findIndex((e=>e.key===i));if(e>-1){const i=n.includes(s.field)?`tags[${s.field}]`:s.field,o=t.tags[e].value;r[i]=o}}})),r):r}(e,n));for(const t in s){const n=s[t];Array.isArray(n)?r.setFilterValues(t,n):"project.id"!==t?"environment"!==t?"function"!==(0,p.nr)(t).kind&&r.setFilterValues(t,[n]):e.environment.includes(n)||(e.environment=[...e.environment,n]):e.project=[...e.project,parseInt(n,10)]}return r.formatString()}(i,t,n),i}function N(e){let{organization:t,tagKeys:n,measurementKeys:r,spanOperationBreakdownKeys:s,aggregations:i=p.lx,fields:o=p._f}=e,a=Object.keys(o).sort(),l=Object.keys(i);t.features.includes("performance-view")||(a=a.filter((e=>!p.J8.includes(e))),l=l.filter((e=>!p.J8.includes(e))));const d={};return l.forEach((e=>{const t=i[e].parameters.length?"…":"",n=i[e].parameters.map((t=>{const n=p.lx[e].getFieldOverrides;return void 0===n?t:{...t,...n({parameter:t})}}));d[`function:${e}`]={label:`${e}(${t})`,value:{kind:E.L.FUNCTION,meta:{name:e,parameters:n}}}})),a.forEach((e=>{d[`field:${e}`]={label:e,value:{kind:E.L.FIELD,meta:{name:e,dataType:o[e]}}}})),null!=r&&(r.sort(),r.forEach((e=>{d[`measurement:${e}`]={label:e,value:{kind:E.L.MEASUREMENT,meta:{name:e,dataType:(0,p.Cq)(e)}}}}))),Array.isArray(s)&&(s.sort(),s.forEach((e=>{d[`span_op_breakdown:${e}`]={label:e,value:{kind:E.L.BREAKDOWN,meta:{name:e,dataType:"duration"}}}}))),null!=n&&(n.sort(),n.forEach((e=>{const t=o.hasOwnProperty(e)||p.lx.hasOwnProperty(e)?`tags[${e}]`:e;d[`tag:${e}`]={label:e,value:{kind:E.L.TAG,meta:{name:t,dataType:"string"}}}}))),d}const O="discover-render-prebuilt";function k(){const e=g.Z.getItem(O);return"true"===e||null===e}function I(e){g.Z.setItem(O,e?"true":"false")}function C(e){let{eventView:t,yAxis:n,displayType:r,widgetBuilderNewDesign:s}=e;const i=t.fields.map((e=>{let{field:t}=e;return t})),{columns:o,aggregates:a}=(0,p.n0)(i),l=t.sorts[0],d="string"==typeof n?[n]:null!=n?n:["count()"];let u="";if(l&&r!==y.FO.WORLD_MAP){let e="";const t=[...d,...a];for(let n=0;n<t.length;n++)if(l.field===(0,p.LY)(t[n])){e=t[n];break}const n=""===e?l.field:e;(r===y.FO.TOP_N||n)&&(u=`${"desc"===l.kind?"-":""}${n}`)}let c=a;return s&&r!==y.FO.TABLE?c=d:s||(c=[...r===y.FO.TOP_N?a:[],...d]),{name:"",aggregates:c,columns:[...r===y.FO.TOP_N?o:[]],fields:[...r===y.FO.TOP_N?i:[],...d],conditions:t.query,orderby:u}}function j(e){var t;let{eventView:n,location:r,query:i,organization:a,router:l,yAxis:d}=e;const c=(0,_.zz)(n.display),p=n.fields.map((e=>{let{field:t}=e;return t})),h=C({eventView:n,displayType:c,yAxis:d,widgetBuilderNewDesign:a.features.includes("new-widget-builder-experience-design")});if(a.features.includes("new-widget-builder-experience-design")){var g;const{query:e}=function(e){var t;let{eventView:n,query:r,organization:i,yAxis:o,location:a}=e;const l=(0,_.zz)(n.display),d=n.fields.map((e=>{let{field:t}=e;return t})),u=C({eventView:n,displayType:l,yAxis:o,widgetBuilderNewDesign:i.features.includes("new-widget-builder-experience-design")}),c=null!==(t=null==r?void 0:r.name)&&void 0!==t?t:"All Events"!==n.name?n.name:void 0;return{pathname:`/organizations/${i.slug}/dashboards/new/widget/new/`,query:{...null==a?void 0:a.query,source:y.EN.DISCOVERV2,start:n.start,end:n.end,statsPeriod:n.statsPeriod,defaultWidgetQuery:(0,s._j)(u),defaultTableColumns:d,defaultTitle:c,displayType:i.features.includes("new-widget-builder-experience-design")&&l===y.FO.TOP_N?y.FO.AREA:l,limit:i.features.includes("new-widget-builder-experience-design")&&l===y.FO.TOP_N?Number(n.topEvents)||m.hY:void 0}}}({eventView:n,query:i,organization:a,yAxis:d,location:r});(0,o.openAddToDashboardModal)({organization:a,selection:{projects:n.project,environments:n.environment,datetime:{start:n.start,end:n.end,period:n.statsPeriod,utc:n.utc}},widget:{title:null!==(g=null==i?void 0:i.name)&&void 0!==g?g:n.name,displayType:a.features.includes("new-widget-builder-experience-design")&&c===y.FO.TOP_N?y.FO.AREA:c,queries:[{...h,aggregates:[..."string"==typeof d?[d]:null!=d?d:["count()"]]}],interval:n.interval,limit:a.features.includes("new-widget-builder-experience-design")&&c===y.FO.TOP_N?Number(n.topEvents)||m.hY:void 0},router:l,widgetAsQueryParams:e})}else(0,o.openAddDashboardWidgetModal)({organization:a,start:n.start,end:n.end,statsPeriod:n.statsPeriod,source:y.EN.DISCOVERV2,defaultWidgetQuery:h,defaultTableColumns:p,defaultTitle:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:"All Events"!==n.name?n.name:void 0,displayType:c}),(0,u.Z)("discover_views.add_to_dashboard.modal_open",{organization:a,saved_query:!!i})}},"./app/views/performance/transactionSummary/filter.tsx":(e,t,n)=>{n.d(t,{BW:()=>h,Is:()=>E,T$:()=>_,ZP:()=>x,bE:()=>S,bz:()=>v,f1:()=>m,q0:()=>T,uy:()=>b});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.includes.js"),n("./app/components/assistant/guideAnchor.tsx")),i=n("./app/components/forms/compactSelect.tsx"),o=n("./app/components/performance/waterfall/utils.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("./app/utils/queryString.tsx"),c=n("./app/views/performance/transactionSummary/transactionOverview/latencyChart/utils.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let m;!function(e){e.None="none",e.Http="http",e.Db="db",e.Browser="browser",e.Resource="resource"}(m||(m={}));const h={[m.Http]:"spans.http",[m.Db]:"spans.db",[m.Browser]:"spans.browser",[m.Resource]:"spans.resource"},g=[m.Http,m.Db,m.Browser,m.Resource];function f(e){const{currentFilter:t,onChangeFilter:n,organization:r}=e;if(!r.features.includes("performance-ops-breakdown"))return null;const d=g.map((e=>({value:e,label:e,leadingItems:(0,p.tZ)(y,{backgroundColor:(0,o.hd)(e)})})));return(0,p.tZ)(s.Z,{target:"span_op_breakdowns_filter",position:"top",children:(0,p.tZ)(i.Z,{isClearable:!0,menuTitle:(0,l.t)("Filter by operation"),options:d,value:t,onChange:e=>n(null==e?void 0:e.value),triggerProps:{icon:(0,p.tZ)(a.wH,{})},triggerLabel:t===m.None?(0,l.t)("Filter"):t})})}g.map((e=>`spans.${e}`)),f.displayName="Filter";const y=(0,r.Z)("div",{target:"e1lbjjs50"})("display:block;width:",(0,d.Z)(1),";height:",(0,d.Z)(1),";border-radius:100%;background-color:",(e=>e.backgroundColor),";");function _(e){if(e!==m.None)return`spans.${e}`}function E(e,t){let n=_(e);n||(n="transaction.duration");const{min:r,max:s}=(0,c.Hj)(t);let i="";return"number"==typeof r&&(i=`${i} ${n}:>${r}ms`),"number"==typeof s&&(i=`${i} ${n}:<${s}ms`),e===m.None?i?i.trim():void 0:`${i} has:${_(e)}`.trim()}function S(e){return e===m.None?(0,o.hd)(""):(0,o.hd)(e)}function b(e){return Object.values(m).includes(e)?e:m.None}function T(e){return b((0,u.ro)(e.query.breakdown,m.None))}function v(e){return{breakdown:e}}const x="app"==n.j?f:null},"./app/views/performance/transactionSummary/transactionOverview/latencyChart/utils.tsx":(e,t,n)=>{n.d(t,{Hj:()=>o,Oo:()=>s,mo:()=>i});var r=n("./app/utils/queryString.tsx");const s="startDuration",i="endDuration";function o(e){let t,n;if(s in e.query&&(t=(0,r._q)(e.query[s],0)),i in e.query){const t=(0,r._q)(e.query[i]);"number"==typeof t&&(n=t)}return{min:t,max:n}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_utils_tsx-app_utils_discover_fieldRenderers_tsx-app_utils_withPageFilte-bf3b38.ead49c02334efbb4296f1f70d4834eee.js.map