{"version":3,"file":"chunks/app_components_events_eventTags_eventTagsPill_tsx-app_components_events_interfaces_spans_anch-a41bd2.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/constants/ios-device-list.tsx","webpack:///./app/components/deviceName.tsx","webpack:///./app/components/discover/discoverFeature.tsx","webpack:///./app/components/discoverButton.tsx","webpack:///./app/components/events/eventTags/eventTagsPillValue.tsx","webpack:///./app/components/events/eventTags/eventTagsPill.tsx","webpack:///./app/components/events/interfaces/spans/anchorLinkManager.tsx","webpack:///./app/components/events/interfaces/spans/context.tsx","webpack:///./app/components/events/interfaces/spans/cursorGuideHandler.tsx","webpack:///./app/components/events/interfaces/spans/dividerHandlerManager.tsx","webpack:///./app/components/events/opsBreakdown.tsx","webpack:///./app/components/events/interfaces/spans/measurementsPanel.tsx","webpack:///./app/components/events/interfaces/spans/header.tsx","webpack:///./app/components/events/interfaces/spans/scrollbarManager.tsx","webpack:///./app/components/events/interfaces/spans/inlineDocs.tsx","webpack:///./app/components/events/interfaces/spans/spanDetail.tsx","webpack:///./app/components/events/interfaces/spans/types.tsx","webpack:///./app/components/fileSize.tsx","webpack:///./app/components/performance/waterfall/messageRow.tsx","webpack:///./app/components/performance/waterfall/miniHeader.tsx","webpack:///./app/components/performance/waterfall/row.tsx","webpack:///./app/components/performance/waterfall/rowDetails.tsx","webpack:///./app/components/performance/waterfall/rowDivider.tsx","webpack:///./app/components/performance/waterfall/rowTitle.tsx","webpack:///./app/components/pill.tsx","webpack:///./app/components/pills.tsx","webpack:///./app/components/quickTrace/utils.tsx","webpack:///./app/utils/fuzzySearch.tsx","webpack:///./app/utils/performance/urls.ts","webpack:///./app/utils/userselect.tsx","webpack:///./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx","webpack:///./app/views/performance/transactionSummary/utils.tsx"],"sourcesContent":["// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n// generated using scripts/extract-ios-device-names.ts as part of build step.\n// the purpose of the script is to extract only the iOS information that Sentry cares about\n// and discard the rest of the JSON so we do not end up bloating bundle size.\n\nconst iOSDeviceMapping: Record<string, string> = {\n  'iPod1,1': 'iPod touch',\n  'iPod2,1': 'iPod touch (2nd generation)',\n  'iPod3,1': 'iPod touch (3rd generation)',\n  'iPod4,1': 'iPod touch (4th generation)',\n  'iPod5,1': 'iPod touch (5th generation)',\n  'iPod7,1': 'iPod touch (6th generation)',\n  'iPod9,1': 'iPod touch (7th generation)',\n  'iPhone1,1': 'iPhone',\n  'iPhone1,2': 'iPhone 3G',\n  'iPhone2,1': 'iPhone 3GS',\n  'iPhone3,1': 'iPhone 4',\n  'iPhone3,2': 'iPhone 4',\n  'iPhone3,3': 'iPhone 4',\n  'iPhone4,1': 'iPhone 4S',\n  'iPhone5,1': 'iPhone 5',\n  'iPhone5,2': 'iPhone 5',\n  'iPhone5,3': 'iPhone 5c',\n  'iPhone5,4': 'iPhone 5c',\n  'iPhone6,1': 'iPhone 5s',\n  'iPhone6,2': 'iPhone 5s',\n  'iPhone8,4': 'iPhone SE (1st generation)',\n  'iPhone7,2': 'iPhone 6',\n  'iPhone7,1': 'iPhone 6 Plus',\n  'iPhone8,1': 'iPhone 6s',\n  'iPhone8,2': 'iPhone 6s Plus',\n  'iPhone9,1': 'iPhone 7',\n  'iPhone9,3': 'iPhone 7',\n  'iPhone9,2': 'iPhone 7 Plus',\n  'iPhone9,4': 'iPhone 7 Plus',\n  'iPhone10,1': 'iPhone 8',\n  'iPhone10,4': 'iPhone 8',\n  'iPhone10,2': 'iPhone 8 Plus',\n  'iPhone10,5': 'iPhone 8 Plus',\n  'iPhone10,3': 'iPhone X',\n  'iPhone10,6': 'iPhone X',\n  'iPhone11,8': 'iPhone XR',\n  'iPhone11,2': 'iPhone XS',\n  'iPhone11,4': 'iPhone XS Max',\n  'iPhone11,6': 'iPhone XS Max',\n  'iPhone12,1': 'iPhone 11',\n  'iPhone12,3': 'iPhone 11 Pro',\n  'iPhone12,5': 'iPhone 11 Pro Max',\n  'iPhone12,8': 'iPhone SE (2nd generation)',\n  'iPhone13,1': 'iPhone 12 mini',\n  'iPhone13,2': 'iPhone 12',\n  'iPhone13,3': 'iPhone 12 Pro',\n  'iPhone13,4': 'iPhone 12 Pro Max',\n  'iPad6,7': 'iPad Pro (12.9-inch)',\n  'iPad6,8': 'iPad Pro (12.9-inch)',\n  'iPad6,3': 'iPad Pro (9.7-inch)',\n  'iPad6,4': 'iPad Pro (9.7-inch)',\n  'iPad7,1': 'iPad Pro (12.9-inch, 2nd generation)',\n  'iPad7,2': 'iPad Pro (12.9-inch, 2nd generation)',\n  'iPad7,3': 'iPad Pro (10.5-inch)',\n  'iPad7,4': 'iPad Pro (10.5-inch)',\n  'iPad8,1': 'iPad Pro (11-inch)',\n  'iPad8,2': 'iPad Pro (11-inch)',\n  'iPad8,3': 'iPad Pro (11-inch)',\n  'iPad8,4': 'iPad Pro (11-inch)',\n  'iPad8,5': 'iPad Pro (12.9-inch) (3rd generation)',\n  'iPad8,6': 'iPad Pro (12.9-inch) (3rd generation)',\n  'iPad8,7': 'iPad Pro (12.9-inch) (3rd generation)',\n  'iPad8,8': 'iPad Pro (12.9-inch) (3rd generation)',\n  'iPad8,9': 'iPad Pro (11-inch) (2nd generation)',\n  'iPad8,10': 'iPad Pro (11-inch) (2nd generation)',\n  'iPad8,11': 'iPad Pro (12.9-inch) (4th generation)',\n  'iPad8,12': 'iPad Pro (12.9-inch) (4th generation)',\n  'iPad2,5': 'iPad mini',\n  'iPad2,6': 'iPad mini',\n  'iPad2,7': 'iPad mini',\n  'iPad4,4': 'iPad mini 2',\n  'iPad4,5': 'iPad mini 2',\n  'iPad4,6': 'iPad mini 2',\n  'iPad4,7': 'iPad mini 3',\n  'iPad4,8': 'iPad mini 3',\n  'iPad4,9': 'iPad mini 3',\n  'iPad5,1': 'iPad mini 4',\n  'iPad5,2': 'iPad mini 4',\n  'iPad11,1': 'iPad mini (5th generation)',\n  'iPad11,2': 'iPad mini (5th generation)',\n  'iPad4,1': 'iPad Air',\n  'iPad4,2': 'iPad Air',\n  'iPad4,3': 'iPad Air',\n  'iPad5,3': 'iPad Air 2',\n  'iPad5,4': 'iPad Air 2',\n  'iPad11,3': 'iPad Air (3rd generation)',\n  'iPad11,4': 'iPad Air (3rd generation)',\n  'iPad13,1': 'iPad Air (4th generation)',\n  'iPad13,2': 'iPad Air (4th generation)',\n  'iPad1,1': 'iPad',\n  'iPad2,1': 'iPad 2',\n  'iPad2,2': 'iPad 2',\n  'iPad2,3': 'iPad 2',\n  'iPad2,4': 'iPad 2',\n  'iPad3,1': 'iPad (3rd generation)',\n  'iPad3,2': 'iPad (3rd generation)',\n  'iPad3,3': 'iPad (3rd generation)',\n  'iPad3,4': 'iPad (4th generation)',\n  'iPad3,5': 'iPad (4th generation)',\n  'iPad3,6': 'iPad (4th generation)',\n  'iPad6,11': 'iPad (5th generation)',\n  'iPad6,12': 'iPad (5th generation)',\n  'iPad7,5': 'iPad (6th generation)',\n  'iPad7,6': 'iPad (6th generation)',\n  'iPad7,11': 'iPad (7th generation)',\n  'iPad7,12': 'iPad (7th generation)',\n  'iPad11,6': 'iPad (8th generation)',\n  'iPad11,7': 'iPad (8th generation)',\n  'AudioAccessory1,1': 'HomePod',\n  'AudioAccessory1,2': 'HomePod',\n  'AudioAccessory5,1': 'HomePod mini',\n  'Watch1,1': 'Apple Watch (1st generation)',\n  'Watch1,2': 'Apple Watch (1st generation)',\n  'Watch2,6': 'Apple Watch Series 1',\n  'Watch2,7': 'Apple Watch Series 1',\n  'Watch2,3': 'Apple Watch Series 2',\n  'Watch2,4': 'Apple Watch Series 2',\n  'Watch3,1': 'Apple Watch Series 3',\n  'Watch3,2': 'Apple Watch Series 3',\n  'Watch3,3': 'Apple Watch Series 3',\n  'Watch3,4': 'Apple Watch Series 3',\n  'Watch4,1': 'Apple Watch Series 4',\n  'Watch4,2': 'Apple Watch Series 4',\n  'Watch4,3': 'Apple Watch Series 4',\n  'Watch4,4': 'Apple Watch Series 4',\n  'Watch5,1': 'Apple Watch Series 5',\n  'Watch5,2': 'Apple Watch Series 5',\n  'Watch5,3': 'Apple Watch Series 5',\n  'Watch5,4': 'Apple Watch Series 5',\n  'Watch5,9': 'Apple Watch SE',\n  'Watch5,10': 'Apple Watch SE',\n  'Watch5,11': 'Apple Watch SE',\n  'Watch5,12': 'Apple Watch SE',\n  'Watch6,1': 'Apple Watch Series 6',\n  'Watch6,2': 'Apple Watch Series 6',\n  'Watch6,3': 'Apple Watch Series 6',\n  'Watch6,4': 'Apple Watch Series 6',\n  'AppleTV1,1': 'Apple TV (1st generation)',\n  'AppleTV2,1': 'Apple TV (2nd generation)',\n  'AppleTV3,1': 'Apple TV (3rd generation)',\n  'AppleTV3,2': 'Apple TV (3rd generation)',\n  'AppleTV5,3': 'Apple TV (4th generation)',\n  'AppleTV6,2': 'Apple TV 4K',\n  'AirPods1,1': 'AirPods (1st generation)',\n  'AirPods2,1': 'AirPods (2nd generation)',\n  'iProd8,1': 'AirPods Pro',\n};\n\nexport {iOSDeviceMapping};\n","import {useMemo} from 'react';\n\nimport {iOSDeviceMapping} from 'sentry/constants/ios-device-list';\n\nexport function deviceNameMapper(model: string | undefined): string | null {\n  // If we have no model, render nothing\n  if (typeof model !== 'string') {\n    return null;\n  }\n\n  // If module has not loaded yet, render the unparsed model\n  if (module === null) {\n    return model;\n  }\n\n  const [identifier, ...rest] = model.split(' ');\n\n  const modelName = iOSDeviceMapping[identifier];\n  return modelName === undefined ? model : `${modelName} ${rest.join(' ')}`;\n}\n\ninterface DeviceNameProps {\n  value: string;\n  children?: (name: string) => React.ReactNode;\n}\n\n/**\n * This is used to map iOS Device Names to model name.\n * This asynchronously loads the ios-device-list library because of its size\n */\nfunction DeviceName({value, children}: DeviceNameProps): React.ReactElement | null {\n  const deviceName = useMemo(() => deviceNameMapper(value), [value]);\n\n  return deviceName ? (\n    <span data-test-id=\"loaded-device-name\">\n      {children ? children(deviceName) : deviceName}\n    </span>\n  ) : null;\n}\n\nexport {DeviceName};\n","import Feature from 'sentry/components/acl/feature';\nimport FeatureDisabled from 'sentry/components/acl/featureDisabled';\nimport {Hovercard} from 'sentry/components/hovercard';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  children: ({hasFeature: boolean}) => React.ReactNode;\n};\n\n/**\n * Provide a component that passes a prop to indicate if the current\n * organization doesn't have access to discover results.\n */\nfunction DiscoverFeature({children}: Props) {\n  const noFeatureMessage = t('Requires discover feature.');\n\n  const renderDisabled = p => (\n    <Hovercard\n      body={\n        <FeatureDisabled\n          features={p.features}\n          hideHelpToggle\n          message={noFeatureMessage}\n          featureName={noFeatureMessage}\n        />\n      }\n    >\n      {p.children(p)}\n    </Hovercard>\n  );\n\n  return (\n    <Feature\n      hookName=\"feature-disabled:open-discover\"\n      features={['organizations:discover-basic']}\n      renderDisabled={renderDisabled}\n    >\n      {({hasFeature}) => children({hasFeature})}\n    </Feature>\n  );\n}\n\nexport default DiscoverFeature;\n","import Button, {ButtonProps} from 'sentry/components/button';\nimport DiscoverFeature from 'sentry/components/discover/discoverFeature';\nimport {t} from 'sentry/locale';\n\ntype DiscoverButtonProps = Omit<ButtonProps, 'aria-label'>;\n\n/**\n * Provide a button that turns itself off if the current organization\n * doesn't have access to discover results.\n */\nfunction DiscoverButton({children, ...buttonProps}: DiscoverButtonProps) {\n  return (\n    <DiscoverFeature>\n      {({hasFeature}) => (\n        <Button\n          disabled={!hasFeature}\n          aria-label={t('Open in Discover')}\n          {...buttonProps}\n        >\n          {children}\n        </Button>\n      )}\n    </DiscoverFeature>\n  );\n}\n\nexport default DiscoverButton;\n","import {DeviceName} from 'sentry/components/deviceName';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport Link from 'sentry/components/links/link';\nimport {Meta} from 'sentry/types';\nimport {EventTag} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\ntype Props = {\n  locationSearch: string;\n  streamPath: string;\n  tag: EventTag;\n  meta?: Meta;\n};\n\nconst EventTagsPillValue = ({\n  tag: {key, value},\n  meta,\n  streamPath,\n  locationSearch,\n}: Props) => {\n  const content = (\n    <AnnotatedText\n      value={defined(value) && <DeviceName value={String(value)} />}\n      meta={meta}\n    />\n  );\n\n  if (!meta?.err?.length && defined(key)) {\n    return <Link to={{pathname: streamPath, search: locationSearch}}>{content}</Link>;\n  }\n\n  return content;\n};\n\nexport default EventTagsPillValue;\n","import {css} from '@emotion/react';\nimport {Query} from 'history';\nimport * as qs from 'query-string';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport {getMeta} from 'sentry/components/events/meta/metaProxy';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Pill from 'sentry/components/pill';\nimport Version from 'sentry/components/version';\nimport VersionHoverCard from 'sentry/components/versionHoverCard';\nimport {IconOpen} from 'sentry/icons';\nimport {Organization} from 'sentry/types';\nimport {EventTag} from 'sentry/types/event';\nimport {isUrl} from 'sentry/utils';\n\nimport EventTagsPillValue from './eventTagsPillValue';\n\nconst iconStyle = css`\n  position: relative;\n  top: 1px;\n`;\n\ntype Props = {\n  organization: Organization;\n  projectId: string;\n  query: Query;\n  streamPath: string;\n  tag: EventTag;\n};\n\nconst EventTagsPill = ({tag, query, organization, projectId, streamPath}: Props) => {\n  const locationSearch = `?${qs.stringify(query)}`;\n  const {key, value} = tag;\n  const isRelease = key === 'release';\n  const name = !key ? <AnnotatedText value={key} meta={getMeta(tag, 'key')} /> : key;\n  const type = !key ? 'error' : undefined;\n\n  return (\n    <Pill name={name} value={value} type={type}>\n      {isRelease ? (\n        <VersionHoverCard\n          organization={organization}\n          projectSlug={projectId}\n          releaseVersion={value}\n          showUnderline\n          underlineColor=\"linkUnderline\"\n        >\n          <Version version={String(value)} truncate />\n        </VersionHoverCard>\n      ) : (\n        <EventTagsPillValue\n          tag={tag}\n          meta={getMeta(tag, 'value')}\n          streamPath={streamPath}\n          locationSearch={locationSearch}\n        />\n      )}\n      {isUrl(value) && (\n        <ExternalLink href={value} className=\"external-icon\">\n          <IconOpen size=\"xs\" css={iconStyle} />\n        </ExternalLink>\n      )}\n    </Pill>\n  );\n};\n\nexport default EventTagsPill;\n","import {Component, createContext} from 'react';\n\nexport type AnchorLinkManagerChildrenProps = {\n  registerScrollFn: (hash: string, fn: () => void, isSpanInGroup: boolean) => void;\n  scrollToHash: (hash: string) => void;\n};\n\nconst AnchorLinkManagerContext = createContext<AnchorLinkManagerChildrenProps>({\n  registerScrollFn: () => () => undefined,\n  scrollToHash: () => undefined,\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport class Provider extends Component<Props> {\n  componentDidMount() {\n    this.scrollToHash(location.hash);\n  }\n\n  scrollFns: Map<string, {fn: () => void; isSpanInGroup: boolean}> = new Map();\n\n  scrollToHash = (hash: string) => {\n    if (this.scrollFns.has(hash)) {\n      const {fn, isSpanInGroup} = this.scrollFns.get(hash)!;\n      fn();\n\n      // If the anchored span is part of a group, need to call scrollToHash again, since the initial fn() call will only expand the group.\n      // The function gets registered again after the group is expanded, which will allow the page to scroll to the span\n      if (isSpanInGroup) {\n        // TODO: There's a possibility that this trick may not work when we upgrade to React 18\n        setTimeout(() => this.scrollFns.get(hash)?.fn());\n      }\n    }\n  };\n\n  registerScrollFn = (hash: string, fn: () => void, isSpanInGroup: boolean) => {\n    this.scrollFns.set(hash, {fn, isSpanInGroup});\n  };\n\n  render() {\n    const childrenProps: AnchorLinkManagerChildrenProps = {\n      registerScrollFn: this.registerScrollFn,\n      scrollToHash: this.scrollToHash,\n    };\n\n    return (\n      <AnchorLinkManagerContext.Provider value={childrenProps}>\n        {this.props.children}\n      </AnchorLinkManagerContext.Provider>\n    );\n  }\n}\n\nexport const Consumer = AnchorLinkManagerContext.Consumer;\n","import {createContext} from 'react';\nimport {LocationDescriptor} from 'history';\n\ntype ChildTransaction = {\n  eventSlug: string;\n  id: string;\n  'project.name': string;\n  transaction: string;\n};\n\nexport type SpanEntryContextChildrenProps = {\n  getViewChildTransactionTarget: (\n    props: ChildTransaction\n  ) => LocationDescriptor | undefined;\n};\n\nconst SpanEntryContext = createContext<SpanEntryContextChildrenProps>({\n  getViewChildTransactionTarget: () => undefined,\n});\n\nexport const Provider = SpanEntryContext.Provider;\n\nexport const Consumer = SpanEntryContext.Consumer;\n","import {Component, createContext} from 'react';\n\nimport {clamp, rectOfContent} from 'sentry/components/performance/waterfall/utils';\n\nimport {DragManagerChildrenProps} from './dragManager';\nimport {ParsedTraceType} from './types';\n\nexport type CursorGuideManagerChildrenProps = {\n  displayCursorGuide: (mousePageX: number) => void;\n  hideCursorGuide: () => void;\n  mouseLeft: number | undefined;\n\n  showCursorGuide: boolean;\n  traceViewMouseLeft: number | undefined;\n};\n\nconst CursorGuideManagerContext = createContext<CursorGuideManagerChildrenProps>({\n  showCursorGuide: false,\n  mouseLeft: void 0,\n  traceViewMouseLeft: void 0,\n\n  displayCursorGuide: () => {},\n  hideCursorGuide: () => {},\n});\n\ntype PropType = {\n  children: React.ReactNode;\n  dragProps: DragManagerChildrenProps;\n  // this is the DOM element where the drag events occur. it's also the reference point\n  // for calculating the relative mouse x coordinate.\n  interactiveLayerRef: React.RefObject<HTMLDivElement>;\n\n  trace: ParsedTraceType;\n};\n\ntype StateType = {\n  mouseLeft: number | undefined;\n  showCursorGuide: boolean;\n  traceViewMouseLeft: number | undefined;\n};\n\nexport class Provider extends Component<PropType, StateType> {\n  state: StateType = {\n    showCursorGuide: false,\n    mouseLeft: void 0,\n    traceViewMouseLeft: void 0,\n  };\n\n  hasInteractiveLayer = (): boolean => !!this.props.interactiveLayerRef.current;\n\n  displayCursorGuide = (mousePageX: number) => {\n    if (!this.hasInteractiveLayer()) {\n      return;\n    }\n\n    const {trace, dragProps} = this.props;\n\n    const interactiveLayer = this.props.interactiveLayerRef.current!;\n\n    const rect = rectOfContent(interactiveLayer);\n\n    // duration of the entire trace in seconds\n    const traceDuration = trace.traceEndTimestamp - trace.traceStartTimestamp;\n\n    const viewStart = dragProps.viewWindowStart;\n    const viewEnd = dragProps.viewWindowEnd;\n\n    const viewStartTimestamp = trace.traceStartTimestamp + viewStart * traceDuration;\n    const viewEndTimestamp = trace.traceEndTimestamp - (1 - viewEnd) * traceDuration;\n    const viewDuration = viewEndTimestamp - viewStartTimestamp;\n\n    // clamp mouseLeft to be within [0, 1]\n    const mouseLeft = clamp((mousePageX - rect.x) / rect.width, 0, 1);\n\n    const duration =\n      mouseLeft * Math.abs(trace.traceEndTimestamp - trace.traceStartTimestamp);\n\n    const startTimestamp = trace.traceStartTimestamp + duration;\n\n    const start = (startTimestamp - viewStartTimestamp) / viewDuration;\n\n    this.setState({\n      showCursorGuide: true,\n      mouseLeft,\n      traceViewMouseLeft: start,\n    });\n  };\n\n  hideCursorGuide = () => {\n    if (!this.hasInteractiveLayer()) {\n      return;\n    }\n\n    this.setState({\n      showCursorGuide: false,\n      mouseLeft: void 0,\n      traceViewMouseLeft: void 0,\n    });\n  };\n\n  render() {\n    const childrenProps = {\n      showCursorGuide: this.state.showCursorGuide,\n      mouseLeft: this.state.mouseLeft,\n      traceViewMouseLeft: this.state.traceViewMouseLeft,\n\n      displayCursorGuide: this.displayCursorGuide,\n      hideCursorGuide: this.hideCursorGuide,\n    };\n\n    return (\n      <CursorGuideManagerContext.Provider value={childrenProps}>\n        {this.props.children}\n      </CursorGuideManagerContext.Provider>\n    );\n  }\n}\n\nexport const Consumer = CursorGuideManagerContext.Consumer;\n","import {Component, createContext, createRef} from 'react';\n\nimport {\n  clamp,\n  rectOfContent,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\nimport {setBodyUserSelect, UserSelectValues} from 'sentry/utils/userselect';\n\n// divider handle is positioned at 50% width from the left-hand side\nconst DEFAULT_DIVIDER_POSITION = 0.4;\n\nconst selectRefs = (\n  refs: Array<React.RefObject<HTMLDivElement>>,\n  transform: (dividerDOM: HTMLDivElement) => void\n) => {\n  refs.forEach(ref => {\n    if (ref.current) {\n      transform(ref.current);\n    }\n  });\n};\n\nexport type DividerHandlerManagerChildrenProps = {\n  addDividerLineRef: () => React.RefObject<HTMLDivElement>;\n  addGhostDividerLineRef: () => React.RefObject<HTMLDivElement>;\n  dividerPosition: number;\n  onDragStart: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  setHover: (nextHover: boolean) => void;\n};\n\ntype StateType = {\n  dividerPosition: number; // between 0 and 1\n};\n\nconst DividerManagerContext = createContext<DividerHandlerManagerChildrenProps>({\n  dividerPosition: DEFAULT_DIVIDER_POSITION,\n  onDragStart: () => {},\n  setHover: () => {},\n  addDividerLineRef: () => createRef<HTMLDivElement>(),\n  addGhostDividerLineRef: () => createRef<HTMLDivElement>(),\n});\n\ntype PropType = {\n  children: React.ReactNode;\n\n  // this is the DOM element where the drag events occur. it's also the reference point\n  // for calculating the relative mouse x coordinate.\n  interactiveLayerRef: React.RefObject<HTMLDivElement>;\n};\n\nexport class Provider extends Component<PropType, StateType> {\n  state: StateType = {\n    dividerPosition: DEFAULT_DIVIDER_POSITION,\n  };\n\n  componentWillUnmount() {\n    this.cleanUpListeners();\n  }\n\n  previousUserSelect: UserSelectValues | null = null;\n  dividerHandlePosition: number = DEFAULT_DIVIDER_POSITION;\n  isDragging: boolean = false;\n  dividerLineRefs: Array<React.RefObject<HTMLDivElement>> = [];\n  ghostDividerLineRefs: Array<React.RefObject<HTMLDivElement>> = [];\n\n  hasInteractiveLayer = (): boolean => !!this.props.interactiveLayerRef.current;\n\n  addDividerLineRef = () => {\n    const ref = createRef<HTMLDivElement>();\n    this.dividerLineRefs.push(ref);\n    return ref;\n  };\n\n  addGhostDividerLineRef = () => {\n    const ref = createRef<HTMLDivElement>();\n    this.ghostDividerLineRefs.push(ref);\n    return ref;\n  };\n\n  setHover = (nextHover: boolean) => {\n    if (this.isDragging) {\n      return;\n    }\n\n    selectRefs(this.dividerLineRefs, dividerDOM => {\n      if (nextHover) {\n        dividerDOM.classList.add('hovering');\n        return;\n      }\n\n      dividerDOM.classList.remove('hovering');\n    });\n  };\n\n  onDragStart = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (this.isDragging || event.type !== 'mousedown' || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    // prevent the user from selecting things outside the minimap when dragging\n    // the mouse cursor inside the minimap\n\n    this.previousUserSelect = setBodyUserSelect({\n      userSelect: 'none',\n      MozUserSelect: 'none',\n      msUserSelect: 'none',\n      webkitUserSelect: 'none',\n    });\n\n    // attach event listeners so that the mouse cursor does not select text during a drag\n    window.addEventListener('mousemove', this.onDragMove);\n    window.addEventListener('mouseup', this.onDragEnd);\n\n    this.setHover(true);\n\n    // indicate drag has begun\n\n    this.isDragging = true;\n\n    selectRefs(this.dividerLineRefs, (dividerDOM: HTMLDivElement) => {\n      dividerDOM.style.backgroundColor = 'rgba(73,80,87,0.75)';\n      dividerDOM.style.cursor = 'col-resize';\n    });\n\n    selectRefs(this.ghostDividerLineRefs, (dividerDOM: HTMLDivElement) => {\n      dividerDOM.style.cursor = 'col-resize';\n\n      const {parentNode} = dividerDOM;\n\n      if (!parentNode) {\n        return;\n      }\n\n      const container = parentNode as HTMLDivElement;\n      container.style.display = 'block';\n    });\n  };\n\n  onDragMove = (event: MouseEvent) => {\n    if (!this.isDragging || event.type !== 'mousemove' || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    const rect = rectOfContent(this.props.interactiveLayerRef.current!);\n\n    // mouse x-coordinate relative to the interactive layer's left side\n    const rawMouseX = (event.pageX - rect.x) / rect.width;\n\n    const min = 0;\n    const max = 1;\n\n    // clamp rawMouseX to be within [0, 1]\n    this.dividerHandlePosition = clamp(rawMouseX, min, max);\n\n    const dividerHandlePositionString = toPercent(this.dividerHandlePosition);\n\n    selectRefs(this.ghostDividerLineRefs, (dividerDOM: HTMLDivElement) => {\n      const {parentNode} = dividerDOM;\n\n      if (!parentNode) {\n        return;\n      }\n\n      const container = parentNode as HTMLDivElement;\n\n      container.style.width = `calc(${dividerHandlePositionString} + 0.5px)`;\n    });\n  };\n\n  onDragEnd = (event: MouseEvent) => {\n    if (!this.isDragging || event.type !== 'mouseup' || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    // remove listeners that were attached in onDragStart\n\n    this.cleanUpListeners();\n\n    // restore body styles\n\n    if (this.previousUserSelect) {\n      setBodyUserSelect(this.previousUserSelect);\n      this.previousUserSelect = null;\n    }\n\n    // indicate drag has ended\n\n    this.isDragging = false;\n\n    this.setHover(false);\n\n    selectRefs(this.dividerLineRefs, (dividerDOM: HTMLDivElement) => {\n      dividerDOM.style.backgroundColor = '';\n      dividerDOM.style.cursor = '';\n    });\n\n    selectRefs(this.ghostDividerLineRefs, (dividerDOM: HTMLDivElement) => {\n      dividerDOM.style.cursor = '';\n\n      const {parentNode} = dividerDOM;\n\n      if (!parentNode) {\n        return;\n      }\n\n      const container = parentNode as HTMLDivElement;\n      container.style.display = 'none';\n    });\n\n    this.setState({\n      // commit dividerHandlePosition to be dividerPosition\n      dividerPosition: this.dividerHandlePosition,\n    });\n  };\n\n  cleanUpListeners = () => {\n    if (this.isDragging) {\n      // we only remove listeners during a drag\n      window.removeEventListener('mousemove', this.onDragMove);\n      window.removeEventListener('mouseup', this.onDragEnd);\n    }\n  };\n\n  render() {\n    const childrenProps = {\n      dividerPosition: this.state.dividerPosition,\n      setHover: this.setHover,\n      onDragStart: this.onDragStart,\n      addDividerLineRef: this.addDividerLineRef,\n      addGhostDividerLineRef: this.addGhostDividerLineRef,\n    };\n\n    // NOTE: <DividerManagerContext.Provider /> will not re-render its children\n    // - if the `value` prop changes, and\n    // - if the `children` prop stays the same\n    //\n    // Thus, only <DividerManagerContext.Consumer /> components will re-render.\n    // This is an optimization for when childrenProps changes, but this.props does not change.\n    //\n    // We prefer to minimize the amount of top-down prop drilling from this component\n    // to the respective divider components.\n\n    return (\n      <DividerManagerContext.Provider value={childrenProps}>\n        {this.props.children}\n      </DividerManagerContext.Provider>\n    );\n  }\n}\n\nexport const Consumer = DividerManagerContext.Consumer;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\nimport isFinite from 'lodash/isFinite';\n\nimport {SectionHeading} from 'sentry/components/charts/styles';\nimport {ActiveOperationFilter} from 'sentry/components/events/interfaces/spans/filter';\nimport {\n  RawSpanType,\n  SpanEntry,\n  TraceContextType,\n} from 'sentry/components/events/interfaces/spans/types';\nimport {getSpanOperation} from 'sentry/components/events/interfaces/spans/utils';\nimport {pickBarColor} from 'sentry/components/performance/waterfall/utils';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EntryType, Event, EventTransaction} from 'sentry/types/event';\n\ntype StartTimestamp = number;\ntype EndTimestamp = number;\ntype Duration = number;\n\ntype TimeWindowSpan = [StartTimestamp, EndTimestamp];\n\nconst OtherOperation = Symbol('Other');\n\ntype OperationName = string | typeof OtherOperation;\n\n// mapping an operation name to a disjoint set of time intervals (start/end timestamp).\n// this is an intermediary data structure to help calculate the coverage of an operation name\n// with respect to the root transaction span's operation lifetime\ntype OperationNameIntervals = Record<OperationName, Array<TimeWindowSpan>>;\ntype OperationNameCoverage = Record<OperationName, Duration>;\n\ntype OpStats = {\n  name: OperationName;\n  percentage: number;\n  totalInterval: number;\n};\n\nconst TOP_N_SPANS = 4;\n\ntype OpBreakdownType = OpStats[];\n\ntype DefaultProps = {\n  hideHeader: boolean;\n  topN: number;\n};\n\ntype Props = DefaultProps & {\n  event: Event;\n  operationNameFilters: ActiveOperationFilter;\n};\n\nclass OpsBreakdown extends Component<Props> {\n  static defaultProps: DefaultProps = {\n    topN: TOP_N_SPANS,\n    hideHeader: false,\n  };\n\n  getTransactionEvent(): EventTransaction | undefined {\n    const {event} = this.props;\n\n    if (event.type === 'transaction') {\n      return event as EventTransaction;\n    }\n\n    return undefined;\n  }\n\n  generateStats(): OpBreakdownType {\n    const {topN, operationNameFilters} = this.props;\n    const event = this.getTransactionEvent();\n\n    if (!event) {\n      return [];\n    }\n\n    const traceContext: TraceContextType | undefined = event?.contexts?.trace;\n\n    if (!traceContext) {\n      return [];\n    }\n\n    const spanEntry = event.entries.find((entry: SpanEntry | any): entry is SpanEntry => {\n      return entry.type === EntryType.SPANS;\n    });\n\n    let spans: RawSpanType[] = spanEntry?.data ?? [];\n\n    const rootSpan = {\n      op: traceContext.op,\n      timestamp: event.endTimestamp,\n      start_timestamp: event.startTimestamp,\n      trace_id: traceContext.trace_id || '',\n      span_id: traceContext.span_id || '',\n      data: {},\n    };\n\n    spans =\n      spans.length > 0\n        ? spans\n        : // if there are no descendent spans, then use the transaction root span\n          [rootSpan];\n\n    // Filter spans by operation name\n    if (operationNameFilters.type === 'active_filter') {\n      spans = [...spans, rootSpan];\n      spans = spans.filter(span => {\n        const operationName = getSpanOperation(span);\n\n        const shouldFilterOut =\n          typeof operationName === 'string' &&\n          !operationNameFilters.operationNames.has(operationName);\n\n        return !shouldFilterOut;\n      });\n    }\n\n    const operationNameIntervals = spans.reduce(\n      (intervals: Partial<OperationNameIntervals>, span: RawSpanType) => {\n        let startTimestamp = span.start_timestamp;\n        let endTimestamp = span.timestamp;\n\n        if (endTimestamp < startTimestamp) {\n          // reverse timestamps\n          startTimestamp = span.timestamp;\n          endTimestamp = span.start_timestamp;\n        }\n\n        // invariant: startTimestamp <= endTimestamp\n\n        let operationName = span.op;\n\n        if (typeof operationName !== 'string') {\n          // a span with no operation name is considered an 'unknown' op\n          operationName = 'unknown';\n        }\n\n        const cover: TimeWindowSpan = [startTimestamp, endTimestamp];\n\n        const operationNameInterval = intervals[operationName];\n\n        if (!Array.isArray(operationNameInterval)) {\n          intervals[operationName] = [cover];\n\n          return intervals;\n        }\n\n        operationNameInterval.push(cover);\n\n        intervals[operationName] = mergeInterval(operationNameInterval);\n\n        return intervals;\n      },\n      {}\n    ) as OperationNameIntervals;\n\n    const operationNameCoverage = Object.entries(operationNameIntervals).reduce(\n      (\n        acc: Partial<OperationNameCoverage>,\n        [operationName, intervals]: [OperationName, TimeWindowSpan[]]\n      ) => {\n        const duration = intervals.reduce((sum: number, [start, end]) => {\n          return sum + Math.abs(end - start);\n        }, 0);\n\n        acc[operationName] = duration;\n\n        return acc;\n      },\n      {}\n    ) as OperationNameCoverage;\n\n    const sortedOpsBreakdown = Object.entries(operationNameCoverage).sort(\n      (first: [OperationName, Duration], second: [OperationName, Duration]) => {\n        const firstDuration = first[1];\n        const secondDuration = second[1];\n\n        if (firstDuration === secondDuration) {\n          return 0;\n        }\n\n        if (firstDuration < secondDuration) {\n          // sort second before first\n          return 1;\n        }\n\n        // otherwise, sort first before second\n        return -1;\n      }\n    );\n\n    const breakdown = sortedOpsBreakdown\n      .slice(0, topN)\n      .map(([operationName, duration]: [OperationName, Duration]): OpStats => {\n        return {\n          name: operationName,\n          // percentage to be recalculated after the ops breakdown group is decided\n          percentage: 0,\n          totalInterval: duration,\n        };\n      });\n\n    const other = sortedOpsBreakdown.slice(topN).reduce(\n      (accOther: OpStats, [_operationName, duration]: [OperationName, Duration]) => {\n        accOther.totalInterval += duration;\n\n        return accOther;\n      },\n      {\n        name: OtherOperation,\n        // percentage to be recalculated after the ops breakdown group is decided\n        percentage: 0,\n        totalInterval: 0,\n      }\n    );\n\n    if (other.totalInterval > 0) {\n      breakdown.push(other);\n    }\n\n    // calculate breakdown total duration\n\n    const total = breakdown.reduce((sum: number, operationNameGroup) => {\n      return sum + operationNameGroup.totalInterval;\n    }, 0);\n\n    // recalculate percentage values\n\n    breakdown.forEach(operationNameGroup => {\n      operationNameGroup.percentage = operationNameGroup.totalInterval / total;\n    });\n\n    return breakdown;\n  }\n\n  render() {\n    const {hideHeader} = this.props;\n\n    const event = this.getTransactionEvent();\n\n    if (!event) {\n      return null;\n    }\n\n    const breakdown = this.generateStats();\n\n    const contents = breakdown.map(currOp => {\n      const {name, percentage, totalInterval} = currOp;\n\n      const isOther = name === OtherOperation;\n      const operationName = typeof name === 'string' ? name : t('Other');\n\n      const durLabel = Math.round(totalInterval * 1000 * 100) / 100;\n      const pctLabel = isFinite(percentage) ? Math.round(percentage * 100) : '∞';\n      const opsColor: string = pickBarColor(operationName);\n\n      return (\n        <OpsLine key={operationName}>\n          <OpsNameContainer>\n            <OpsDot style={{backgroundColor: isOther ? 'transparent' : opsColor}} />\n            <OpsName>{operationName}</OpsName>\n          </OpsNameContainer>\n          <OpsContent>\n            <Dur>{durLabel}ms</Dur>\n            <Pct>{pctLabel}%</Pct>\n          </OpsContent>\n        </OpsLine>\n      );\n    });\n\n    if (!hideHeader) {\n      return (\n        <StyledBreakdown>\n          <SectionHeading>\n            {t('Operation Breakdown')}\n            <QuestionTooltip\n              position=\"top\"\n              size=\"sm\"\n              containerDisplayMode=\"block\"\n              title={t(\n                'Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once. Percentages are calculated by dividing the summed span durations by the total of all span durations.'\n              )}\n            />\n          </SectionHeading>\n          {contents}\n        </StyledBreakdown>\n      );\n    }\n\n    return <StyledBreakdownNoHeader>{contents}</StyledBreakdownNoHeader>;\n  }\n}\n\nconst StyledBreakdown = styled('div')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-bottom: ${space(4)};\n`;\n\nconst StyledBreakdownNoHeader = styled('div')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin: ${space(2)} ${space(3)};\n`;\n\nconst OpsLine = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ${space(0.5)};\n\n  * + * {\n    margin-left: ${space(0.5)};\n  }\n`;\n\nconst OpsDot = styled('div')`\n  content: '';\n  display: block;\n  width: 8px;\n  min-width: 8px;\n  height: 8px;\n  margin-right: ${space(1)};\n  border-radius: 100%;\n`;\n\nconst OpsContent = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst OpsNameContainer = styled(OpsContent)`\n  overflow: hidden;\n`;\n\nconst OpsName = styled('div')`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Dur = styled('div')`\n  color: ${p => p.theme.gray300};\n  font-variant-numeric: tabular-nums;\n`;\n\nconst Pct = styled('div')`\n  min-width: 40px;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n`;\n\nfunction mergeInterval(intervals: TimeWindowSpan[]): TimeWindowSpan[] {\n  // sort intervals by start timestamps\n  intervals.sort((first: TimeWindowSpan, second: TimeWindowSpan) => {\n    if (first[0] < second[0]) {\n      // sort first before second\n      return -1;\n    }\n\n    if (second[0] < first[0]) {\n      // sort second before first\n      return 1;\n    }\n\n    return 0;\n  });\n\n  // array of disjoint intervals\n  const merged: TimeWindowSpan[] = [];\n\n  for (const currentInterval of intervals) {\n    if (merged.length === 0) {\n      merged.push(currentInterval);\n      continue;\n    }\n\n    const lastInterval = merged[merged.length - 1];\n    const lastIntervalEnd = lastInterval[1];\n\n    const [currentIntervalStart, currentIntervalEnd] = currentInterval;\n\n    if (lastIntervalEnd < currentIntervalStart) {\n      // if currentInterval does not overlap with lastInterval,\n      // then add currentInterval\n      merged.push(currentInterval);\n      continue;\n    }\n\n    // currentInterval and lastInterval overlaps; so we merge these intervals\n\n    // invariant: lastIntervalStart <= currentIntervalStart\n\n    lastInterval[1] = Math.max(lastIntervalEnd, currentIntervalEnd);\n  }\n\n  return merged;\n}\n\nexport default OpsBreakdown;\n","import {Component, createRef} from 'react';\nimport styled from '@emotion/styled';\n\nimport {toPercent} from 'sentry/components/performance/waterfall/utils';\nimport Tooltip from 'sentry/components/tooltip';\nimport space from 'sentry/styles/space';\nimport {EventTransaction} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\nimport {WEB_VITAL_DETAILS} from 'sentry/utils/performance/vitals/constants';\nimport {Vital} from 'sentry/utils/performance/vitals/types';\n\nimport {\n  getMeasurementBounds,\n  getMeasurements,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n} from './utils';\n\ntype Props = {\n  dividerPosition: number;\n  event: EventTransaction;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n};\n\nfunction MeasurementsPanel(props: Props) {\n  const {event, generateBounds, dividerPosition} = props;\n  const measurements = getMeasurements(event, generateBounds);\n\n  return (\n    <Container\n      style={{\n        // the width of this component is shrunk to compensate for half of the width of the divider line\n        width: `calc(${toPercent(1 - dividerPosition)} - 0.5px)`,\n      }}\n    >\n      {Array.from(measurements.values()).map(verticalMark => {\n        const mark = Object.values(verticalMark.marks)[0];\n        const {timestamp} = mark;\n        const bounds = getMeasurementBounds(timestamp, generateBounds);\n\n        const shouldDisplay = defined(bounds.left) && defined(bounds.width);\n\n        if (!shouldDisplay || !bounds.isSpanVisibleInView) {\n          return null;\n        }\n\n        // Measurements are referred to by their full name `measurements.<name>`\n        // here but are stored using their abbreviated name `<name>`. Make sure\n        // to convert it appropriately.\n        const vitals: Vital[] = Object.keys(verticalMark.marks).map(\n          name => WEB_VITAL_DETAILS[`measurements.${name}`]\n        );\n\n        if (vitals.length > 1) {\n          return (\n            <MultiLabelContainer\n              key={String(timestamp)}\n              failedThreshold={verticalMark.failedThreshold}\n              left={toPercent(bounds.left || 0)}\n              vitals={vitals}\n            />\n          );\n        }\n\n        return (\n          <LabelContainer\n            key={String(timestamp)}\n            failedThreshold={verticalMark.failedThreshold}\n            left={toPercent(bounds.left || 0)}\n            vital={vitals[0]}\n          />\n        );\n      })}\n    </Container>\n  );\n}\n\nconst Container = styled('div')`\n  position: relative;\n  overflow: hidden;\n\n  height: 20px;\n`;\n\nconst StyledMultiLabelContainer = styled('div')`\n  transform: translateX(-50%);\n  position: absolute;\n  display: flex;\n  top: 0;\n  height: 100%;\n  user-select: none;\n  white-space: nowrap;\n`;\n\nconst StyledLabelContainer = styled('div')`\n  position: absolute;\n  top: 0;\n  height: 100%;\n  user-select: none;\n  white-space: nowrap;\n`;\n\nconst Label = styled('div')<{\n  failedThreshold: boolean;\n  isSingleLabel?: boolean;\n}>`\n  transform: ${p => (p.isSingleLabel ? `translate(-50%, 15%)` : `translateY(15%)`)};\n  font-size: ${p => p.theme.fontSizeExtraSmall};\n  font-weight: 600;\n  color: ${p => (p.failedThreshold ? `${p.theme.red300}` : `${p.theme.gray500}`)};\n  background: ${p => p.theme.white};\n  border: 1px solid;\n  border-color: ${p => (p.failedThreshold ? p.theme.red300 : p.theme.gray100)};\n  border-radius: ${p => p.theme.borderRadius};\n  height: 75%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: ${space(0.25)};\n  margin-right: ${space(0.25)};\n`;\n\nexport default MeasurementsPanel;\n\ntype LabelContainerProps = {\n  failedThreshold: boolean;\n  left: string;\n  vital: Vital;\n};\n\ntype LabelContainerState = {\n  width: number;\n};\nclass LabelContainer extends Component<LabelContainerProps> {\n  state: LabelContainerState = {\n    width: 1,\n  };\n\n  componentDidMount() {\n    const {current} = this.elementDOMRef;\n    if (current) {\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        width: current.clientWidth,\n      });\n    }\n  }\n\n  elementDOMRef = createRef<HTMLDivElement>();\n\n  render() {\n    const {left, failedThreshold, vital} = this.props;\n\n    return (\n      <StyledLabelContainer\n        ref={this.elementDOMRef}\n        style={{\n          left: `clamp(calc(0.5 * ${this.state.width}px), ${left}, calc(100% - 0.5 * ${this.state.width}px))`,\n        }}\n      >\n        <Label failedThreshold={failedThreshold} isSingleLabel>\n          <Tooltip title={vital.name} position=\"top\" containerDisplayMode=\"inline-block\">\n            {vital.acronym}\n          </Tooltip>\n        </Label>\n      </StyledLabelContainer>\n    );\n  }\n}\n\ntype MultiLabelContainerProps = Omit<LabelContainerProps, 'vital'> & {\n  vitals: Vital[];\n};\n\nclass MultiLabelContainer extends Component<MultiLabelContainerProps> {\n  state: LabelContainerState = {\n    width: 1,\n  };\n\n  componentDidMount() {\n    const {current} = this.elementDOMRef;\n    if (current) {\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        width: current.clientWidth,\n      });\n    }\n  }\n\n  elementDOMRef = createRef<HTMLDivElement>();\n\n  render() {\n    const {left, failedThreshold, vitals} = this.props;\n\n    return (\n      <StyledMultiLabelContainer\n        ref={this.elementDOMRef}\n        style={{\n          left: `clamp(calc(0.5 * ${this.state.width}px), ${left}, calc(100% - 0.5 * ${this.state.width}px))`,\n        }}\n      >\n        {vitals.map(vital => (\n          <Label failedThreshold={failedThreshold} key={`${vital.name}-label`}>\n            <Tooltip\n              title={vital.name}\n              position=\"top\"\n              containerDisplayMode=\"inline-block\"\n            >\n              {vital.acronym}\n            </Tooltip>\n          </Label>\n        ))}\n      </StyledMultiLabelContainer>\n    );\n  }\n}\n","import {Component, Fragment, PureComponent} from 'react';\nimport styled from '@emotion/styled';\n\nimport OpsBreakdown from 'sentry/components/events/opsBreakdown';\nimport {\n  DividerSpacer,\n  ScrollbarContainer,\n  VirtualScrollbar,\n  VirtualScrollbarGrip,\n} from 'sentry/components/performance/waterfall/miniHeader';\nimport {\n  getHumanDuration,\n  pickBarColor,\n  rectOfContent,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\nimport ConfigStore from 'sentry/stores/configStore';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {EventTransaction} from 'sentry/types/event';\nimport theme from 'sentry/utils/theme';\n\nimport {\n  MINIMAP_CONTAINER_HEIGHT,\n  MINIMAP_HEIGHT,\n  TIME_AXIS_HEIGHT,\n  VIEW_HANDLE_HEIGHT,\n} from './constants';\nimport * as CursorGuideHandler from './cursorGuideHandler';\nimport * as DividerHandlerManager from './dividerHandlerManager';\nimport {DragManagerChildrenProps} from './dragManager';\nimport {ActiveOperationFilter} from './filter';\nimport MeasurementsPanel from './measurementsPanel';\nimport * as ScrollbarManager from './scrollbarManager';\nimport {\n  EnhancedProcessedSpanType,\n  ParsedTraceType,\n  RawSpanType,\n  TickAlignment,\n} from './types';\nimport {\n  boundsGenerator,\n  getSpanOperation,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n} from './utils';\n\ntype PropType = {\n  dragProps: DragManagerChildrenProps;\n  event: EventTransaction;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  minimapInteractiveRef: React.RefObject<HTMLDivElement>;\n  operationNameFilters: ActiveOperationFilter;\n  organization: Organization;\n  rootSpan: RawSpanType;\n  spans: EnhancedProcessedSpanType[];\n  trace: ParsedTraceType;\n  virtualScrollBarContainerRef: React.RefObject<HTMLDivElement>;\n};\n\ntype State = {\n  minimapWidth: number | undefined;\n};\n\nclass TraceViewHeader extends Component<PropType, State> {\n  state: State = {\n    minimapWidth: undefined,\n  };\n\n  componentDidMount() {\n    this.fetchMinimapWidth();\n  }\n\n  componentDidUpdate() {\n    this.fetchMinimapWidth();\n  }\n\n  fetchMinimapWidth() {\n    const {minimapInteractiveRef} = this.props;\n    if (minimapInteractiveRef.current) {\n      const minimapWidth = minimapInteractiveRef.current.getBoundingClientRect().width;\n      if (minimapWidth !== this.state.minimapWidth) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          minimapWidth,\n        });\n      }\n    }\n  }\n\n  renderCursorGuide({\n    cursorGuideHeight,\n    showCursorGuide,\n    mouseLeft,\n  }: {\n    cursorGuideHeight: number;\n    mouseLeft: number | undefined;\n    showCursorGuide: boolean;\n  }) {\n    if (!showCursorGuide || !mouseLeft) {\n      return null;\n    }\n\n    return (\n      <CursorGuide\n        style={{\n          left: toPercent(mouseLeft),\n          height: `${cursorGuideHeight}px`,\n        }}\n      />\n    );\n  }\n\n  renderViewHandles({\n    isDragging,\n    onLeftHandleDragStart,\n    leftHandlePosition,\n    onRightHandleDragStart,\n    rightHandlePosition,\n    viewWindowStart,\n    viewWindowEnd,\n  }: DragManagerChildrenProps) {\n    const leftHandleGhost = isDragging ? (\n      <Handle\n        left={viewWindowStart}\n        onMouseDown={() => {\n          // do nothing\n        }}\n        isDragging={false}\n      />\n    ) : null;\n\n    const leftHandle = (\n      <Handle\n        left={leftHandlePosition}\n        onMouseDown={onLeftHandleDragStart}\n        isDragging={isDragging}\n      />\n    );\n\n    const rightHandle = (\n      <Handle\n        left={rightHandlePosition}\n        onMouseDown={onRightHandleDragStart}\n        isDragging={isDragging}\n      />\n    );\n\n    const rightHandleGhost = isDragging ? (\n      <Handle\n        left={viewWindowEnd}\n        onMouseDown={() => {\n          // do nothing\n        }}\n        isDragging={false}\n      />\n    ) : null;\n\n    return (\n      <Fragment>\n        {leftHandleGhost}\n        {rightHandleGhost}\n        {leftHandle}\n        {rightHandle}\n      </Fragment>\n    );\n  }\n\n  renderFog(dragProps: DragManagerChildrenProps) {\n    return (\n      <Fragment>\n        <Fog style={{height: '100%', width: toPercent(dragProps.viewWindowStart)}} />\n        <Fog\n          style={{\n            height: '100%',\n            width: toPercent(1 - dragProps.viewWindowEnd),\n            left: toPercent(dragProps.viewWindowEnd),\n          }}\n        />\n      </Fragment>\n    );\n  }\n\n  renderDurationGuide({\n    showCursorGuide,\n    mouseLeft,\n  }: {\n    mouseLeft: number | undefined;\n    showCursorGuide: boolean;\n  }) {\n    if (!showCursorGuide || !mouseLeft) {\n      return null;\n    }\n\n    const interactiveLayer = this.props.minimapInteractiveRef.current;\n\n    if (!interactiveLayer) {\n      return null;\n    }\n\n    const rect = rectOfContent(interactiveLayer);\n\n    const {trace} = this.props;\n\n    const duration =\n      mouseLeft * Math.abs(trace.traceEndTimestamp - trace.traceStartTimestamp);\n\n    const style = {top: 0, left: `calc(${mouseLeft * 100}% + 4px)`};\n\n    const alignLeft = (1 - mouseLeft) * rect.width <= 100;\n\n    return (\n      <DurationGuideBox style={style} alignLeft={alignLeft}>\n        <span>{getHumanDuration(duration)}</span>\n      </DurationGuideBox>\n    );\n  }\n\n  renderTicks() {\n    const {trace} = this.props;\n    const {minimapWidth} = this.state;\n\n    const duration = Math.abs(trace.traceEndTimestamp - trace.traceStartTimestamp);\n\n    let numberOfParts = 5;\n    if (minimapWidth) {\n      if (minimapWidth <= 350) {\n        numberOfParts = 4;\n      }\n      if (minimapWidth <= 280) {\n        numberOfParts = 3;\n      }\n      if (minimapWidth <= 160) {\n        numberOfParts = 2;\n      }\n      if (minimapWidth <= 130) {\n        numberOfParts = 1;\n      }\n    }\n\n    if (numberOfParts === 1) {\n      return (\n        <TickLabel\n          key=\"1\"\n          duration={duration * 0.5}\n          style={{\n            left: toPercent(0.5),\n          }}\n        />\n      );\n    }\n\n    const segment = 1 / (numberOfParts - 1);\n\n    const ticks: React.ReactNode[] = [];\n    for (let currentPart = 0; currentPart < numberOfParts; currentPart++) {\n      if (currentPart === 0) {\n        ticks.push(\n          <TickLabel\n            key=\"first\"\n            align={TickAlignment.Left}\n            hideTickMarker\n            duration={0}\n            style={{\n              left: space(1),\n            }}\n          />\n        );\n        continue;\n      }\n\n      if (currentPart === numberOfParts - 1) {\n        ticks.push(\n          <TickLabel\n            key=\"last\"\n            duration={duration}\n            align={TickAlignment.Right}\n            hideTickMarker\n            style={{\n              right: space(1),\n            }}\n          />\n        );\n        continue;\n      }\n\n      const progress = segment * currentPart;\n\n      ticks.push(\n        <TickLabel\n          key={String(currentPart)}\n          duration={duration * progress}\n          style={{\n            left: toPercent(progress),\n          }}\n        />\n      );\n    }\n\n    return ticks;\n  }\n\n  renderTimeAxis({\n    showCursorGuide,\n    mouseLeft,\n  }: {\n    mouseLeft: number | undefined;\n    showCursorGuide: boolean;\n  }) {\n    return (\n      <TimeAxis>\n        {this.renderTicks()}\n        {this.renderCursorGuide({\n          showCursorGuide,\n          mouseLeft,\n          cursorGuideHeight: TIME_AXIS_HEIGHT,\n        })}\n        {this.renderDurationGuide({\n          showCursorGuide,\n          mouseLeft,\n        })}\n      </TimeAxis>\n    );\n  }\n\n  renderWindowSelection(dragProps: DragManagerChildrenProps) {\n    if (!dragProps.isWindowSelectionDragging) {\n      return null;\n    }\n\n    const left = Math.min(\n      dragProps.windowSelectionInitial,\n      dragProps.windowSelectionCurrent\n    );\n\n    return (\n      <WindowSelection\n        style={{\n          left: toPercent(left),\n          width: toPercent(dragProps.windowSelectionSize),\n        }}\n      />\n    );\n  }\n\n  generateBounds() {\n    const {dragProps, trace} = this.props;\n\n    return boundsGenerator({\n      traceStartTimestamp: trace.traceStartTimestamp,\n      traceEndTimestamp: trace.traceEndTimestamp,\n      viewStart: dragProps.viewWindowStart,\n      viewEnd: dragProps.viewWindowEnd,\n    });\n  }\n\n  renderSecondaryHeader() {\n    const {event} = this.props;\n\n    const hasMeasurements = Object.keys(event.measurements ?? {}).length > 0;\n\n    return (\n      <DividerHandlerManager.Consumer>\n        {dividerHandlerChildrenProps => {\n          const {dividerPosition} = dividerHandlerChildrenProps;\n\n          return (\n            <SecondaryHeader>\n              <ScrollbarManager.Consumer>\n                {({virtualScrollbarRef, scrollBarAreaRef, onDragStart, onScroll}) => {\n                  return (\n                    <ScrollbarContainer\n                      ref={this.props.virtualScrollBarContainerRef}\n                      style={{\n                        // the width of this component is shrunk to compensate for half of the width of the divider line\n                        width: `calc(${toPercent(dividerPosition)} - 0.5px)`,\n                      }}\n                      onScroll={onScroll}\n                    >\n                      <div\n                        style={{\n                          width: 0,\n                          height: '1px',\n                        }}\n                        ref={scrollBarAreaRef}\n                      />\n                      <VirtualScrollbar\n                        data-type=\"virtual-scrollbar\"\n                        ref={virtualScrollbarRef}\n                        onMouseDown={onDragStart}\n                      >\n                        <VirtualScrollbarGrip />\n                      </VirtualScrollbar>\n                    </ScrollbarContainer>\n                  );\n                }}\n              </ScrollbarManager.Consumer>\n              <DividerSpacer />\n              {hasMeasurements ? (\n                <MeasurementsPanel\n                  event={event}\n                  generateBounds={this.generateBounds()}\n                  dividerPosition={dividerPosition}\n                />\n              ) : null}\n            </SecondaryHeader>\n          );\n        }}\n      </DividerHandlerManager.Consumer>\n    );\n  }\n\n  render() {\n    return (\n      <HeaderContainer>\n        <DividerHandlerManager.Consumer>\n          {dividerHandlerChildrenProps => {\n            const {dividerPosition} = dividerHandlerChildrenProps;\n            return (\n              <Fragment>\n                <OperationsBreakdown\n                  style={{\n                    width: `calc(${toPercent(dividerPosition)} - 0.5px)`,\n                  }}\n                >\n                  {this.props.event && (\n                    <OpsBreakdown\n                      operationNameFilters={this.props.operationNameFilters}\n                      event={this.props.event}\n                      topN={3}\n                      hideHeader\n                    />\n                  )}\n                </OperationsBreakdown>\n                <DividerSpacer\n                  style={{\n                    position: 'absolute',\n                    top: 0,\n                    left: `calc(${toPercent(dividerPosition)} - 0.5px)`,\n                    height: `${MINIMAP_HEIGHT + TIME_AXIS_HEIGHT}px`,\n                  }}\n                />\n                <ActualMinimap\n                  spans={this.props.spans}\n                  generateBounds={this.props.generateBounds}\n                  dividerPosition={dividerPosition}\n                  rootSpan={this.props.rootSpan}\n                />\n                <CursorGuideHandler.Consumer>\n                  {({\n                    displayCursorGuide,\n                    hideCursorGuide,\n                    mouseLeft,\n                    showCursorGuide,\n                  }) => (\n                    <RightSidePane\n                      ref={this.props.minimapInteractiveRef}\n                      style={{\n                        width: `calc(${toPercent(1 - dividerPosition)} - 0.5px)`,\n                        left: `calc(${toPercent(dividerPosition)} + 0.5px)`,\n                      }}\n                      onMouseEnter={event => {\n                        displayCursorGuide(event.pageX);\n                      }}\n                      onMouseLeave={() => {\n                        hideCursorGuide();\n                      }}\n                      onMouseMove={event => {\n                        displayCursorGuide(event.pageX);\n                      }}\n                      onMouseDown={event => {\n                        const target = event.target;\n\n                        if (\n                          target instanceof Element &&\n                          target.getAttribute &&\n                          target.getAttribute('data-ignore')\n                        ) {\n                          // ignore this event if we need to\n                          return;\n                        }\n\n                        this.props.dragProps.onWindowSelectionDragStart(event);\n                      }}\n                    >\n                      <MinimapContainer>\n                        {this.renderFog(this.props.dragProps)}\n                        {this.renderCursorGuide({\n                          showCursorGuide,\n                          mouseLeft,\n                          cursorGuideHeight: MINIMAP_HEIGHT,\n                        })}\n                        {this.renderViewHandles(this.props.dragProps)}\n                        {this.renderWindowSelection(this.props.dragProps)}\n                      </MinimapContainer>\n                      {this.renderTimeAxis({\n                        showCursorGuide,\n                        mouseLeft,\n                      })}\n                    </RightSidePane>\n                  )}\n                </CursorGuideHandler.Consumer>\n                {this.renderSecondaryHeader()}\n              </Fragment>\n            );\n          }}\n        </DividerHandlerManager.Consumer>\n      </HeaderContainer>\n    );\n  }\n}\n\nclass ActualMinimap extends PureComponent<{\n  dividerPosition: number;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  rootSpan: RawSpanType;\n  spans: EnhancedProcessedSpanType[];\n}> {\n  renderRootSpan(): React.ReactNode {\n    const {spans, generateBounds} = this.props;\n\n    return spans.map((payload, i) => {\n      switch (payload.type) {\n        case 'root_span':\n        case 'span':\n        case 'span_group_chain': {\n          const {span} = payload;\n\n          const spanBarColor: string = pickBarColor(getSpanOperation(span));\n\n          const bounds = generateBounds({\n            startTimestamp: span.start_timestamp,\n            endTimestamp: span.timestamp,\n          });\n          const {left: spanLeft, width: spanWidth} = this.getBounds(bounds);\n\n          return (\n            <MinimapSpanBar\n              key={`${payload.type}-${i}`}\n              style={{\n                backgroundColor:\n                  payload.type === 'span_group_chain' ? theme.blue300 : spanBarColor,\n                left: spanLeft,\n                width: spanWidth,\n              }}\n            />\n          );\n        }\n        case 'span_group_siblings': {\n          const {spanSiblingGrouping} = payload;\n\n          return (\n            <MinimapSiblingGroupBar\n              data-test-id=\"minimap-sibling-group-bar\"\n              key={`${payload.type}-${i}`}\n            >\n              {spanSiblingGrouping?.map(({span}, index) => {\n                const bounds = generateBounds({\n                  startTimestamp: span.start_timestamp,\n                  endTimestamp: span.timestamp,\n                });\n                const {left: spanLeft, width: spanWidth} = this.getBounds(bounds);\n\n                return (\n                  <MinimapSpanBar\n                    style={{\n                      backgroundColor: theme.blue300,\n                      left: spanLeft,\n                      width: spanWidth,\n                      minWidth: 0,\n                      position: 'absolute',\n                    }}\n                    key={index}\n                  />\n                );\n              })}\n            </MinimapSiblingGroupBar>\n          );\n        }\n        default: {\n          return null;\n        }\n      }\n    });\n  }\n\n  getBounds(bounds: SpanGeneratedBoundsType): {\n    left: string;\n    width: string;\n  } {\n    switch (bounds.type) {\n      case 'TRACE_TIMESTAMPS_EQUAL':\n      case 'INVALID_VIEW_WINDOW': {\n        return {\n          left: toPercent(0),\n          width: '0px',\n        };\n      }\n\n      case 'TIMESTAMPS_EQUAL': {\n        return {\n          left: toPercent(bounds.start),\n          width: `${bounds.width}px`,\n        };\n      }\n      case 'TIMESTAMPS_REVERSED':\n      case 'TIMESTAMPS_STABLE': {\n        return {\n          left: toPercent(bounds.start),\n          width: toPercent(bounds.end - bounds.start),\n        };\n      }\n      default: {\n        const _exhaustiveCheck: never = bounds;\n        return _exhaustiveCheck;\n      }\n    }\n  }\n\n  render() {\n    const {dividerPosition} = this.props;\n    return (\n      <MinimapBackground\n        style={{\n          // the width of this component is shrunk to compensate for half of the width of the divider line\n          width: `calc(${toPercent(1 - dividerPosition)} - 0.5px)`,\n          left: `calc(${toPercent(dividerPosition)} + 0.5px)`,\n        }}\n      >\n        <BackgroundSlider id=\"minimap-background-slider\">\n          {this.renderRootSpan()}\n        </BackgroundSlider>\n      </MinimapBackground>\n    );\n  }\n}\n\nconst TimeAxis = styled('div')`\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: ${MINIMAP_HEIGHT}px;\n  border-top: 1px solid ${p => p.theme.border};\n  height: ${TIME_AXIS_HEIGHT}px;\n  background-color: ${p => p.theme.background};\n  color: ${p => p.theme.gray300};\n  font-size: 10px;\n  font-weight: 500;\n  font-variant-numeric: tabular-nums;\n  overflow: hidden;\n`;\n\nconst TickLabelContainer = styled('div')`\n  height: ${TIME_AXIS_HEIGHT}px;\n  position: absolute;\n  top: 0;\n  display: flex;\n  align-items: center;\n  user-select: none;\n`;\n\nconst TickText = styled('span')<{align: TickAlignment}>`\n  position: absolute;\n  line-height: 1;\n  white-space: nowrap;\n\n  ${({align}) => {\n    switch (align) {\n      case TickAlignment.Center: {\n        return 'transform: translateX(-50%)';\n      }\n      case TickAlignment.Left: {\n        return null;\n      }\n\n      case TickAlignment.Right: {\n        return 'transform: translateX(-100%)';\n      }\n\n      default: {\n        throw Error(`Invalid tick alignment: ${align}`);\n      }\n    }\n  }};\n`;\n\nconst TickMarker = styled('div')`\n  width: 1px;\n  height: 4px;\n  background-color: ${p => p.theme.gray200};\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateX(-50%);\n`;\n\nconst TickLabel = (props: {\n  duration: number;\n  style: React.CSSProperties;\n  align?: TickAlignment;\n  hideTickMarker?: boolean;\n}) => {\n  const {style, duration, hideTickMarker = false, align = TickAlignment.Center} = props;\n\n  return (\n    <TickLabelContainer style={style}>\n      {hideTickMarker ? null : <TickMarker />}\n      <TickText align={align}>{getHumanDuration(duration)}</TickText>\n    </TickLabelContainer>\n  );\n};\n\nconst DurationGuideBox = styled('div')<{alignLeft: boolean}>`\n  position: absolute;\n  background-color: ${p => p.theme.background};\n  padding: 4px;\n  height: 100%;\n  border-radius: 3px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  line-height: 1;\n  white-space: nowrap;\n\n  ${({alignLeft}) => {\n    if (!alignLeft) {\n      return null;\n    }\n\n    return 'transform: translateX(-100%) translateX(-8px);';\n  }};\n`;\n\nexport const HeaderContainer = styled('div')`\n  width: 100%;\n  position: sticky;\n  left: 0;\n  top: ${p => (ConfigStore.get('demoMode') ? p.theme.demo.headerSize : 0)};\n  z-index: ${p => p.theme.zIndex.traceView.minimapContainer};\n  background-color: ${p => p.theme.background};\n  border-bottom: 1px solid ${p => p.theme.border};\n  height: ${MINIMAP_CONTAINER_HEIGHT}px;\n  border-top-left-radius: ${p => p.theme.borderRadius};\n  border-top-right-radius: ${p => p.theme.borderRadius};\n`;\n\nconst MinimapBackground = styled('div')`\n  height: ${MINIMAP_HEIGHT}px;\n  max-height: ${MINIMAP_HEIGHT}px;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n`;\n\nconst MinimapContainer = styled('div')`\n  height: ${MINIMAP_HEIGHT}px;\n  width: 100%;\n  position: relative;\n  left: 0;\n`;\n\nconst ViewHandleContainer = styled('div')`\n  position: absolute;\n  top: 0;\n  height: ${MINIMAP_HEIGHT}px;\n`;\n\nconst ViewHandleLine = styled('div')`\n  height: ${MINIMAP_HEIGHT - VIEW_HANDLE_HEIGHT}px;\n  width: 2px;\n  background-color: ${p => p.theme.textColor};\n`;\n\nconst ViewHandle = styled('div')<{isDragging: boolean}>`\n  position: absolute;\n  background-color: ${p => p.theme.textColor};\n  cursor: col-resize;\n  width: 8px;\n  height: ${VIEW_HANDLE_HEIGHT}px;\n  bottom: 0;\n  left: -3px;\n`;\n\nconst Fog = styled('div')`\n  background-color: ${p => p.theme.textColor};\n  opacity: 0.1;\n  position: absolute;\n  top: 0;\n`;\n\nconst MinimapSpanBar = styled('div')`\n  position: relative;\n  height: 2px;\n  min-height: 2px;\n  max-height: 2px;\n  margin: 2px 0;\n  min-width: 1px;\n  border-radius: 1px;\n  box-sizing: border-box;\n`;\n\nconst MinimapSiblingGroupBar = styled('div')`\n  display: flex;\n  position: relative;\n  height: 2px;\n  min-height: 2px;\n  max-height: 2px;\n  top: -2px;\n`;\n\nconst BackgroundSlider = styled('div')`\n  position: relative;\n`;\n\nconst CursorGuide = styled('div')`\n  position: absolute;\n  top: 0;\n  width: 1px;\n  background-color: ${p => p.theme.red300};\n  transform: translateX(-50%);\n`;\n\nconst Handle = ({\n  left,\n  onMouseDown,\n  isDragging,\n}: {\n  isDragging: boolean;\n  left: number;\n  onMouseDown: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}) => (\n  <ViewHandleContainer\n    style={{\n      left: toPercent(left),\n    }}\n  >\n    <ViewHandleLine />\n    <ViewHandle\n      data-ignore=\"true\"\n      onMouseDown={onMouseDown}\n      isDragging={isDragging}\n      style={{\n        height: `${VIEW_HANDLE_HEIGHT}px`,\n      }}\n    />\n  </ViewHandleContainer>\n);\n\nconst WindowSelection = styled('div')`\n  position: absolute;\n  top: 0;\n  height: ${MINIMAP_HEIGHT}px;\n  background-color: ${p => p.theme.textColor};\n  opacity: 0.1;\n`;\n\nexport const SecondaryHeader = styled('div')`\n  position: absolute;\n  top: ${MINIMAP_HEIGHT + TIME_AXIS_HEIGHT}px;\n  left: 0;\n  height: ${TIME_AXIS_HEIGHT}px;\n  width: 100%;\n  background-color: ${p => p.theme.backgroundSecondary};\n  display: flex;\n  border-top: 1px solid ${p => p.theme.border};\n  overflow: hidden;\n`;\n\nconst OperationsBreakdown = styled('div')`\n  height: ${MINIMAP_HEIGHT + TIME_AXIS_HEIGHT}px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n`;\n\nconst RightSidePane = styled('div')`\n  height: ${MINIMAP_HEIGHT + TIME_AXIS_HEIGHT}px;\n  position: absolute;\n  top: 0;\n`;\n\nexport default TraceViewHeader;\n","import {Component, createContext, createRef} from 'react';\nimport throttle from 'lodash/throttle';\n\nimport {\n  clamp,\n  rectOfContent,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\nimport getDisplayName from 'sentry/utils/getDisplayName';\nimport {setBodyUserSelect, UserSelectValues} from 'sentry/utils/userselect';\n\nimport {DragManagerChildrenProps} from './dragManager';\nimport SpanBar from './spanBar';\nimport {SpansInViewMap, spanTargetHash} from './utils';\n\nexport type ScrollbarManagerChildrenProps = {\n  generateContentSpanBarRef: () => (instance: HTMLDivElement | null) => void;\n  markSpanInView: (spanId: string, treeDepth: number) => void;\n  markSpanOutOfView: (spanId: string) => void;\n  onDragStart: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  onScroll: () => void;\n  onWheel: (deltaX: number) => void;\n  scrollBarAreaRef: React.RefObject<HTMLDivElement>;\n  storeSpanBar: (spanBar: SpanBar) => void;\n  updateScrollState: () => void;\n  virtualScrollbarRef: React.RefObject<HTMLDivElement>;\n};\n\nconst ScrollbarManagerContext = createContext<ScrollbarManagerChildrenProps>({\n  generateContentSpanBarRef: () => () => undefined,\n  virtualScrollbarRef: createRef<HTMLDivElement>(),\n  scrollBarAreaRef: createRef<HTMLDivElement>(),\n  onDragStart: () => {},\n  onScroll: () => {},\n  onWheel: () => {},\n  updateScrollState: () => {},\n  markSpanOutOfView: () => {},\n  markSpanInView: () => {},\n  storeSpanBar: () => {},\n});\n\nconst selectRefs = (\n  refs: Set<HTMLDivElement> | React.RefObject<HTMLDivElement>,\n  transform: (element: HTMLDivElement) => void\n) => {\n  if (!(refs instanceof Set)) {\n    if (refs.current) {\n      transform(refs.current);\n    }\n\n    return;\n  }\n\n  refs.forEach(element => {\n    if (document.body.contains(element)) {\n      transform(element);\n    }\n  });\n};\n\n// simple linear interpolation between start and end such that needle is between [0, 1]\nconst lerp = (start: number, end: number, needle: number) => {\n  return start + needle * (end - start);\n};\n\ntype Props = {\n  children: React.ReactNode;\n  dividerPosition: number;\n  // this is the DOM element where the drag events occur. it's also the reference point\n  // for calculating the relative mouse x coordinate.\n  interactiveLayerRef: React.RefObject<HTMLDivElement>;\n\n  dragProps?: DragManagerChildrenProps;\n};\n\ntype State = {\n  maxContentWidth: number | undefined;\n};\n\nexport class Provider extends Component<Props, State> {\n  state: State = {\n    maxContentWidth: undefined,\n  };\n\n  componentDidMount() {\n    // React will guarantee that refs are set before componentDidMount() is called;\n    // but only for DOM elements that actually got rendered\n\n    this.initializeScrollState();\n\n    const anchoredSpanHash = window.location.hash.split('#')[1];\n\n    // If the user is opening the span tree with an anchor link provided, we need to continously reconnect the observers.\n    // This is because we need to wait for the window to scroll to the anchored span first, or there will be inconsistencies in\n    // the spans that are actually considered in the view. The IntersectionObserver API cannot keep up with the speed\n    // at which the window scrolls to the anchored span, and will be unable to register the spans that went out of the view.\n    // We stop reconnecting the observers once we've confirmed that the anchored span is in the view (or after a timeout).\n\n    if (anchoredSpanHash) {\n      // We cannot assume the root is in view to start off, if there is an anchored span\n      this.spansInView.isRootSpanInView = false;\n      const anchoredSpanId = window.location.hash.replace(spanTargetHash(''), '');\n\n      // Continously check to see if the anchored span is in the view\n      this.anchorCheckInterval = setInterval(() => {\n        this.spanBars.forEach(spanBar => spanBar.connectObservers());\n\n        if (this.spansInView.has(anchoredSpanId)) {\n          clearInterval(this.anchorCheckInterval!);\n          this.anchorCheckInterval = null;\n        }\n      }, 50);\n\n      // If the anchored span is never found in the view (malformed ID), cancel the interval\n      setTimeout(() => {\n        if (this.anchorCheckInterval) {\n          clearInterval(this.anchorCheckInterval);\n          this.anchorCheckInterval = null;\n        }\n      }, 1000);\n\n      return;\n    }\n\n    this.spanBars.forEach(spanBar => spanBar.connectObservers());\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Re-initialize the scroll state whenever:\n    // - the window was selected via the minimap or,\n    // - the divider was re-positioned.\n\n    const dividerPositionChanged =\n      this.props.dividerPosition !== prevProps.dividerPosition;\n\n    const viewWindowChanged =\n      prevProps.dragProps &&\n      this.props.dragProps &&\n      (prevProps.dragProps.viewWindowStart !== this.props.dragProps.viewWindowStart ||\n        prevProps.dragProps.viewWindowEnd !== this.props.dragProps.viewWindowEnd);\n\n    if (dividerPositionChanged || viewWindowChanged) {\n      this.initializeScrollState();\n    }\n  }\n\n  componentWillUnmount() {\n    this.cleanUpListeners();\n    if (this.anchorCheckInterval) {\n      clearInterval(this.anchorCheckInterval);\n    }\n  }\n\n  anchorCheckInterval: NodeJS.Timer | null = null;\n  contentSpanBar: Set<HTMLDivElement> = new Set();\n  virtualScrollbar: React.RefObject<HTMLDivElement> = createRef<HTMLDivElement>();\n  scrollBarArea: React.RefObject<HTMLDivElement> = createRef<HTMLDivElement>();\n  isDragging: boolean = false;\n  isWheeling: boolean = false;\n  wheelTimeout: NodeJS.Timeout | null = null;\n  animationTimeout: NodeJS.Timeout | null = null;\n  previousUserSelect: UserSelectValues | null = null;\n  spansInView: SpansInViewMap = new SpansInViewMap();\n  spanBars: SpanBar[] = [];\n\n  getReferenceSpanBar() {\n    for (const currentSpanBar of this.contentSpanBar) {\n      const isHidden = currentSpanBar.offsetParent === null;\n      if (!document.body.contains(currentSpanBar) || isHidden) {\n        continue;\n      }\n      return currentSpanBar;\n    }\n\n    return undefined;\n  }\n\n  initializeScrollState = () => {\n    if (this.contentSpanBar.size === 0 || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    // reset all span bar content containers to their natural widths\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      spanBarDOM.style.removeProperty('width');\n      spanBarDOM.style.removeProperty('max-width');\n      spanBarDOM.style.removeProperty('overflow');\n      spanBarDOM.style.removeProperty('transform');\n    });\n\n    // Find the maximum content width. We set each content spanbar to be this maximum width,\n    // such that all content spanbar widths are uniform.\n    const maxContentWidth = Array.from(this.contentSpanBar).reduce(\n      (currentMaxWidth, currentSpanBar) => {\n        const isHidden = currentSpanBar.offsetParent === null;\n        if (!document.body.contains(currentSpanBar) || isHidden) {\n          return currentMaxWidth;\n        }\n\n        const maybeMaxWidth = currentSpanBar.scrollWidth;\n\n        if (maybeMaxWidth > currentMaxWidth) {\n          return maybeMaxWidth;\n        }\n\n        return currentMaxWidth;\n      },\n      0\n    );\n\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      spanBarDOM.style.width = `${maxContentWidth}px`;\n      spanBarDOM.style.maxWidth = `${maxContentWidth}px`;\n      spanBarDOM.style.overflow = 'hidden';\n    });\n\n    // set inner width of scrollbar area\n    selectRefs(this.scrollBarArea, (scrollBarArea: HTMLDivElement) => {\n      scrollBarArea.style.width = `${maxContentWidth}px`;\n      scrollBarArea.style.maxWidth = `${maxContentWidth}px`;\n    });\n\n    selectRefs(\n      this.props.interactiveLayerRef,\n      (interactiveLayerRefDOM: HTMLDivElement) => {\n        interactiveLayerRefDOM.scrollLeft = 0;\n      }\n    );\n\n    const spanBarDOM = this.getReferenceSpanBar();\n\n    if (spanBarDOM) {\n      this.syncVirtualScrollbar(spanBarDOM);\n    }\n\n    const left = this.spansInView.getScrollVal();\n    this.performScroll(left);\n  };\n\n  syncVirtualScrollbar = (spanBar: HTMLDivElement) => {\n    // sync the virtual scrollbar's width to the spanBar's width\n\n    if (!this.virtualScrollbar.current || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    const virtualScrollbarDOM = this.virtualScrollbar.current;\n\n    const maxContentWidth = spanBar.getBoundingClientRect().width;\n\n    if (maxContentWidth === undefined || maxContentWidth <= 0) {\n      virtualScrollbarDOM.style.width = '0';\n      return;\n    }\n\n    const visibleWidth =\n      this.props.interactiveLayerRef.current!.getBoundingClientRect().width;\n\n    // This is the width of the content not visible.\n    const maxScrollDistance = maxContentWidth - visibleWidth;\n\n    const virtualScrollbarWidth = visibleWidth / (visibleWidth + maxScrollDistance);\n\n    if (virtualScrollbarWidth >= 1) {\n      virtualScrollbarDOM.style.width = '0';\n      return;\n    }\n\n    virtualScrollbarDOM.style.width = `max(50px, ${toPercent(virtualScrollbarWidth)})`;\n\n    virtualScrollbarDOM.style.removeProperty('transform');\n  };\n\n  generateContentSpanBarRef = () => {\n    let previousInstance: HTMLDivElement | null = null;\n\n    const addContentSpanBarRef = (instance: HTMLDivElement | null) => {\n      if (previousInstance) {\n        this.contentSpanBar.delete(previousInstance);\n        previousInstance = null;\n      }\n\n      if (instance) {\n        this.contentSpanBar.add(instance);\n        previousInstance = instance;\n      }\n    };\n\n    return addContentSpanBarRef;\n  };\n\n  hasInteractiveLayer = (): boolean => !!this.props.interactiveLayerRef.current;\n  initialMouseClickX: number | undefined = undefined;\n\n  performScroll = (scrollLeft: number, isAnimated?: boolean) => {\n    const {interactiveLayerRef} = this.props;\n    if (!interactiveLayerRef.current) {\n      return;\n    }\n\n    if (isAnimated) {\n      this.startAnimation();\n    }\n\n    const interactiveLayerRefDOM = interactiveLayerRef.current;\n    const interactiveLayerRect = interactiveLayerRefDOM.getBoundingClientRect();\n    interactiveLayerRefDOM.scrollLeft = scrollLeft;\n\n    // Update scroll position of the virtual scroll bar\n    selectRefs(this.scrollBarArea, (scrollBarAreaDOM: HTMLDivElement) => {\n      selectRefs(this.virtualScrollbar, (virtualScrollbarDOM: HTMLDivElement) => {\n        const scrollBarAreaRect = scrollBarAreaDOM.getBoundingClientRect();\n        const virtualScrollbarPosition = scrollLeft / scrollBarAreaRect.width;\n\n        const virtualScrollBarRect = rectOfContent(virtualScrollbarDOM);\n        const maxVirtualScrollableArea =\n          1 - virtualScrollBarRect.width / interactiveLayerRect.width;\n\n        const virtualLeft =\n          clamp(virtualScrollbarPosition, 0, maxVirtualScrollableArea) *\n          interactiveLayerRect.width;\n\n        virtualScrollbarDOM.style.transform = `translateX(${virtualLeft}px)`;\n        virtualScrollbarDOM.style.transformOrigin = 'left';\n      });\n    });\n\n    // Update scroll positions of all the span bars\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      const left = -scrollLeft;\n\n      spanBarDOM.style.transform = `translateX(${left}px)`;\n      spanBarDOM.style.transformOrigin = 'left';\n    });\n  };\n\n  // Throttle the scroll function to prevent jankiness in the auto-adjust animations when scrolling fast\n  throttledScroll = throttle(this.performScroll, 300, {trailing: true});\n\n  onWheel = (deltaX: number) => {\n    if (this.isDragging || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    this.disableAnimation();\n\n    // Setting this here is necessary, since updating the virtual scrollbar position will also trigger the onScroll function\n    this.isWheeling = true;\n\n    if (this.wheelTimeout) {\n      clearTimeout(this.wheelTimeout);\n    }\n\n    this.wheelTimeout = setTimeout(() => {\n      this.isWheeling = false;\n      this.wheelTimeout = null;\n    }, 200);\n\n    const interactiveLayerRefDOM = this.props.interactiveLayerRef.current!;\n\n    const maxScrollLeft =\n      interactiveLayerRefDOM.scrollWidth - interactiveLayerRefDOM.clientWidth;\n\n    const scrollLeft = clamp(\n      interactiveLayerRefDOM.scrollLeft + deltaX,\n      0,\n      maxScrollLeft\n    );\n\n    this.performScroll(scrollLeft);\n  };\n\n  onScroll = () => {\n    if (this.isDragging || this.isWheeling || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    const interactiveLayerRefDOM = this.props.interactiveLayerRef.current!;\n    const scrollLeft = interactiveLayerRefDOM.scrollLeft;\n\n    this.performScroll(scrollLeft);\n  };\n\n  onDragStart = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (\n      this.isDragging ||\n      event.type !== 'mousedown' ||\n      !this.hasInteractiveLayer() ||\n      !this.virtualScrollbar.current\n    ) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    const virtualScrollbarRect = rectOfContent(this.virtualScrollbar.current);\n\n    // get intitial x-coordinate of the mouse click on the virtual scrollbar\n    this.initialMouseClickX = Math.abs(event.clientX - virtualScrollbarRect.x);\n\n    // prevent the user from selecting things outside the minimap when dragging\n    // the mouse cursor inside the minimap\n    this.previousUserSelect = setBodyUserSelect({\n      userSelect: 'none',\n      MozUserSelect: 'none',\n      msUserSelect: 'none',\n      webkitUserSelect: 'none',\n    });\n\n    // attach event listeners so that the mouse cursor does not select text during a drag\n    window.addEventListener('mousemove', this.onDragMove);\n    window.addEventListener('mouseup', this.onDragEnd);\n\n    // indicate drag has begun\n\n    this.isDragging = true;\n\n    selectRefs(this.virtualScrollbar, scrollbarDOM => {\n      scrollbarDOM.classList.add('dragging');\n      document.body.style.setProperty('cursor', 'grabbing', 'important');\n    });\n  };\n\n  onDragMove = (event: MouseEvent) => {\n    if (\n      !this.isDragging ||\n      event.type !== 'mousemove' ||\n      !this.hasInteractiveLayer() ||\n      !this.virtualScrollbar.current ||\n      this.initialMouseClickX === undefined\n    ) {\n      return;\n    }\n\n    const virtualScrollbarDOM = this.virtualScrollbar.current;\n\n    const interactiveLayerRect =\n      this.props.interactiveLayerRef.current!.getBoundingClientRect();\n\n    const virtualScrollBarRect = rectOfContent(virtualScrollbarDOM);\n\n    // Mouse x-coordinate relative to the interactive layer's left side\n    const localDragX = event.pageX - interactiveLayerRect.x;\n    // The drag movement with respect to the interactive layer's width.\n    const rawMouseX = (localDragX - this.initialMouseClickX) / interactiveLayerRect.width;\n\n    const maxVirtualScrollableArea =\n      1 - virtualScrollBarRect.width / interactiveLayerRect.width;\n\n    // clamp rawMouseX to be within [0, 1]\n    const virtualScrollbarPosition = clamp(rawMouseX, 0, 1);\n\n    const virtualLeft =\n      clamp(virtualScrollbarPosition, 0, maxVirtualScrollableArea) *\n      interactiveLayerRect.width;\n\n    virtualScrollbarDOM.style.transform = `translate3d(${virtualLeft}px, 0, 0)`;\n    virtualScrollbarDOM.style.transformOrigin = 'left';\n\n    const virtualScrollPercentage = clamp(rawMouseX / maxVirtualScrollableArea, 0, 1);\n\n    // Update scroll positions of all the span bars\n\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      const maxScrollDistance =\n        spanBarDOM.getBoundingClientRect().width - interactiveLayerRect.width;\n\n      const left = -lerp(0, maxScrollDistance, virtualScrollPercentage);\n\n      spanBarDOM.style.transform = `translate3d(${left}px, 0, 0)`;\n      spanBarDOM.style.transformOrigin = 'left';\n    });\n\n    // Update the scroll position of the scroll bar area\n    selectRefs(\n      this.props.interactiveLayerRef,\n      (interactiveLayerRefDOM: HTMLDivElement) => {\n        selectRefs(this.scrollBarArea, (scrollBarAreaDOM: HTMLDivElement) => {\n          const maxScrollDistance =\n            scrollBarAreaDOM.getBoundingClientRect().width - interactiveLayerRect.width;\n          const left = lerp(0, maxScrollDistance, virtualScrollPercentage);\n\n          interactiveLayerRefDOM.scrollLeft = left;\n        });\n      }\n    );\n  };\n\n  onDragEnd = (event: MouseEvent) => {\n    if (!this.isDragging || event.type !== 'mouseup' || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    // remove listeners that were attached in onDragStart\n\n    this.cleanUpListeners();\n\n    // restore body styles\n\n    if (this.previousUserSelect) {\n      setBodyUserSelect(this.previousUserSelect);\n      this.previousUserSelect = null;\n    }\n\n    // indicate drag has ended\n\n    this.isDragging = false;\n\n    selectRefs(this.virtualScrollbar, scrollbarDOM => {\n      scrollbarDOM.classList.remove('dragging');\n      document.body.style.removeProperty('cursor');\n    });\n  };\n\n  cleanUpListeners = () => {\n    if (this.isDragging) {\n      // we only remove listeners during a drag\n      window.removeEventListener('mousemove', this.onDragMove);\n      window.removeEventListener('mouseup', this.onDragEnd);\n    }\n  };\n\n  markSpanOutOfView = (spanId: string) => {\n    if (!this.spansInView.removeSpan(spanId)) {\n      return;\n    }\n\n    const left = this.spansInView.getScrollVal();\n    this.throttledScroll(left, true);\n  };\n\n  markSpanInView = (spanId: string, treeDepth: number) => {\n    if (!this.spansInView.addSpan(spanId, treeDepth)) {\n      return;\n    }\n\n    const left = this.spansInView.getScrollVal();\n    this.throttledScroll(left, true);\n  };\n\n  startAnimation() {\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      spanBarDOM.style.transition = 'transform 0.3s';\n    });\n\n    if (this.animationTimeout) {\n      clearTimeout(this.animationTimeout);\n    }\n\n    // This timeout is set to trigger immediately after the animation ends, to disable the animation.\n    // The animation needs to be cleared, otherwise manual horizontal scrolling will be animated\n    this.animationTimeout = setTimeout(() => {\n      selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n        spanBarDOM.style.transition = '';\n      });\n      this.animationTimeout = null;\n    }, 300);\n  }\n\n  disableAnimation() {\n    selectRefs(this.contentSpanBar, (spanBarDOM: HTMLDivElement) => {\n      spanBarDOM.style.transition = '';\n    });\n  }\n\n  storeSpanBar = (spanBar: SpanBar) => {\n    this.spanBars.push(spanBar);\n  };\n\n  render() {\n    const childrenProps: ScrollbarManagerChildrenProps = {\n      generateContentSpanBarRef: this.generateContentSpanBarRef,\n      onDragStart: this.onDragStart,\n      onScroll: this.onScroll,\n      onWheel: this.onWheel,\n      virtualScrollbarRef: this.virtualScrollbar,\n      scrollBarAreaRef: this.scrollBarArea,\n      updateScrollState: this.initializeScrollState,\n      markSpanOutOfView: this.markSpanOutOfView,\n      markSpanInView: this.markSpanInView,\n      storeSpanBar: this.storeSpanBar,\n    };\n\n    return (\n      <ScrollbarManagerContext.Provider value={childrenProps}>\n        {this.props.children}\n      </ScrollbarManagerContext.Provider>\n    );\n  }\n}\n\nexport const Consumer = ScrollbarManagerContext.Consumer;\n\nexport const withScrollbarManager = <P extends ScrollbarManagerChildrenProps>(\n  WrappedComponent: React.ComponentType<P>\n) =>\n  class extends Component<\n    Omit<P, keyof ScrollbarManagerChildrenProps> & Partial<ScrollbarManagerChildrenProps>\n  > {\n    static displayName = `withScrollbarManager(${getDisplayName(WrappedComponent)})`;\n\n    render() {\n      return (\n        <ScrollbarManagerContext.Consumer>\n          {context => {\n            const props = {\n              ...this.props,\n              ...context,\n            } as P;\n\n            return <WrappedComponent {...props} />;\n          }}\n        </ScrollbarManagerContext.Consumer>\n      );\n    }\n  };\n","import 'prism-sentry/index.css';\n\nimport {Component} from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\n\nimport {loadDocs} from 'sentry/actionCreators/projects';\nimport {Client} from 'sentry/api';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {PlatformKey} from 'sentry/data/platformCategories';\nimport {t, tct} from 'sentry/locale';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n\n  orgSlug: string;\n  platform: string;\n  projectSlug: string;\n};\n\ntype State = {\n  html: string | undefined;\n  link: string | undefined;\n  loading: boolean;\n};\n\nclass InlineDocs extends Component<Props, State> {\n  state: State = {\n    loading: true,\n    html: undefined,\n    link: undefined,\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    const {platform, api, orgSlug, projectSlug} = this.props;\n\n    if (!platform) {\n      return;\n    }\n\n    this.setState({loading: true});\n\n    let tracingPlatform: PlatformKey;\n    switch (platform) {\n      case 'sentry.python': {\n        tracingPlatform = 'python-tracing';\n        break;\n      }\n      case 'sentry.javascript.node': {\n        tracingPlatform = 'node-tracing';\n        break;\n      }\n      case 'sentry.javascript.react-native': {\n        tracingPlatform = 'react-native-tracing';\n        break;\n      }\n      default: {\n        this.setState({loading: false});\n        return;\n      }\n    }\n\n    try {\n      const {html, link} = await loadDocs(api, orgSlug, projectSlug, tracingPlatform);\n      this.setState({html, link});\n    } catch (error) {\n      Sentry.captureException(error);\n      this.setState({html: undefined, link: undefined});\n    }\n\n    this.setState({loading: false});\n  };\n\n  render() {\n    const {platform} = this.props;\n\n    if (!platform) {\n      return null;\n    }\n\n    if (this.state.loading) {\n      return (\n        <div>\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    if (this.state.html) {\n      return (\n        <div>\n          <h4>{t('Requires Manual Instrumentation')}</h4>\n          <DocumentationWrapper dangerouslySetInnerHTML={{__html: this.state.html}} />\n          <p>\n            {tct(\n              `For in-depth instructions on setting up tracing, view [docLink:our documentation].`,\n              {\n                docLink: <a href={this.state.link} />,\n              }\n            )}\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <h4>{t('Requires Manual Instrumentation')}</h4>\n        <p>\n          {tct(\n            `To manually instrument certain regions of your code, view [docLink:our documentation].`,\n            {\n              docLink: (\n                <ExternalLink href=\"https://docs.sentry.io/product/performance/getting-started/\" />\n              ),\n            }\n          )}\n        </p>\n      </div>\n    );\n  }\n}\n\nconst DocumentationWrapper = styled('div')`\n  p {\n    line-height: 1.5;\n  }\n  pre {\n    word-break: break-all;\n    white-space: pre-wrap;\n  }\n`;\n\nexport default withApi(InlineDocs);\n","import {Component, Fragment} from 'react';\nimport {withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport map from 'lodash/map';\nimport omit from 'lodash/omit';\n\nimport {Client} from 'sentry/api';\nimport Feature from 'sentry/components/acl/feature';\nimport Alert from 'sentry/components/alert';\nimport Button from 'sentry/components/button';\nimport DateTime from 'sentry/components/dateTime';\nimport DiscoverButton from 'sentry/components/discoverButton';\nimport FileSize from 'sentry/components/fileSize';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Link from 'sentry/components/links/link';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {\n  ErrorDot,\n  ErrorLevel,\n  ErrorMessageContent,\n  ErrorMessageTitle,\n  ErrorTitle,\n} from 'sentry/components/performance/waterfall/rowDetails';\nimport Pill from 'sentry/components/pill';\nimport Pills from 'sentry/components/pills';\nimport {\n  generateIssueEventTarget,\n  generateTraceTarget,\n} from 'sentry/components/quickTrace/utils';\nimport {ALL_ACCESS_PROJECTS, PAGE_URL_PARAM} from 'sentry/constants/pageFilters';\nimport {IconAnchor} from 'sentry/icons';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {EventTransaction} from 'sentry/types/event';\nimport {assert} from 'sentry/types/utils';\nimport {defined} from 'sentry/utils';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {generateEventSlug} from 'sentry/utils/discover/urls';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {QuickTraceEvent, TraceError} from 'sentry/utils/performance/quickTrace/types';\nimport withApi from 'sentry/utils/withApi';\nimport {spanDetailsRouteWithQuery} from 'sentry/views/performance/transactionSummary/transactionSpans/spanDetails/utils';\nimport {transactionSummaryRouteWithQuery} from 'sentry/views/performance/transactionSummary/utils';\n\nimport * as SpanEntryContext from './context';\nimport InlineDocs from './inlineDocs';\nimport {ParsedTraceType, ProcessedSpanType, rawSpanKeys, RawSpanType} from './types';\nimport {getTraceDateTimeRange, isGapSpan, isOrphanSpan, scrollToSpan} from './utils';\n\nconst DEFAULT_ERRORS_VISIBLE = 5;\n\nconst SIZE_DATA_KEYS = ['Encoded Body Size', 'Decoded Body Size', 'Transfer Size'];\n\ntype TransactionResult = {\n  id: string;\n  'project.name': string;\n  'trace.span': string;\n  transaction: string;\n};\n\ntype Props = WithRouterProps & {\n  api: Client;\n  childTransactions: QuickTraceEvent[] | null;\n  event: Readonly<EventTransaction>;\n  isRoot: boolean;\n  organization: Organization;\n  relatedErrors: TraceError[] | null;\n  scrollToHash: (hash: string) => void;\n  span: Readonly<ProcessedSpanType>;\n  trace: Readonly<ParsedTraceType>;\n};\n\ntype State = {\n  errorsOpened: boolean;\n};\n\nclass SpanDetail extends Component<Props, State> {\n  state: State = {\n    errorsOpened: false,\n  };\n\n  renderTraversalButton(): React.ReactNode {\n    if (!this.props.childTransactions) {\n      // TODO: Amend size to use theme when we eventually refactor LoadingIndicator\n      // 12px is consistent with theme.iconSizes['xs'] but theme returns a string.\n      return (\n        <StyledDiscoverButton size=\"xsmall\" disabled>\n          <StyledLoadingIndicator size={12} />\n        </StyledDiscoverButton>\n      );\n    }\n\n    if (this.props.childTransactions.length <= 0) {\n      return null;\n    }\n\n    const {span, trace, event, organization} = this.props;\n\n    assert(!isGapSpan(span));\n\n    if (this.props.childTransactions.length === 1) {\n      // Note: This is rendered by this.renderSpanChild() as a dedicated row\n      return null;\n    }\n\n    const orgFeatures = new Set(organization.features);\n\n    const {start, end} = getTraceDateTimeRange({\n      start: trace.traceStartTimestamp,\n      end: trace.traceEndTimestamp,\n    });\n\n    const childrenEventView = EventView.fromSavedQuery({\n      id: undefined,\n      name: `Children from Span ID ${span.span_id}`,\n      fields: [\n        'transaction',\n        'project',\n        'trace.span',\n        'transaction.duration',\n        'timestamp',\n      ],\n      orderby: '-timestamp',\n      query: `event.type:transaction trace:${span.trace_id} trace.parent_span:${span.span_id}`,\n      projects: orgFeatures.has('global-views')\n        ? [ALL_ACCESS_PROJECTS]\n        : [Number(event.projectID)],\n      version: 2,\n      start,\n      end,\n    });\n\n    return (\n      <StyledDiscoverButton\n        data-test-id=\"view-child-transactions\"\n        size=\"xsmall\"\n        to={childrenEventView.getResultsViewUrlTarget(organization.slug)}\n      >\n        {t('View Children')}\n      </StyledDiscoverButton>\n    );\n  }\n\n  renderSpanChild(): React.ReactNode {\n    const {childTransactions, organization, location} = this.props;\n\n    if (!childTransactions || childTransactions.length !== 1) {\n      return null;\n    }\n\n    const childTransaction = childTransactions[0];\n\n    const transactionResult: TransactionResult = {\n      'project.name': childTransaction.project_slug,\n      transaction: childTransaction.transaction,\n      'trace.span': childTransaction.span_id,\n      id: childTransaction.event_id,\n    };\n\n    const eventSlug = generateSlug(transactionResult);\n\n    const viewChildButton = (\n      <SpanEntryContext.Consumer>\n        {({getViewChildTransactionTarget}) => {\n          const to = getViewChildTransactionTarget({\n            ...transactionResult,\n            eventSlug,\n          });\n\n          if (!to) {\n            return null;\n          }\n\n          const target = transactionSummaryRouteWithQuery({\n            orgSlug: organization.slug,\n            transaction: transactionResult.transaction,\n            query: omit(location.query, Object.values(PAGE_URL_PARAM)),\n            projectID: String(childTransaction.project_id),\n          });\n\n          return (\n            <ButtonGroup>\n              <StyledButton data-test-id=\"view-child-transaction\" size=\"xsmall\" to={to}>\n                {t('View Transaction')}\n              </StyledButton>\n              <StyledButton size=\"xsmall\" to={target}>\n                {t('View Summary')}\n              </StyledButton>\n            </ButtonGroup>\n          );\n        }}\n      </SpanEntryContext.Consumer>\n    );\n\n    return (\n      <Row title=\"Child Transaction\" extra={viewChildButton}>\n        {`${transactionResult.transaction} (${transactionResult['project.name']})`}\n      </Row>\n    );\n  }\n\n  renderTraceButton() {\n    const {span, organization, event} = this.props;\n\n    if (isGapSpan(span)) {\n      return null;\n    }\n\n    return (\n      <StyledButton size=\"xsmall\" to={generateTraceTarget(event, organization)}>\n        {t('View Trace')}\n      </StyledButton>\n    );\n  }\n\n  renderViewSimilarSpansButton() {\n    const {span, organization, location, event} = this.props;\n\n    if (isGapSpan(span) || !span.op || !span.hash) {\n      return null;\n    }\n\n    const transactionName = event.title;\n\n    const target = spanDetailsRouteWithQuery({\n      orgSlug: organization.slug,\n      transaction: transactionName,\n      query: location.query,\n      spanSlug: {op: span.op, group: span.hash},\n      projectID: event.projectID,\n    });\n\n    return (\n      <StyledButton size=\"xsmall\" to={target}>\n        {t('View Similar Spans')}\n      </StyledButton>\n    );\n  }\n\n  renderOrphanSpanMessage() {\n    const {span} = this.props;\n\n    if (!isOrphanSpan(span)) {\n      return null;\n    }\n\n    return (\n      <Alert type=\"info\" showIcon system>\n        {t(\n          'This is a span that has no parent span within this transaction. It has been attached to the transaction root span by default.'\n        )}\n      </Alert>\n    );\n  }\n\n  toggleErrors = () => {\n    this.setState(({errorsOpened}) => ({errorsOpened: !errorsOpened}));\n  };\n\n  renderSpanErrorMessage() {\n    const {span, organization, relatedErrors} = this.props;\n    const {errorsOpened} = this.state;\n\n    if (!relatedErrors || relatedErrors.length <= 0 || isGapSpan(span)) {\n      return null;\n    }\n\n    const visibleErrors = errorsOpened\n      ? relatedErrors\n      : relatedErrors.slice(0, DEFAULT_ERRORS_VISIBLE);\n\n    return (\n      <Alert type=\"error\" showIcon system>\n        <ErrorMessageTitle>\n          {tn(\n            'An error event occurred in this transaction.',\n            '%s error events occurred in this transaction.',\n            relatedErrors.length\n          )}\n        </ErrorMessageTitle>\n        <ErrorMessageContent>\n          {visibleErrors.map(error => (\n            <Fragment key={error.event_id}>\n              <ErrorDot level={error.level} />\n              <ErrorLevel>{error.level}</ErrorLevel>\n              <ErrorTitle>\n                <Link to={generateIssueEventTarget(error, organization)}>\n                  {error.title}\n                </Link>\n              </ErrorTitle>\n            </Fragment>\n          ))}\n        </ErrorMessageContent>\n        {relatedErrors.length > DEFAULT_ERRORS_VISIBLE && (\n          <ErrorToggle size=\"xsmall\" onClick={this.toggleErrors}>\n            {errorsOpened ? t('Show less') : t('Show more')}\n          </ErrorToggle>\n        )}\n      </Alert>\n    );\n  }\n\n  partitionSizes(data) {\n    const sizeKeys = SIZE_DATA_KEYS.reduce((keys, key) => {\n      if (data.hasOwnProperty(key)) {\n        keys[key] = data[key];\n      }\n      return keys;\n    }, {});\n\n    const nonSizeKeys = {...data};\n    SIZE_DATA_KEYS.forEach(key => delete nonSizeKeys[key]);\n\n    return {\n      sizeKeys,\n      nonSizeKeys,\n    };\n  }\n\n  renderSpanDetails() {\n    const {span, event, location, organization, scrollToHash} = this.props;\n\n    if (isGapSpan(span)) {\n      return (\n        <SpanDetails>\n          <InlineDocs\n            platform={event.sdk?.name || ''}\n            orgSlug={organization.slug}\n            projectSlug={event?.projectSlug ?? ''}\n          />\n        </SpanDetails>\n      );\n    }\n\n    const startTimestamp: number = span.start_timestamp;\n    const endTimestamp: number = span.timestamp;\n\n    const duration = (endTimestamp - startTimestamp) * 1000;\n    const durationString = `${Number(duration.toFixed(3)).toLocaleString()}ms`;\n\n    const unknownKeys = Object.keys(span).filter(key => {\n      return !rawSpanKeys.has(key as any);\n    });\n\n    const {sizeKeys, nonSizeKeys} = this.partitionSizes(span?.data ?? {});\n\n    const allZeroSizes = SIZE_DATA_KEYS.map(key => sizeKeys[key]).every(\n      value => value === 0\n    );\n\n    return (\n      <Fragment>\n        {this.renderOrphanSpanMessage()}\n        {this.renderSpanErrorMessage()}\n        <SpanDetails>\n          <table className=\"table key-value\">\n            <tbody>\n              <Row\n                title={\n                  isGapSpan(span) ? (\n                    <SpanIdTitle>Span ID</SpanIdTitle>\n                  ) : (\n                    <SpanIdTitle\n                      onClick={scrollToSpan(span.span_id, scrollToHash, location)}\n                    >\n                      Span ID\n                      <StyledIconAnchor />\n                    </SpanIdTitle>\n                  )\n                }\n                extra={this.renderTraversalButton()}\n              >\n                {span.span_id}\n              </Row>\n              <Row title=\"Parent Span ID\">{span.parent_span_id || ''}</Row>\n              {this.renderSpanChild()}\n              <Row title=\"Trace ID\" extra={this.renderTraceButton()}>\n                {span.trace_id}\n              </Row>\n              <Row title=\"Description\" extra={this.renderViewSimilarSpansButton()}>\n                {span?.description ?? ''}\n              </Row>\n              <Row title=\"Status\">{span.status || ''}</Row>\n              <Row title=\"Start Date\">\n                {getDynamicText({\n                  fixed: 'Mar 16, 2020 9:10:12 AM UTC',\n                  value: (\n                    <Fragment>\n                      <DateTime date={startTimestamp * 1000} />\n                      {` (${startTimestamp})`}\n                    </Fragment>\n                  ),\n                })}\n              </Row>\n              <Row title=\"End Date\">\n                {getDynamicText({\n                  fixed: 'Mar 16, 2020 9:10:13 AM UTC',\n                  value: (\n                    <Fragment>\n                      <DateTime date={endTimestamp * 1000} />\n                      {` (${endTimestamp})`}\n                    </Fragment>\n                  ),\n                })}\n              </Row>\n              <Row title=\"Duration\">{durationString}</Row>\n              <Row title=\"Operation\">{span.op || ''}</Row>\n              <Row title=\"Same Process as Parent\">\n                {span.same_process_as_parent !== undefined\n                  ? String(span.same_process_as_parent)\n                  : null}\n              </Row>\n              <Feature\n                organization={organization}\n                features={['organizations:performance-suspect-spans-view']}\n              >\n                <Row title=\"Span Group\">\n                  {defined(span.hash) ? String(span.hash) : null}\n                </Row>\n                <Row title=\"Span Self Time\">\n                  {defined(span.exclusive_time)\n                    ? `${Number(span.exclusive_time.toFixed(3)).toLocaleString()}ms`\n                    : null}\n                </Row>\n              </Feature>\n              <Tags span={span} />\n              {allZeroSizes && (\n                <TextTr>\n                  The following sizes were not collected for security reasons. Check if\n                  the host serves the appropriate\n                  <ExternalLink href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin\">\n                    <span className=\"val-string\">Timing-Allow-Origin</span>\n                  </ExternalLink>\n                  header. You may have to enable this collection manually.\n                </TextTr>\n              )}\n              {map(sizeKeys, (value, key) => (\n                <Row title={key} key={key}>\n                  <Fragment>\n                    <FileSize bytes={value} />\n                    {value >= 1024 && (\n                      <span>{` (${JSON.stringify(value, null, 4) || ''} B)`}</span>\n                    )}\n                  </Fragment>\n                </Row>\n              ))}\n              {map(nonSizeKeys, (value, key) => (\n                <Row title={key} key={key}>\n                  {JSON.stringify(value, null, 4) || ''}\n                </Row>\n              ))}\n              {unknownKeys.map(key => (\n                <Row title={key} key={key}>\n                  {JSON.stringify(span[key], null, 4) || ''}\n                </Row>\n              ))}\n            </tbody>\n          </table>\n        </SpanDetails>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <SpanDetailContainer\n        data-component=\"span-detail\"\n        onClick={event => {\n          // prevent toggling the span detail\n          event.stopPropagation();\n        }}\n      >\n        {this.renderSpanDetails()}\n      </SpanDetailContainer>\n    );\n  }\n}\n\nconst StyledDiscoverButton = styled(DiscoverButton)`\n  position: absolute;\n  top: ${space(0.75)};\n  right: ${space(0.5)};\n`;\n\nconst StyledButton = styled(Button)``;\n\nexport const SpanDetailContainer = styled('div')`\n  border-bottom: 1px solid ${p => p.theme.border};\n  cursor: auto;\n`;\n\nexport const SpanDetails = styled('div')`\n  padding: ${space(2)};\n`;\n\nconst ValueTd = styled('td')`\n  position: relative;\n`;\n\nconst StyledLoadingIndicator = styled(LoadingIndicator)`\n  display: flex;\n  align-items: center;\n  height: ${space(2)};\n  margin: 0;\n`;\n\nconst StyledText = styled('p')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin: ${space(2)} ${space(0)};\n`;\n\nconst TextTr = ({children}) => (\n  <tr>\n    <td className=\"key\" />\n    <ValueTd className=\"value\">\n      <StyledText>{children}</StyledText>\n    </ValueTd>\n  </tr>\n);\n\nconst ErrorToggle = styled(Button)`\n  margin-top: ${space(0.75)};\n`;\n\nconst SpanIdTitle = styled('a')`\n  display: flex;\n  color: ${p => p.theme.textColor};\n  :hover {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nconst StyledIconAnchor = styled(IconAnchor)`\n  display: block;\n  color: ${p => p.theme.gray300};\n  margin-left: ${space(1)};\n`;\n\nexport const Row = ({\n  title,\n  keep,\n  children,\n  extra = null,\n}: {\n  children: JSX.Element | string | null;\n  title: JSX.Element | string | null;\n  extra?: React.ReactNode;\n  keep?: boolean;\n}) => {\n  if (!keep && !children) {\n    return null;\n  }\n\n  return (\n    <tr>\n      <td className=\"key\">{title}</td>\n      <ValueTd className=\"value\">\n        <ValueRow>\n          <StyledPre>\n            <span className=\"val-string\">{children}</span>\n          </StyledPre>\n          <ButtonContainer>{extra}</ButtonContainer>\n        </ValueRow>\n      </ValueTd>\n    </tr>\n  );\n};\n\nexport const Tags = ({span}: {span: RawSpanType}) => {\n  const tags: {[tag_name: string]: string} | undefined = span?.tags;\n\n  if (!tags) {\n    return null;\n  }\n\n  const keys = Object.keys(tags);\n\n  if (keys.length <= 0) {\n    return null;\n  }\n\n  return (\n    <tr>\n      <td className=\"key\">Tags</td>\n      <td className=\"value\">\n        <Pills style={{padding: '8px'}}>\n          {keys.map((key, index) => (\n            <Pill key={index} name={key} value={String(tags[key]) || ''} />\n          ))}\n        </Pills>\n      </td>\n    </tr>\n  );\n};\n\nfunction generateSlug(result: TransactionResult): string {\n  return generateEventSlug({\n    id: result.id,\n    'project.name': result['project.name'],\n  });\n}\n\nconst ButtonGroup = styled('div')`\n  display: flex;\n  flex-direction: column;\n  gap: ${space(0.5)};\n`;\n\nconst ValueRow = styled('div')`\n  display: grid;\n  grid-template-columns: auto min-content;\n  gap: ${space(1)};\n\n  border-radius: 4px;\n  background-color: ${p => p.theme.surface100};\n  margin: 2px;\n`;\n\nconst StyledPre = styled('pre')`\n  margin: 0 !important;\n  background-color: transparent !important;\n`;\n\nconst ButtonContainer = styled('div')`\n  padding: 8px 10px;\n`;\n\nexport default withApi(withRouter(SpanDetail));\n","import type {Fuse} from 'sentry/utils/fuzzySearch';\n\nimport SpanTreeModel from './spanTreeModel';\n\nexport type GapSpanType = {\n  isOrphan: boolean;\n  start_timestamp: number;\n  // this is essentially end_timestamp\n  timestamp: number;\n  type: 'gap';\n  description?: string;\n};\n\nexport type RawSpanType = {\n  data: Record<string, any>;\n  span_id: string;\n  start_timestamp: number;\n  // this is essentially end_timestamp\n  timestamp: number;\n  trace_id: string;\n  description?: string;\n  exclusive_time?: number;\n  hash?: string;\n  op?: string;\n  parent_span_id?: string;\n  same_process_as_parent?: boolean;\n  status?: string;\n  tags?: {[key: string]: string};\n};\n\nexport const rawSpanKeys: Set<keyof RawSpanType> = new Set([\n  'trace_id',\n  'parent_span_id',\n  'span_id',\n  'start_timestamp',\n  'timestamp',\n  'same_process_as_parent',\n  'op',\n  'description',\n  'status',\n  'data',\n  'tags',\n  'hash',\n  'exclusive_time',\n]);\n\nexport type OrphanSpanType = {\n  type: 'orphan';\n} & RawSpanType;\n\nexport type SpanType = RawSpanType | OrphanSpanType;\n\n// this type includes natural spans which are part of the transaction event payload,\n// and as well as pseudo-spans (e.g. gap spans)\nexport type ProcessedSpanType = SpanType | GapSpanType;\n\nexport type FetchEmbeddedChildrenState =\n  | 'idle'\n  | 'loading_embedded_transactions'\n  | 'error_fetching_embedded_transactions';\n\nexport type SpanGroupProps = {\n  isNestedSpanGroupExpanded: boolean;\n  spanNestedGrouping: EnhancedSpan[] | undefined;\n  toggleNestedSpanGroup: (() => void) | undefined;\n  toggleSiblingSpanGroup: ((span: SpanType) => void) | undefined;\n};\n\nexport type SpanSiblingGroupProps = {\n  isLastSibling: boolean;\n  occurrence: number;\n  spanSiblingGrouping: EnhancedSpan[] | undefined;\n  toggleSiblingSpanGroup: (span: SpanType, occurrence: number) => void;\n};\n\ntype CommonEnhancedProcessedSpanType = {\n  continuingTreeDepths: Array<TreeDepthType>;\n  fetchEmbeddedChildrenState: FetchEmbeddedChildrenState;\n  isEmbeddedTransactionTimeAdjusted: boolean;\n  isLastSibling: boolean;\n  numOfSpanChildren: number;\n  showEmbeddedChildren: boolean;\n  toggleEmbeddedChildren:\n    | ((props: {eventSlug: string; orgSlug: string}) => void)\n    | undefined;\n  treeDepth: number;\n  groupOccurrence?: number;\n  isFirstSiblingOfGroup?: boolean;\n};\n\nexport type EnhancedSpan =\n  | ({\n      span: SpanType;\n      type: 'root_span';\n    } & CommonEnhancedProcessedSpanType)\n  | ({\n      span: SpanType;\n      toggleNestedSpanGroup: (() => void) | undefined;\n      toggleSiblingSpanGroup: ((span: SpanType, occurrence: number) => void) | undefined;\n      type: 'span';\n    } & CommonEnhancedProcessedSpanType);\n\n// ProcessedSpanType with additional information\nexport type EnhancedProcessedSpanType =\n  | EnhancedSpan\n  | ({\n      span: GapSpanType;\n      type: 'gap';\n    } & CommonEnhancedProcessedSpanType)\n  | {\n      span: SpanType;\n      type: 'filtered_out';\n    }\n  | {\n      span: SpanType;\n      type: 'out_of_view';\n    }\n  | ({\n      continuingTreeDepths: Array<TreeDepthType>;\n      span: SpanType;\n      treeDepth: number;\n      type: 'span_group_chain';\n    } & SpanGroupProps)\n  | ({\n      continuingTreeDepths: Array<TreeDepthType>;\n      span: SpanType;\n      treeDepth: number;\n      type: 'span_group_siblings';\n    } & SpanSiblingGroupProps);\n\nexport type SpanEntry = {\n  data: Array<RawSpanType>;\n  type: 'spans';\n};\n\n// map span_id to children whose parent_span_id is equal to span_id\nexport type SpanChildrenLookupType = {[span_id: string]: Array<SpanType>};\n\nexport type ParsedTraceType = {\n  childSpans: SpanChildrenLookupType;\n  op: string;\n  rootSpanID: string;\n  rootSpanStatus: string | undefined;\n  spans: SpanType[];\n  traceEndTimestamp: number;\n  traceID: string;\n  traceStartTimestamp: number;\n  description?: string;\n  exclusiveTime?: number;\n  hash?: string;\n  parentSpanID?: string;\n};\n\nexport enum TickAlignment {\n  Left,\n  Right,\n  Center,\n}\n\nexport type TraceContextType = {\n  description?: string;\n  exclusive_time?: number;\n  hash?: string;\n  op?: string;\n  parent_span_id?: string;\n  span_id?: string;\n  status?: string;\n  trace_id?: string;\n  type?: 'trace';\n};\n\ntype SpanTreeDepth = number;\n\nexport type OrphanTreeDepth = {\n  depth: number;\n  type: 'orphan';\n};\n\nexport type TreeDepthType = SpanTreeDepth | OrphanTreeDepth;\n\nexport type IndexedFusedSpan = {\n  dataKeys: string[];\n  dataValues: string[];\n  indexed: string[];\n  span: RawSpanType;\n  tagKeys: string[];\n  tagValues: string[];\n};\n\nexport type FilterSpans = {\n  results: Fuse.FuseResult<IndexedFusedSpan>[];\n  spanIDs: Set<string>;\n};\n\nexport type TraceBound = {\n  spanId: string;\n  traceEndTimestamp: number;\n  traceStartTimestamp: number;\n};\n\nexport type DescendantGroup = {\n  group: SpanTreeModel[];\n  occurrence?: number;\n};\n\nexport enum GroupType {\n  DESCENDANTS,\n  SIBLINGS,\n}\n","import styled from '@emotion/styled';\n\nimport {formatBytesBase2} from 'sentry/utils';\nimport getDynamicText from 'sentry/utils/getDynamicText';\n\ntype Props = {\n  bytes: number;\n  className?: string;\n};\n\nfunction FileSize(props: Props) {\n  const {className, bytes} = props;\n\n  return (\n    <Span className={className}>\n      {getDynamicText({value: formatBytesBase2(bytes), fixed: 'xx KB'})}\n    </Span>\n  );\n}\n\nconst Span = styled('span')`\n  font-variant-numeric: tabular-nums;\n`;\n\nexport default FileSize;\n","import styled from '@emotion/styled';\n\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\nimport {Row} from 'sentry/components/performance/waterfall/row';\nimport space from 'sentry/styles/space';\n\nexport const MessageRow = styled(Row)`\n  display: block;\n  cursor: auto;\n  line-height: ${ROW_HEIGHT}px;\n  padding-left: ${space(1)};\n  padding-right: ${space(1)};\n  color: ${p => p.theme.gray300};\n  background-color: ${p => p.theme.backgroundSecondary};\n  outline: 1px solid ${p => p.theme.border};\n  font-size: ${p => p.theme.fontSizeSmall};\n\n  z-index: ${p => p.theme.zIndex.traceView.rowInfoMessage};\n\n  > * + * {\n    margin-left: ${space(2)};\n  }\n`;\n","import styled from '@emotion/styled';\n\nexport const DividerSpacer = styled('div')`\n  width: 1px;\n  background-color: ${p => p.theme.border};\n`;\n\nconst MINI_HEADER_HEIGHT = 20;\n\nexport const ScrollbarContainer = styled('div')`\n  display: block;\n  width: 100%;\n  height: ${MINI_HEADER_HEIGHT + 50}px;\n  & > div[data-type='virtual-scrollbar'].dragging > div {\n    background-color: ${p => p.theme.textColor};\n    opacity: 0.8;\n    cursor: grabbing;\n  }\n  overflow-x: scroll;\n`;\n\nexport const VirtualScrollbar = styled('div')`\n  height: 8px;\n  width: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n  position: sticky;\n  top: ${(MINI_HEADER_HEIGHT - 8) / 2}px;\n  left: 0;\n  cursor: grab;\n`;\n\nexport const VirtualScrollbarGrip = styled('div')`\n  height: 8px;\n  width: 100%;\n  border-radius: 20px;\n  transition: background-color 150ms ease;\n  background-color: ${p => p.theme.textColor};\n  opacity: 0.5;\n`;\n","import styled from '@emotion/styled';\n\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\nimport {getBackgroundColor} from 'sentry/components/performance/waterfall/utils';\n\ninterface RowProps extends React.HTMLAttributes<HTMLDivElement> {\n  cursor?: 'pointer' | 'default';\n  showBorder?: boolean;\n  visible?: boolean;\n}\n\nexport const Row = styled('div')<RowProps>`\n  display: ${p => (p.visible ? 'block' : 'none')};\n  border-top: ${p => (p.showBorder ? `1px solid ${p.theme.border}` : null)};\n  margin-top: ${p => (p.showBorder ? '-1px' : null)}; /* to prevent offset on toggle */\n  position: relative;\n  overflow: hidden;\n  min-height: ${ROW_HEIGHT}px;\n  cursor: ${p => p.cursor ?? 'pointer'};\n  transition: background-color 0.15s ease-in-out;\n\n  &:last-child {\n    & > [data-component='span-detail'] {\n      border-bottom: none !important;\n    }\n  }\n`;\n\ntype RowCellProps = {\n  showDetail?: boolean;\n  showStriping?: boolean;\n};\n\nexport const RowCellContainer = styled('div')<RowCellProps>`\n  display: flex;\n  position: relative;\n  height: ${ROW_HEIGHT}px;\n\n  /* for virtual scrollbar */\n  overflow: hidden;\n\n  user-select: none;\n\n  &:hover > div[data-type='span-row-cell'] {\n    background-color: ${p =>\n      p.showDetail ? p.theme.textColor : p.theme.backgroundSecondary};\n  }\n`;\n\nexport const RowCell = styled('div')<RowCellProps>`\n  position: relative;\n  height: 100%;\n  overflow: hidden;\n  background-color: ${p => getBackgroundColor(p)};\n  transition: background-color 125ms ease-in-out;\n  color: ${p => (p.showDetail ? p.theme.background : 'inherit')};\n  display: flex;\n  align-items: center;\n`;\n","import styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\nimport {Theme} from 'sentry/utils/theme';\n\nexport const ErrorMessageTitle = styled('div')`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const ErrorMessageContent = styled('div')`\n  display: grid;\n  align-items: center;\n  grid-template-columns: 16px 72px auto;\n  gap: ${space(0.75)};\n  margin-top: ${space(0.75)};\n`;\n\nexport const ErrorDot = styled('div')<{level: keyof Theme['level']}>`\n  background-color: ${p => p.theme.level[p.level]};\n  content: '';\n  width: ${space(1)};\n  min-width: ${space(1)};\n  height: ${space(1)};\n  margin-right: ${space(1)};\n  border-radius: 100%;\n  flex: 1;\n`;\n\nexport const ErrorLevel = styled('span')`\n  width: 80px;\n`;\n\nexport const ErrorTitle = styled('span')`\n  ${p => p.theme.overflowEllipsis};\n`;\n","import styled from '@emotion/styled';\n\nimport {IconAdd, IconFire, IconSubtract} from 'sentry/icons';\nimport space from 'sentry/styles/space';\nimport {Aliases, Color} from 'sentry/utils/theme';\n\nexport const DividerContainer = styled('div')`\n  position: relative;\n  min-width: 1px;\n`;\n\nexport const DividerLine = styled('div')<{showDetail?: boolean}>`\n  background-color: ${p => (p.showDetail ? p.theme.textColor : p.theme.border)};\n  position: absolute;\n  height: 100%;\n  width: 1px;\n  transition: background-color 125ms ease-in-out;\n  z-index: ${p => p.theme.zIndex.traceView.dividerLine};\n\n  /* enhanced hit-box */\n  &:after {\n    content: '';\n    z-index: -1;\n    position: absolute;\n    left: -2px;\n    top: 0;\n    width: 5px;\n    height: 100%;\n  }\n\n  &.hovering {\n    background-color: ${p => p.theme.textColor};\n    width: 3px;\n    transform: translateX(-1px);\n    margin-right: -2px;\n\n    cursor: ew-resize;\n\n    &:after {\n      left: -2px;\n      width: 7px;\n    }\n  }\n`;\n\nexport const DividerLineGhostContainer = styled('div')`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n`;\n\nconst BadgeBorder = styled('div')<{borderColor: Color | keyof Aliases}>`\n  position: absolute;\n  margin: ${space(0.25)};\n  left: -11px;\n  background: ${p => p.theme.background};\n  width: ${space(3)};\n  height: ${space(3)};\n  border: 1px solid ${p => p.theme[p.borderColor]};\n  border-radius: 50%;\n  z-index: ${p => p.theme.zIndex.traceView.dividerLine};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport function ErrorBadge() {\n  return (\n    <BadgeBorder borderColor=\"red300\">\n      <IconFire color=\"red300\" size=\"xs\" />\n    </BadgeBorder>\n  );\n}\n\nexport function EmbeddedTransactionBadge({\n  expanded,\n  onClick,\n}: {\n  expanded: boolean;\n  onClick: () => void;\n}) {\n  return (\n    <BadgeBorder\n      data-test-id=\"embedded-transaction-badge\"\n      borderColor=\"border\"\n      onClick={event => {\n        event.stopPropagation();\n        event.preventDefault();\n        onClick();\n      }}\n    >\n      {expanded ? (\n        <IconSubtract color=\"textColor\" size=\"xs\" />\n      ) : (\n        <IconAdd color=\"textColor\" size=\"xs\" />\n      )}\n    </BadgeBorder>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\n\nexport const RowTitleContainer = styled('div')`\n  display: flex;\n  align-items: center;\n  height: ${ROW_HEIGHT}px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  user-select: none;\n`;\n\nexport const RowTitle = styled('div')`\n  position: relative;\n  height: 100%;\n  font-size: ${p => p.theme.fontSizeSmall};\n  white-space: nowrap;\n  display: flex;\n  flex: 1;\n  align-items: center;\n`;\n\nexport const RowTitleContent = styled('span')<{errored: boolean}>`\n  color: ${p => (p.errored ? p.theme.error : 'inherit')};\n`;\n\nexport const SpanGroupRowTitleContent = styled('span')`\n  color: ${p => p.theme.linkColor};\n`;\n","import {memo} from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\nimport {Theme} from 'sentry/utils/theme';\n\ntype PillType = 'positive' | 'negative' | 'error';\n\ntype Props = {\n  children?: React.ReactNode;\n  className?: string;\n  name?: React.ReactNode;\n  type?: PillType;\n  value?: number | string | boolean | null;\n};\n\nconst Pill = memo(({name, value, children, type, className}: Props) => {\n  const getTypeAndValue = (): Partial<{renderValue: string; valueType: PillType}> => {\n    if (value === undefined) {\n      return {};\n    }\n\n    switch (value) {\n      case 'true':\n      case true:\n        return {\n          valueType: 'positive',\n          renderValue: 'true',\n        };\n      case 'false':\n      case false:\n        return {\n          valueType: 'negative',\n          renderValue: 'false',\n        };\n      case null:\n      case undefined:\n        return {\n          valueType: 'error',\n          renderValue: 'n/a',\n        };\n      default:\n        return {\n          valueType: undefined,\n          renderValue: String(value),\n        };\n    }\n  };\n\n  const {valueType, renderValue} = getTypeAndValue();\n\n  return (\n    <StyledPill type={type ?? valueType} className={className}>\n      <PillName>{name}</PillName>\n      <PillValue>{children ?? renderValue}</PillValue>\n    </StyledPill>\n  );\n});\n\nconst getPillStyle = ({type, theme}: {theme: Theme; type?: PillType}) => {\n  switch (type) {\n    case 'error':\n      return `\n        background: ${theme.red100};\n        border: 1px solid ${theme.red300};\n      `;\n    default:\n      return `\n        border: 1px solid ${theme.border};\n      `;\n  }\n};\n\nconst getPillValueStyle = ({type, theme}: {theme: Theme; type?: PillType}) => {\n  switch (type) {\n    case 'positive':\n      return `\n        background: ${theme.green100};\n        border: 1px solid ${theme.green300};\n        border-left-color: ${theme.green300};\n        font-family: ${theme.text.familyMono};\n        margin: -1px;\n      `;\n    case 'error':\n      return `\n        border-left-color: ${theme.red300};\n        background: ${theme.red100};\n        border: 1px solid ${theme.red300};\n        margin: -1px;\n      `;\n    case 'negative':\n      return `\n        border-left-color: ${theme.red300};\n        background: ${theme.red100};\n        border: 1px solid ${theme.red300};\n        font-family: ${theme.text.familyMono};\n        margin: -1px;\n      `;\n    default:\n      return `\n        background: ${theme.backgroundSecondary};\n        font-family: ${theme.text.familyMono};\n      `;\n  }\n};\n\nconst PillName = styled('span')`\n  padding: ${space(0.5)} ${space(1)};\n  min-width: 0;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n`;\n\nconst PillValue = styled(PillName)`\n  border-left: 1px solid ${p => p.theme.border};\n  border-radius: ${p =>\n    `0 ${p.theme.button.borderRadius} ${p.theme.button.borderRadius} 0`};\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n\n  > a {\n    max-width: 100%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    display: inline-block;\n    vertical-align: text-bottom;\n  }\n\n  .pill-icon,\n  .external-icon {\n    display: inline;\n    margin: 0 0 0 ${space(1)};\n    color: ${p => p.theme.gray300};\n    &:hover {\n      color: ${p => p.theme.textColor};\n    }\n  }\n`;\n\nconst StyledPill = styled('li')<{type?: PillType}>`\n  white-space: nowrap;\n  margin: 0 ${space(1)} ${space(1)} 0;\n  display: flex;\n  border-radius: ${p => p.theme.button.borderRadius};\n  box-shadow: ${p => p.theme.dropShadowLightest};\n  line-height: 1.2;\n  max-width: 100%;\n  :last-child {\n    margin-right: 0;\n  }\n\n  ${getPillStyle};\n\n  ${PillValue} {\n    ${getPillValueStyle};\n  }\n`;\n\nexport default Pill;\n","import styled from '@emotion/styled';\n\nconst Pills = styled('div')`\n  display: flex;\n  flex-wrap: wrap;\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nexport default Pills;\n","import {Location, LocationDescriptor} from 'history';\n\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {ALL_ACCESS_PROJECTS} from 'sentry/constants/pageFilters';\nimport {OrganizationSummary} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {\n  eventDetailsRouteWithEventView,\n  generateEventSlug,\n} from 'sentry/utils/discover/urls';\nimport {\n  EventLite,\n  QuickTraceEvent,\n  TraceError,\n} from 'sentry/utils/performance/quickTrace/types';\nimport {getTraceTimeRangeFromEvent} from 'sentry/utils/performance/quickTrace/utils';\nimport {getTransactionDetailsUrl} from 'sentry/utils/performance/urls';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {getTraceDetailsUrl} from 'sentry/views/performance/traceDetails/utils';\n\nexport function isQuickTraceEvent(\n  event: QuickTraceEvent | TraceError\n): event is QuickTraceEvent {\n  return defined((event as QuickTraceEvent)['transaction.duration']);\n}\n\nexport type ErrorDestination = 'discover' | 'issue';\n\nexport type TransactionDestination = 'discover' | 'performance';\n\nexport function generateIssueEventTarget(\n  event: TraceError,\n  organization: OrganizationSummary\n): LocationDescriptor {\n  return `/organizations/${organization.slug}/issues/${event.issue_id}/events/${event.event_id}`;\n}\n\nfunction generatePerformanceEventTarget(\n  event: EventLite,\n  organization: OrganizationSummary,\n  location: Location\n): LocationDescriptor {\n  const eventSlug = generateEventSlug({\n    id: event.event_id,\n    project: event.project_slug,\n  });\n  const query = {\n    ...location.query,\n    project: String(event.project_id),\n  };\n  return getTransactionDetailsUrl(organization.slug, eventSlug, event.transaction, query);\n}\n\nfunction generateDiscoverEventTarget(\n  event: EventLite | TraceError,\n  organization: OrganizationSummary,\n  location: Location\n): LocationDescriptor {\n  const eventSlug = generateEventSlug({\n    id: event.event_id,\n    project: event.project_slug,\n  });\n  const newLocation = {\n    ...location,\n    query: {\n      ...location.query,\n      project: String(event.project_id),\n    },\n  };\n  return eventDetailsRouteWithEventView({\n    orgSlug: organization.slug,\n    eventSlug,\n    eventView: EventView.fromLocation(newLocation),\n  });\n}\n\nexport function generateSingleErrorTarget(\n  event: TraceError,\n  organization: OrganizationSummary,\n  location: Location,\n  destination: ErrorDestination\n): LocationDescriptor {\n  switch (destination) {\n    case 'issue':\n      return generateIssueEventTarget(event, organization);\n    case 'discover':\n    default:\n      return generateDiscoverEventTarget(event, organization, location);\n  }\n}\n\nexport function generateSingleTransactionTarget(\n  event: EventLite,\n  organization: OrganizationSummary,\n  location: Location,\n  destination: TransactionDestination\n): LocationDescriptor {\n  switch (destination) {\n    case 'performance':\n      return generatePerformanceEventTarget(event, organization, location);\n    case 'discover':\n    default:\n      return generateDiscoverEventTarget(event, organization, location);\n  }\n}\n\nexport function generateMultiTransactionsTarget(\n  currentEvent: Event,\n  events: EventLite[],\n  organization: OrganizationSummary,\n  groupType: 'Ancestor' | 'Children' | 'Descendant'\n): LocationDescriptor {\n  const queryResults = new MutableSearch([]);\n  const eventIds = events.map(child => child.event_id);\n  for (let i = 0; i < eventIds.length; i++) {\n    queryResults.addOp(i === 0 ? '(' : 'OR');\n    queryResults.addFreeText(`id:${eventIds[i]}`);\n    if (i === eventIds.length - 1) {\n      queryResults.addOp(')');\n    }\n  }\n\n  const {start, end} = getTraceTimeRangeFromEvent(currentEvent);\n  const traceEventView = EventView.fromSavedQuery({\n    id: undefined,\n    name: `${groupType} Transactions of Event ID ${currentEvent.id}`,\n    fields: ['transaction', 'project', 'trace.span', 'transaction.duration', 'timestamp'],\n    orderby: '-timestamp',\n    query: queryResults.formatString(),\n    projects: [...new Set(events.map(child => child.project_id))],\n    version: 2,\n    start,\n    end,\n  });\n  return traceEventView.getResultsViewUrlTarget(organization.slug);\n}\n\nexport function generateTraceTarget(\n  event: Event,\n  organization: OrganizationSummary\n): LocationDescriptor {\n  const traceId = event.contexts?.trace?.trace_id ?? '';\n\n  const dateSelection = normalizeDateTimeParams(getTraceTimeRangeFromEvent(event));\n\n  if (organization.features.includes('performance-view')) {\n    // TODO(txiao): Should this persist the current query when going to trace view?\n    return getTraceDetailsUrl(organization, traceId, dateSelection, {});\n  }\n\n  const eventView = EventView.fromSavedQuery({\n    id: undefined,\n    name: `Events with Trace ID ${traceId}`,\n    fields: ['title', 'event.type', 'project', 'trace.span', 'timestamp'],\n    orderby: '-timestamp',\n    query: `trace:${traceId}`,\n    projects: organization.features.includes('global-views')\n      ? [ALL_ACCESS_PROJECTS]\n      : [Number(event.projectID)],\n    version: 2,\n    ...dateSelection,\n  });\n  return eventView.getResultsViewUrlTarget(organization.slug);\n}\n","import type Fuse from 'fuse.js';\n\n// See http://fusejs.io/ for more information\nconst DEFAULT_FUSE_OPTIONS: Fuse.IFuseOptions<any> = {\n  includeScore: true,\n  includeMatches: true,\n  threshold: 0.4,\n  location: 0,\n  distance: 75,\n  minMatchCharLength: 2,\n};\n\nexport async function createFuzzySearch<\n  T = string,\n  Options extends Fuse.IFuseOptions<T> = Fuse.IFuseOptions<T>\n>(objects: T[], options: Options): Promise<Fuse<T>> {\n  if (!options.keys) {\n    throw new Error('You need to define `options.keys`');\n  }\n\n  const fuseImported = await import('fuse.js');\n  const fuse = {Fuse: fuseImported.default};\n\n  return new fuse.Fuse(objects, {\n    ...DEFAULT_FUSE_OPTIONS,\n    ...options,\n  });\n}\n\n// re-export fuse type to make it easier to use\nexport type {Fuse};\n","import {LocationDescriptor, Query} from 'history';\n\nimport {spanTargetHash} from 'sentry/components/events/interfaces/spans/utils';\nimport {Organization} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nexport function getTransactionDetailsUrl(\n  orgSlug: Organization['slug'],\n  eventSlug: string,\n  transaction?: string,\n  query?: Query,\n  spanId?: string\n): LocationDescriptor {\n  const locationQuery = {\n    ...(query || {}),\n    transaction,\n  };\n  if (!defined(locationQuery.transaction)) {\n    delete locationQuery.transaction;\n  }\n\n  const target = {\n    pathname: `/organizations/${orgSlug}/performance/${eventSlug}/`,\n    query: locationQuery,\n    hash: defined(spanId) ? spanTargetHash(spanId) : undefined,\n  };\n  if (!defined(target.hash)) {\n    delete target.hash;\n  }\n\n  return target;\n}\n","export type UserSelectValues = {\n  MozUserSelect: string | null;\n  msUserSelect: string | null;\n  userSelect: string | null;\n  webkitUserSelect: string | null;\n};\n\nexport const setBodyUserSelect = (nextValues: UserSelectValues): UserSelectValues => {\n  // NOTE: Vendor prefixes other than `ms` should begin with a capital letter.\n  // ref: https://reactjs.org/docs/dom-elements.html#style\n\n  const previousValues = {\n    userSelect: document.body.style.userSelect,\n    // MozUserSelect is not typed in TS\n    // @ts-expect-error\n    MozUserSelect: document.body.style.MozUserSelect,\n    // msUserSelect is not typed in TS\n    // @ts-expect-error\n    msUserSelect: document.body.style.msUserSelect,\n    webkitUserSelect: document.body.style.webkitUserSelect,\n  };\n\n  document.body.style.userSelect = nextValues.userSelect || '';\n  // MozUserSelect is not typed in TS\n  // @ts-expect-error\n  document.body.style.MozUserSelect = nextValues.MozUserSelect || '';\n  // msUserSelect is not typed in TS\n  // @ts-expect-error\n  document.body.style.msUserSelect = nextValues.msUserSelect || '';\n  document.body.style.webkitUserSelect = nextValues.webkitUserSelect || '';\n\n  return previousValues;\n};\n","import {Query} from 'history';\n\nimport {SpanSlug} from 'sentry/utils/performance/suspectSpans/types';\n\nexport function generateSpanDetailsRoute({\n  orgSlug,\n  spanSlug,\n}: {\n  orgSlug: String;\n  spanSlug: SpanSlug;\n}): string {\n  const spanComponent = `${encodeURIComponent(spanSlug.op)}:${spanSlug.group}`;\n  return `/organizations/${orgSlug}/performance/summary/spans/${spanComponent}/`;\n}\n\nexport function spanDetailsRouteWithQuery({\n  orgSlug,\n  transaction,\n  query,\n  spanSlug,\n  projectID,\n}: {\n  orgSlug: string;\n  query: Query;\n  spanSlug: SpanSlug;\n  transaction: string;\n  projectID?: string | string[];\n}) {\n  const pathname = generateSpanDetailsRoute({\n    orgSlug,\n    spanSlug,\n  });\n\n  return {\n    pathname,\n    query: {\n      transaction,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n    },\n  };\n}\n\nexport enum ZoomKeys {\n  MIN = 'min',\n  MAX = 'max',\n}\n","import styled from '@emotion/styled';\nimport {LocationDescriptor, Query} from 'history';\n\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport {generateEventSlug} from 'sentry/utils/discover/urls';\nimport {getTransactionDetailsUrl} from 'sentry/utils/performance/urls';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {getTraceDetailsUrl} from 'sentry/views/performance/traceDetails/utils';\n\nimport {DisplayModes} from './transactionOverview/charts';\n\nexport enum TransactionFilterOptions {\n  FASTEST = 'fastest',\n  SLOW = 'slow',\n  OUTLIER = 'outlier',\n  RECENT = 'recent',\n}\n\nexport function generateTransactionSummaryRoute({orgSlug}: {orgSlug: String}): string {\n  return `/organizations/${orgSlug}/performance/summary/`;\n}\n\n// normalizes search conditions by removing any redundant search conditions before presenting them in:\n// - query strings\n// - search UI\nexport function normalizeSearchConditions(query: string): MutableSearch {\n  const filterParams = normalizeSearchConditionsWithTransactionName(query);\n\n  // no need to include transaction as its already in the query params\n  filterParams.removeFilter('transaction');\n\n  return filterParams;\n}\n\n// normalizes search conditions by removing any redundant search conditions, but retains any transaction name\nexport function normalizeSearchConditionsWithTransactionName(\n  query: string\n): MutableSearch {\n  const filterParams = new MutableSearch(query);\n\n  // remove any event.type queries since it is implied to apply to only transactions\n  filterParams.removeFilter('event.type');\n\n  return filterParams;\n}\n\nexport function transactionSummaryRouteWithQuery({\n  orgSlug,\n  transaction,\n  projectID,\n  query,\n  unselectedSeries = 'p100()',\n  display,\n  trendFunction,\n  trendColumn,\n  showTransactions,\n  additionalQuery,\n}: {\n  orgSlug: string;\n  query: Query;\n  transaction: string;\n  additionalQuery?: Record<string, string>;\n  display?: DisplayModes;\n  projectID?: string | string[];\n  showTransactions?: TransactionFilterOptions;\n  trendColumn?: string;\n  trendFunction?: string;\n  unselectedSeries?: string | string[];\n}) {\n  const pathname = generateTransactionSummaryRoute({\n    orgSlug,\n  });\n\n  let searchFilter: typeof query.query;\n  if (typeof query.query === 'string') {\n    searchFilter = normalizeSearchConditions(query.query).formatString();\n  } else {\n    searchFilter = query.query;\n  }\n\n  return {\n    pathname,\n    query: {\n      transaction,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: searchFilter,\n      unselectedSeries,\n      showTransactions,\n      display,\n      trendFunction,\n      trendColumn,\n      ...additionalQuery,\n    },\n  };\n}\n\nexport function generateTraceLink(dateSelection) {\n  return (\n    organization: Organization,\n    tableRow: TableDataRow,\n    _query: Query\n  ): LocationDescriptor => {\n    const traceId = `${tableRow.trace}`;\n    if (!traceId) {\n      return {};\n    }\n\n    return getTraceDetailsUrl(organization, traceId, dateSelection, {});\n  };\n}\n\nexport function generateTransactionLink(transactionName: string) {\n  return (\n    organization: Organization,\n    tableRow: TableDataRow,\n    query: Query,\n    spanId?: string\n  ): LocationDescriptor => {\n    const eventSlug = generateEventSlug(tableRow);\n    return getTransactionDetailsUrl(\n      organization.slug,\n      eventSlug,\n      transactionName,\n      query,\n      spanId\n    );\n  };\n}\n\nexport const SidebarSpacer = styled('div')`\n  margin-top: ${space(3)};\n`;\n"],"names":["iOSDeviceMapping","deviceNameMapper","model","module","identifier","rest","split","modelName","undefined","join","DeviceName","value","children","deviceName","useMemo","DiscoverFeature","noFeatureMessage","t","hookName","features","renderDisabled","p","body","hideHelpToggle","message","featureName","hasFeature","DiscoverButton","buttonProps","disabled","tag","key","meta","streamPath","locationSearch","content","defined","String","err","length","to","pathname","search","iconStyle","EventTagsPill","query","organization","projectId","qs","isRelease","name","getMeta","type","projectSlug","releaseVersion","showUnderline","underlineColor","version","truncate","isUrl","href","className","size","css","AnchorLinkManagerContext","createContext","registerScrollFn","scrollToHash","Provider","Component","Map","hash","this","scrollFns","has","fn","isSpanInGroup","get","setTimeout","set","componentDidMount","location","render","childrenProps","props","Consumer","SpanEntryContext","getViewChildTransactionTarget","CursorGuideManagerContext","showCursorGuide","mouseLeft","traceViewMouseLeft","displayCursorGuide","hideCursorGuide","interactiveLayerRef","current","mousePageX","hasInteractiveLayer","trace","dragProps","interactiveLayer","rect","rectOfContent","traceDuration","traceEndTimestamp","traceStartTimestamp","viewStart","viewWindowStart","viewEnd","viewWindowEnd","viewStartTimestamp","viewDuration","clamp","x","width","duration","Math","abs","start","setState","state","selectRefs","refs","transform","forEach","ref","DividerManagerContext","dividerPosition","onDragStart","setHover","addDividerLineRef","createRef","addGhostDividerLineRef","dividerLineRefs","push","ghostDividerLineRefs","nextHover","isDragging","dividerDOM","classList","add","remove","event","stopPropagation","previousUserSelect","setBodyUserSelect","userSelect","MozUserSelect","msUserSelect","webkitUserSelect","window","addEventListener","onDragMove","onDragEnd","style","backgroundColor","cursor","parentNode","display","rawMouseX","pageX","dividerHandlePosition","dividerHandlePositionString","toPercent","cleanUpListeners","removeEventListener","componentWillUnmount","OtherOperation","Symbol","OpsBreakdown","getTransactionEvent","generateStats","topN","operationNameFilters","traceContext","contexts","spanEntry","entries","find","entry","EntryType","spans","data","rootSpan","op","timestamp","endTimestamp","start_timestamp","startTimestamp","trace_id","span_id","filter","span","operationName","getSpanOperation","operationNames","operationNameIntervals","reduce","intervals","cover","operationNameInterval","Array","isArray","sort","first","second","merged","currentInterval","lastInterval","lastIntervalEnd","currentIntervalStart","currentIntervalEnd","max","mergeInterval","operationNameCoverage","Object","acc","sum","end","sortedOpsBreakdown","firstDuration","secondDuration","breakdown","slice","map","percentage","totalInterval","other","accOther","_operationName","total","operationNameGroup","hideHeader","contents","currOp","isOther","durLabel","round","pctLabel","isFinite","opsColor","pickBarColor","OpsLine","OpsNameContainer","OpsDot","OpsName","OpsContent","Dur","Pct","StyledBreakdownNoHeader","StyledBreakdown","position","containerDisplayMode","title","theme","fontSizeMedium","space","gray300","MeasurementsPanel","generateBounds","measurements","getMeasurements","Container","from","values","verticalMark","mark","marks","bounds","getMeasurementBounds","left","isSpanVisibleInView","vitals","keys","WEB_VITAL_DETAILS","MultiLabelContainer","failedThreshold","LabelContainer","vital","StyledMultiLabelContainer","StyledLabelContainer","Label","isSingleLabel","fontSizeExtraSmall","red300","gray500","white","gray100","borderRadius","elementDOMRef","clientWidth","acronym","TraceViewHeader","minimapWidth","fetchMinimapWidth","componentDidUpdate","minimapInteractiveRef","getBoundingClientRect","renderCursorGuide","cursorGuideHeight","CursorGuide","height","renderViewHandles","onLeftHandleDragStart","leftHandlePosition","onRightHandleDragStart","rightHandlePosition","leftHandleGhost","Handle","onMouseDown","leftHandle","rightHandle","rightHandleGhost","Fragment","renderFog","Fog","renderDurationGuide","top","alignLeft","DurationGuideBox","getHumanDuration","renderTicks","numberOfParts","TickLabel","segment","ticks","currentPart","align","TickAlignment","hideTickMarker","right","progress","renderTimeAxis","TimeAxis","TIME_AXIS_HEIGHT","renderWindowSelection","isWindowSelectionDragging","min","windowSelectionInitial","windowSelectionCurrent","WindowSelection","windowSelectionSize","boundsGenerator","renderSecondaryHeader","hasMeasurements","dividerHandlerChildrenProps","SecondaryHeader","virtualScrollbarRef","scrollBarAreaRef","onScroll","virtualScrollBarContainerRef","HeaderContainer","OperationsBreakdown","MINIMAP_HEIGHT","ActualMinimap","RightSidePane","onMouseEnter","onMouseLeave","onMouseMove","target","Element","getAttribute","onWindowSelectionDragStart","MinimapContainer","PureComponent","renderRootSpan","payload","i","spanBarColor","spanLeft","spanWidth","getBounds","MinimapSpanBar","spanSiblingGrouping","MinimapSiblingGroupBar","index","minWidth","MinimapBackground","BackgroundSlider","id","border","background","TickLabelContainer","TickText","Error","TickMarker","gray200","ConfigStore","demo","headerSize","zIndex","traceView","minimapContainer","MINIMAP_CONTAINER_HEIGHT","ViewHandleContainer","ViewHandleLine","VIEW_HANDLE_HEIGHT","textColor","ViewHandle","backgroundSecondary","ScrollbarManagerContext","generateContentSpanBarRef","onWheel","updateScrollState","markSpanOutOfView","markSpanInView","storeSpanBar","Set","element","document","contains","lerp","needle","maxContentWidth","SpansInViewMap","contentSpanBar","spanBarDOM","removeProperty","currentMaxWidth","currentSpanBar","isHidden","offsetParent","maybeMaxWidth","scrollWidth","maxWidth","overflow","scrollBarArea","interactiveLayerRefDOM","scrollLeft","getReferenceSpanBar","syncVirtualScrollbar","spansInView","getScrollVal","performScroll","spanBar","virtualScrollbar","virtualScrollbarDOM","visibleWidth","virtualScrollbarWidth","previousInstance","instance","delete","isAnimated","startAnimation","interactiveLayerRect","scrollBarAreaDOM","scrollBarAreaRect","virtualScrollbarPosition","maxVirtualScrollableArea","virtualLeft","transformOrigin","throttle","trailing","deltaX","disableAnimation","isWheeling","wheelTimeout","clearTimeout","maxScrollLeft","virtualScrollbarRect","initialMouseClickX","clientX","scrollbarDOM","setProperty","virtualScrollBarRect","virtualScrollPercentage","maxScrollDistance","spanId","removeSpan","throttledScroll","treeDepth","addSpan","spanBars","initializeScrollState","isRootSpanInView","anchoredSpanId","replace","spanTargetHash","anchorCheckInterval","setInterval","connectObservers","clearInterval","prevProps","dividerPositionChanged","viewWindowChanged","transition","animationTimeout","withScrollbarManager","WrappedComponent","context","getDisplayName","InlineDocs","loading","html","link","async","platform","api","orgSlug","tracingPlatform","loadDocs","error","Sentry","fetchData","DocumentationWrapper","dangerouslySetInnerHTML","__html","tct","docLink","withApi","SIZE_DATA_KEYS","SpanDetail","errorsOpened","renderTraversalButton","childTransactions","StyledDiscoverButton","StyledLoadingIndicator","assert","isGapSpan","orgFeatures","getTraceDateTimeRange","childrenEventView","EventView","fields","orderby","projects","ALL_ACCESS_PROJECTS","Number","projectID","getResultsViewUrlTarget","slug","renderSpanChild","childTransaction","transactionResult","project_slug","transaction","event_id","eventSlug","result","generateEventSlug","viewChildButton","transactionSummaryRouteWithQuery","omit","PAGE_URL_PARAM","project_id","ButtonGroup","StyledButton","Row","extra","renderTraceButton","generateTraceTarget","renderViewSimilarSpansButton","transactionName","spanDetailsRouteWithQuery","spanSlug","group","renderOrphanSpanMessage","isOrphanSpan","showIcon","system","renderSpanErrorMessage","relatedErrors","visibleErrors","tn","level","generateIssueEventTarget","ErrorToggle","onClick","toggleErrors","partitionSizes","sizeKeys","hasOwnProperty","nonSizeKeys","renderSpanDetails","SpanDetails","sdk","durationString","toFixed","toLocaleString","unknownKeys","rawSpanKeys","allZeroSizes","every","SpanIdTitle","scrollToSpan","StyledIconAnchor","parent_span_id","description","status","getDynamicText","fixed","date","same_process_as_parent","exclusive_time","Tags","TextTr","bytes","JSON","stringify","SpanDetailContainer","Button","ValueTd","LoadingIndicator","StyledText","IconAnchor","keep","ValueRow","StyledPre","ButtonContainer","tags","padding","surface100","withRouter","GroupType","FileSize","Span","formatBytesBase2","MessageRow","ROW_HEIGHT","fontSizeSmall","rowInfoMessage","DividerSpacer","ScrollbarContainer","MINI_HEADER_HEIGHT","VirtualScrollbar","VirtualScrollbarGrip","visible","showBorder","RowCellContainer","showDetail","RowCell","getBackgroundColor","ErrorMessageTitle","ErrorMessageContent","ErrorDot","ErrorLevel","ErrorTitle","overflowEllipsis","DividerContainer","DividerLine","dividerLine","DividerLineGhostContainer","BadgeBorder","borderColor","ErrorBadge","color","EmbeddedTransactionBadge","expanded","preventDefault","RowTitleContainer","RowTitle","RowTitleContent","errored","SpanGroupRowTitleContent","linkColor","Pill","memo","valueType","renderValue","getTypeAndValue","StyledPill","PillName","PillValue","getPillStyle","red100","getPillValueStyle","green100","green300","text","familyMono","button","dropShadowLightest","isQuickTraceEvent","issue_id","generateDiscoverEventTarget","project","newLocation","eventDetailsRouteWithEventView","eventView","generateSingleErrorTarget","destination","generateSingleTransactionTarget","getTransactionDetailsUrl","generatePerformanceEventTarget","traceId","dateSelection","normalizeDateTimeParams","getTraceTimeRangeFromEvent","includes","getTraceDetailsUrl","DEFAULT_FUSE_OPTIONS","includeScore","includeMatches","threshold","distance","minMatchCharLength","createFuzzySearch","objects","options","default","locationQuery","nextValues","previousValues","encodeURIComponent","generateSpanDetailsRoute","environment","statsPeriod","ZoomKeys","TransactionFilterOptions","normalizeSearchConditions","filterParams","normalizeSearchConditionsWithTransactionName","removeFilter","MutableSearch","unselectedSeries","trendFunction","trendColumn","showTransactions","additionalQuery","generateTransactionSummaryRoute","searchFilter","formatString","generateTraceLink","tableRow","_query","generateTransactionLink","SidebarSpacer"],"sourceRoot":""}