{"version":3,"file":"chunks/app_views_releases_detail_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/release.tsx","webpack:///./app/actions/releaseActions.tsx","webpack:///./app/components/links/listLink.tsx","webpack:///./app/components/navigationButtonGroup.tsx","webpack:///./app/stores/releaseStore.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/utils/sessions.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/components/pickProjectToContinue.tsx","webpack:///./app/views/releases/detail/header/releaseActions.tsx","webpack:///./app/views/releases/detail/header/releaseHeader.tsx","webpack:///./app/views/releases/detail/index.tsx","webpack:///./app/views/releases/utils/index.tsx","webpack:///./app/views/releases/utils/sessionTerm.tsx"],"sourcesContent":["import * as Sentry from '@sentry/react';\n\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'sentry/actionCreators/indicator';\nimport ReleaseActions from 'sentry/actions/releaseActions';\nimport {Client} from 'sentry/api';\nimport {t} from 'sentry/locale';\nimport ReleaseStore, {getReleaseStoreKey} from 'sentry/stores/releaseStore';\nimport {Deploy, Release, ReleaseStatus} from 'sentry/types';\n\ntype ParamsGet = {\n  orgSlug: string;\n  projectSlug: string;\n  releaseVersion: string;\n};\n\nexport function getProjectRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n  const path = `/projects/${orgSlug}/${projectSlug}/releases/${encodeURIComponent(\n    releaseVersion\n  )}/`;\n  // HACK(leedongwei): Actions fired by the ActionCreators are queued to\n  // the back of the event loop, allowing another getRelease for the same\n  // release to be fired before the loading state is updated in store.\n  // This hack short-circuits that and update the state immediately.\n  ReleaseStore.state.releaseLoading[getReleaseStoreKey(projectSlug, releaseVersion)] =\n    true;\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, res);\n    })\n    .catch(err => {\n      // This happens when a Project is not linked to a specific Release\n      if (err.status === 404) {\n        ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, null);\n        return;\n      }\n\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, err);\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        scope.setFingerprint(['getRelease-action-creator']);\n        Sentry.captureException(err);\n      });\n    });\n}\n\nexport function getReleaseDeploys(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n  const path = `/organizations/${orgSlug}/releases/${encodeURIComponent(\n    releaseVersion\n  )}/deploys/`;\n\n  // HACK(leedongwei): Same as above\n  ReleaseStore.state.deploysLoading[getReleaseStoreKey(projectSlug, releaseVersion)] =\n    true;\n  ReleaseActions.loadDeploys(orgSlug, projectSlug, releaseVersion);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: Deploy[]) => {\n      ReleaseActions.loadDeploysSuccess(projectSlug, releaseVersion, res);\n    })\n    .catch(err => {\n      // This happens when a Project is not linked to a specific Release\n      if (err.status === 404) {\n        ReleaseActions.loadDeploysSuccess(projectSlug, releaseVersion, null);\n        return;\n      }\n\n      ReleaseActions.loadDeploysError(projectSlug, releaseVersion, err);\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        scope.setFingerprint(['getReleaseDeploys-action-creator']);\n        Sentry.captureException(err);\n      });\n    });\n}\n\nexport function archiveRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n  addLoadingMessage(t('Archiving Release\\u2026'));\n\n  return api\n    .requestPromise(`/organizations/${orgSlug}/releases/`, {\n      method: 'POST',\n      data: {\n        status: ReleaseStatus.Archived,\n        projects: [],\n        version: releaseVersion,\n      },\n    })\n    .then((release: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, release);\n      addSuccessMessage(t('Release was successfully archived.'));\n    })\n    .catch(error => {\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, error);\n      addErrorMessage(\n        error.responseJSON?.detail ?? t('Release could not be be archived.')\n      );\n      throw error;\n    });\n}\n\nexport function restoreRelease(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, releaseVersion} = params;\n\n  ReleaseActions.loadRelease(orgSlug, projectSlug, releaseVersion);\n  addLoadingMessage(t('Restoring Release\\u2026'));\n\n  return api\n    .requestPromise(`/organizations/${orgSlug}/releases/`, {\n      method: 'POST',\n      data: {\n        status: ReleaseStatus.Active,\n        projects: [],\n        version: releaseVersion,\n      },\n    })\n    .then((release: Release) => {\n      ReleaseActions.loadReleaseSuccess(projectSlug, releaseVersion, release);\n      addSuccessMessage(t('Release was successfully restored.'));\n    })\n    .catch(error => {\n      ReleaseActions.loadReleaseError(projectSlug, releaseVersion, error);\n      addErrorMessage(\n        error.responseJSON?.detail ?? t('Release could not be be restored.')\n      );\n      throw error;\n    });\n}\n","import {createActions} from 'reflux';\n\nconst ReleaseActions = createActions([\n  'loadRelease', // Singular as it loads 1 release\n  'loadReleaseError',\n  'loadReleaseSuccess',\n  'loadDeploys', // Plural as it loads all deploys related to a release\n  'loadDeploysError',\n  'loadDeploysSuccess',\n]);\n\nexport default ReleaseActions;\n","import {Component} from 'react';\nimport {Link as RouterLink, withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport classNames from 'classnames';\nimport {LocationDescriptor} from 'history';\nimport omit from 'lodash/omit';\nimport * as qs from 'query-string';\n\ntype DefaultProps = {\n  activeClassName: string;\n  disabled: boolean;\n  index: boolean;\n};\n\ntype LinkProps = Omit<React.ComponentProps<typeof RouterLink>, 'to'>;\n\ntype Props = WithRouterProps &\n  Partial<DefaultProps> &\n  LinkProps & {\n    /**\n     * Link target. We don't want to expose the ToLocationFunction on this component.\n     */\n    to: LocationDescriptor;\n    // If supplied by parent component, decides whether link element\n    // is \"active\" or not ... overriding default behavior of strict\n    // route matching\n    isActive?: (location: LocationDescriptor, indexOnly?: boolean) => boolean;\n    query?: string;\n  };\n\nclass ListLink extends Component<Props> {\n  static displayName = 'ListLink';\n\n  static defaultProps: DefaultProps = {\n    activeClassName: 'active',\n    index: false,\n    disabled: false,\n  };\n\n  isActive() {\n    const {isActive, to, query, index, router} = this.props;\n    const queryData = query ? qs.parse(query) : undefined;\n    const target: LocationDescriptor =\n      typeof to === 'string' ? {pathname: to, query: queryData} : to;\n\n    if (typeof isActive === 'function') {\n      return isActive(target, index);\n    }\n\n    return router.isActive(target, index);\n  }\n\n  getClassName = () => {\n    const _classNames = {};\n    const {className, activeClassName} = this.props;\n\n    if (className) {\n      _classNames[className] = true;\n    }\n\n    if (this.isActive() && activeClassName) {\n      _classNames[activeClassName] = true;\n    }\n\n    return classNames(_classNames);\n  };\n\n  render() {\n    const {index, children, to, disabled, ...props} = this.props;\n    const carriedProps = omit(\n      props,\n      'activeClassName',\n      'css',\n      'isActive',\n      'index',\n      'router',\n      'location'\n    );\n\n    return (\n      <StyledLi className={this.getClassName()} disabled={disabled}>\n        <RouterLink {...carriedProps} onlyActiveOnIndex={index} to={disabled ? '' : to}>\n          {children}\n        </RouterLink>\n      </StyledLi>\n    );\n  }\n}\n\nexport default withRouter(ListLink);\n\nconst StyledLi = styled('li', {\n  shouldForwardProp: prop => prop !== 'disabled',\n})<{disabled?: boolean}>`\n  ${p =>\n    p.disabled &&\n    `\n   a {\n    color:${p.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${p.theme.disabled}  !important;\n    }\n   }\n`}\n`;\n","import {LocationDescriptor} from 'history';\n\nimport Button, {ButtonProps} from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport {IconNext, IconPrevious} from 'sentry/icons';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  /**\n   * A set of LocationDescriptors that will be used in the buttons in the following order:\n   * [Oldest, Older, Newer, Newest]\n   */\n  links: [LocationDescriptor, LocationDescriptor, LocationDescriptor, LocationDescriptor];\n  className?: string;\n  hasNext?: boolean;\n  hasPrevious?: boolean;\n  onNewerClick?: () => void;\n  onNewestClick?: () => void;\n  onOlderClick?: () => void;\n  onOldestClick?: () => void;\n  size?: ButtonProps['size'];\n};\n\nconst NavigationButtonGroup = ({\n  links,\n  hasNext = false,\n  hasPrevious = false,\n  className,\n  size,\n  onOldestClick,\n  onOlderClick,\n  onNewerClick,\n  onNewestClick,\n}: Props) => {\n  return (\n    <ButtonBar className={className} merged>\n      <Button\n        size={size}\n        to={links[0]}\n        disabled={!hasPrevious}\n        aria-label={t('Oldest')}\n        icon={<IconPrevious size=\"xs\" />}\n        onClick={onOldestClick}\n      />\n      <Button size={size} to={links[1]} disabled={!hasPrevious} onClick={onOlderClick}>\n        {t('Older')}\n      </Button>\n      <Button size={size} to={links[2]} disabled={!hasNext} onClick={onNewerClick}>\n        {t('Newer')}\n      </Button>\n      <Button\n        size={size}\n        to={links[3]}\n        disabled={!hasNext}\n        aria-label={t('Newest')}\n        icon={<IconNext size=\"xs\" />}\n        onClick={onNewestClick}\n      />\n    </ButtonBar>\n  );\n};\n\nexport default NavigationButtonGroup;\n","import {createStore, StoreDefinition} from 'reflux';\n\nimport OrganizationActions from 'sentry/actions/organizationActions';\nimport ReleaseActions from 'sentry/actions/releaseActions';\nimport {Deploy, Organization, Release} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\ntype StoreRelease = Map<string, Release>;\ntype StoreDeploys = Map<string, Array<Deploy>>;\ntype StoreLoading = Map<string, boolean>;\ntype StoreError = Map<string, Error>;\n\ninterface ReleaseStoreDefinition extends StoreDefinition {\n  get(\n    projectSlug: string,\n    releaseVersion: string\n  ): {\n    deploys: Array<Deploy> | undefined;\n    deploysError: Error | undefined;\n    deploysLoading: boolean | undefined;\n    release: Release | undefined;\n    releaseError: Error | undefined;\n    releaseLoading: boolean | undefined;\n  };\n\n  loadDeploys(orgSlug: string, projectSlug: string, releaseVersion: string): void;\n\n  loadDeploysError(projectSlug: string, releaseVersion: string, error: Error): void;\n  loadDeploysSuccess(projectSlug: string, releaseVersion: string, data: Release): void;\n  loadRelease(orgSlug: string, projectSlug: string, releaseVersion: string): void;\n  loadReleaseError(projectSlug: string, releaseVersion: string, error: Error): void;\n  loadReleaseSuccess(projectSlug: string, releaseVersion: string, data: Release): void;\n  state: {\n    deploys: StoreDeploys;\n    deploysError: StoreError;\n    deploysLoading: StoreLoading;\n    orgSlug: string | undefined;\n    release: StoreRelease;\n    releaseError: StoreError;\n    releaseLoading: StoreLoading;\n  };\n  updateOrganization(org: Organization): void;\n}\n\nexport const getReleaseStoreKey = (projectSlug: string, releaseVersion: string) =>\n  `${projectSlug}${releaseVersion}`;\n\nconst storeConfig: ReleaseStoreDefinition = {\n  state: {\n    orgSlug: undefined,\n    release: new Map() as StoreRelease,\n    releaseLoading: new Map() as StoreLoading,\n    releaseError: new Map() as StoreError,\n    deploys: new Map() as StoreDeploys,\n    deploysLoading: new Map() as StoreLoading,\n    deploysError: new Map() as StoreError,\n  },\n\n  listenables: ReleaseActions,\n  unsubscribeListeners: [],\n\n  init() {\n    this.unsubscribeListeners.push(\n      this.listenTo(OrganizationActions.update, this.updateOrganization)\n    );\n    this.reset();\n  },\n\n  reset() {\n    this.state = {\n      orgSlug: undefined,\n      release: new Map() as StoreRelease,\n      releaseLoading: new Map() as StoreLoading,\n      releaseError: new Map() as StoreError,\n      deploys: new Map() as StoreDeploys,\n      deploysLoading: new Map() as StoreLoading,\n      deploysError: new Map() as StoreError,\n    };\n    this.trigger(this.state);\n  },\n\n  updateOrganization(org: Organization) {\n    this.reset();\n    this.state.orgSlug = org.slug;\n    this.trigger(this.state);\n  },\n\n  loadRelease(orgSlug: string, projectSlug: string, releaseVersion: string) {\n    // Wipe entire store if the user switched organizations\n    if (!this.orgSlug || this.orgSlug !== orgSlug) {\n      this.reset();\n      this.orgSlug = orgSlug;\n    }\n\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {releaseLoading, releaseError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: true,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadReleaseError(projectSlug: string, releaseVersion: string, error: Error) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {releaseLoading, releaseError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: false,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: error,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadReleaseSuccess(projectSlug: string, releaseVersion: string, data: Release) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {release, releaseLoading, releaseError, ...state} = this.state;\n    this.state = {\n      ...state,\n      release: {\n        ...release,\n        [releaseKey]: data,\n      },\n      releaseLoading: {\n        ...releaseLoading,\n        [releaseKey]: false,\n      },\n      releaseError: {\n        ...releaseError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploys(orgSlug: string, projectSlug: string, releaseVersion: string) {\n    // Wipe entire store if the user switched organizations\n    if (!this.orgSlug || this.orgSlug !== orgSlug) {\n      this.reset();\n      this.orgSlug = orgSlug;\n    }\n\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: true,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploysError(projectSlug: string, releaseVersion: string, error: Error) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: false,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: error,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  loadDeploysSuccess(projectSlug: string, releaseVersion: string, data: Release) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n    const {deploys, deploysLoading, deploysError, ...state} = this.state;\n\n    this.state = {\n      ...state,\n      deploys: {\n        ...deploys,\n        [releaseKey]: data,\n      },\n      deploysLoading: {\n        ...deploysLoading,\n        [releaseKey]: false,\n      },\n      deploysError: {\n        ...deploysError,\n        [releaseKey]: undefined,\n      },\n    };\n    this.trigger(this.state);\n  },\n\n  get(projectSlug: string, releaseVersion: string) {\n    const releaseKey = getReleaseStoreKey(projectSlug, releaseVersion);\n\n    return {\n      release: this.state.release[releaseKey],\n      releaseLoading: this.state.releaseLoading[releaseKey],\n      releaseError: this.state.releaseError[releaseKey],\n      deploys: this.state.deploys[releaseKey],\n      deploysLoading: this.state.deploysLoading[releaseKey],\n      deploysError: this.state.deploysError[releaseKey],\n    };\n  },\n};\n\nconst ReleaseStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default ReleaseStore;\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import compact from 'lodash/compact';\nimport mean from 'lodash/mean';\nimport moment from 'moment';\n\nimport {\n  DateTimeObject,\n  getDiffInMinutes,\n  SIX_HOURS,\n  SIXTY_DAYS,\n  THIRTY_DAYS,\n} from 'sentry/components/charts/utils';\nimport {SessionApiResponse, SessionFieldWithOperation, SessionStatus} from 'sentry/types';\nimport {SeriesDataUnit} from 'sentry/types/echarts';\nimport {defined, percent} from 'sentry/utils';\nimport {Theme} from 'sentry/utils/theme';\nimport {getCrashFreePercent, getSessionStatusPercent} from 'sentry/views/releases/utils';\nimport {sessionTerm} from 'sentry/views/releases/utils/sessionTerm';\n\n/**\n * If the time window is less than or equal 10, seconds will be displayed on the graphs\n */\nexport const MINUTES_THRESHOLD_TO_DISPLAY_SECONDS = 10;\n\nexport function getCount(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation\n) {\n  return groups.reduce((acc, group) => acc + group.totals[field], 0);\n}\n\nexport function getCountAtIndex(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation,\n  index: number\n) {\n  return groups.reduce((acc, group) => acc + group.series[field][index], 0);\n}\n\nexport function getCrashFreeRate(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation\n) {\n  const crashedRate = getSessionStatusRate(groups, field, SessionStatus.CRASHED);\n\n  return defined(crashedRate) ? getCrashFreePercent(100 - crashedRate) : null;\n}\n\nexport function getSeriesAverage(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation\n) {\n  const totalCount = getCount(groups, field);\n\n  const dataPoints = groups.filter(group => !!group.totals[field]).length;\n\n  return !defined(totalCount) || dataPoints === null || totalCount === 0\n    ? null\n    : totalCount / dataPoints;\n}\n\nexport function getSeriesSum(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation,\n  intervals: SessionApiResponse['intervals'] = []\n) {\n  const dataPointsSums: number[] = Array(intervals.length).fill(0);\n  const groupSeries = groups.map(group => group.series[field]);\n\n  groupSeries.forEach(series => {\n    series.forEach((dataPoint, idx) => (dataPointsSums[idx] += dataPoint));\n  });\n\n  return dataPointsSums;\n}\n\nexport function getSessionStatusRate(\n  groups: SessionApiResponse['groups'] = [],\n  field: SessionFieldWithOperation,\n  status: SessionStatus\n) {\n  const totalCount = getCount(groups, field);\n\n  const crashedCount = getCount(\n    groups.filter(({by}) => by['session.status'] === status),\n    field\n  );\n\n  return !defined(totalCount) || totalCount === 0\n    ? null\n    : percent(crashedCount ?? 0, totalCount ?? 0);\n}\n\nexport function getCrashFreeRateSeries(\n  groups: SessionApiResponse['groups'] = [],\n  intervals: SessionApiResponse['intervals'] = [],\n  field: SessionFieldWithOperation\n): SeriesDataUnit[] {\n  return compact(\n    intervals.map((interval, i) => {\n      const intervalTotalSessions = groups.reduce(\n        (acc, group) => acc + (group.series[field]?.[i] ?? 0),\n        0\n      );\n\n      const intervalCrashedSessions =\n        groups.find(group => group.by['session.status'] === SessionStatus.CRASHED)\n          ?.series[field]?.[i] ?? 0;\n\n      const crashedSessionsPercent = percent(\n        intervalCrashedSessions,\n        intervalTotalSessions\n      );\n\n      if (intervalTotalSessions === 0) {\n        return null;\n      }\n\n      return {\n        name: interval,\n        value: getCrashFreePercent(100 - crashedSessionsPercent),\n      };\n    })\n  );\n}\n\nexport function getSessionStatusRateSeries(\n  groups: SessionApiResponse['groups'] = [],\n  intervals: SessionApiResponse['intervals'] = [],\n  field: SessionFieldWithOperation,\n  status: SessionStatus\n): SeriesDataUnit[] {\n  return compact(\n    intervals.map((interval, i) => {\n      const intervalTotalSessions = groups.reduce(\n        (acc, group) => acc + group.series[field][i],\n        0\n      );\n\n      const intervalStatusSessions =\n        groups.find(group => group.by['session.status'] === status)?.series[field][i] ??\n        0;\n\n      const statusSessionsPercent = percent(\n        intervalStatusSessions,\n        intervalTotalSessions\n      );\n\n      if (intervalTotalSessions === 0) {\n        return null;\n      }\n\n      return {\n        name: interval,\n        value: getSessionStatusPercent(statusSessionsPercent),\n      };\n    })\n  );\n}\n\nexport function getSessionP50Series(\n  groups: SessionApiResponse['groups'] = [],\n  intervals: SessionApiResponse['intervals'] = [],\n  field: SessionFieldWithOperation,\n  valueFormatter?: (value: number) => number\n): SeriesDataUnit[] {\n  return compact(\n    intervals.map((interval, i) => {\n      const meanValue = mean(\n        groups.map(group => group.series[field][i]).filter(v => !!v)\n      );\n\n      if (!meanValue) {\n        return null;\n      }\n\n      return {\n        name: interval,\n        value:\n          typeof valueFormatter === 'function' ? valueFormatter(meanValue) : meanValue,\n      };\n    })\n  );\n}\n\nexport function getAdoptionSeries(\n  releaseGroups: SessionApiResponse['groups'] = [],\n  allGroups: SessionApiResponse['groups'] = [],\n  intervals: SessionApiResponse['intervals'] = [],\n  field: SessionFieldWithOperation\n): SeriesDataUnit[] {\n  return intervals.map((interval, i) => {\n    const intervalReleaseSessions = releaseGroups.reduce(\n      (acc, group) => acc + (group.series[field]?.[i] ?? 0),\n      0\n    );\n    const intervalTotalSessions = allGroups.reduce(\n      (acc, group) => acc + (group.series[field]?.[i] ?? 0),\n      0\n    );\n\n    const intervalAdoption = percent(intervalReleaseSessions, intervalTotalSessions);\n\n    return {\n      name: interval,\n      value: Math.round(intervalAdoption),\n    };\n  });\n}\n\nexport function getCountSeries(\n  field: SessionFieldWithOperation,\n  group?: SessionApiResponse['groups'][0],\n  intervals: SessionApiResponse['intervals'] = []\n): SeriesDataUnit[] {\n  return intervals.map((interval, index) => ({\n    name: interval,\n    value: group?.series[field][index] ?? 0,\n  }));\n}\n\nexport function initSessionsChart(theme: Theme) {\n  const colors = theme.charts.getColorPalette(14);\n  return {\n    [SessionStatus.HEALTHY]: {\n      seriesName: sessionTerm.healthy,\n      data: [],\n      color: theme.green300,\n      areaStyle: {\n        color: theme.green300,\n        opacity: 1,\n      },\n      lineStyle: {\n        opacity: 0,\n        width: 0.4,\n      },\n    },\n    [SessionStatus.ERRORED]: {\n      seriesName: sessionTerm.errored,\n      data: [],\n      color: colors[12],\n      areaStyle: {\n        color: colors[12],\n        opacity: 1,\n      },\n      lineStyle: {\n        opacity: 0,\n        width: 0.4,\n      },\n    },\n    [SessionStatus.ABNORMAL]: {\n      seriesName: sessionTerm.abnormal,\n      data: [],\n      color: colors[15],\n      areaStyle: {\n        color: colors[15],\n        opacity: 1,\n      },\n      lineStyle: {\n        opacity: 0,\n        width: 0.4,\n      },\n    },\n    [SessionStatus.CRASHED]: {\n      seriesName: sessionTerm.crashed,\n      data: [],\n      color: theme.red300,\n      areaStyle: {\n        color: theme.red300,\n        opacity: 1,\n      },\n      lineStyle: {\n        opacity: 0,\n        width: 0.4,\n      },\n    },\n  };\n}\n\ntype GetSessionsIntervalOptions = {\n  highFidelity?: boolean;\n};\n\nexport function getSessionsInterval(\n  datetimeObj: DateTimeObject,\n  {highFidelity}: GetSessionsIntervalOptions = {}\n) {\n  const diffInMinutes = getDiffInMinutes(datetimeObj);\n\n  if (moment(datetimeObj.start).isSameOrBefore(moment().subtract(30, 'days'))) {\n    // we cannot use sub-hour session resolution on buckets older than 30 days\n    highFidelity = false;\n  }\n\n  if (diffInMinutes >= SIXTY_DAYS) {\n    return '1d';\n  }\n\n  if (diffInMinutes >= THIRTY_DAYS) {\n    return '4h';\n  }\n\n  if (diffInMinutes >= SIX_HOURS) {\n    return '1h';\n  }\n\n  // limit on backend for sub-hour session resolution is set to six hours\n  if (highFidelity) {\n    if (diffInMinutes <= MINUTES_THRESHOLD_TO_DISPLAY_SECONDS) {\n      // This only works for metrics-based session stats.\n      // Backend will silently replace with '1m' for session-based stats.\n      return '10s';\n    }\n\n    if (diffInMinutes <= 30) {\n      return '1m';\n    }\n\n    return '5m';\n  }\n\n  return '1h';\n}\n\n// Sessions API can only round intervals to the closest hour - this is especially problematic when using sub-hour resolution.\n// We filter out results that are out of bounds on frontend and recalculate totals.\nexport function filterSessionsInTimeWindow(\n  sessions: SessionApiResponse,\n  start?: string,\n  end?: string\n) {\n  if (!start || !end) {\n    return sessions;\n  }\n\n  const filteredIndexes: number[] = [];\n\n  const intervals = sessions.intervals.filter((interval, index) => {\n    const isBetween = moment\n      .utc(interval)\n      .isBetween(moment.utc(start), moment.utc(end), undefined, '[]');\n    if (isBetween) {\n      filteredIndexes.push(index);\n    }\n\n    return isBetween;\n  });\n\n  const groups = sessions.groups.map(group => {\n    const series = {};\n    const totals = {};\n    Object.keys(group.series).forEach(field => {\n      totals[field] = 0;\n      series[field] = group.series[field].filter((value, index) => {\n        const isBetween = filteredIndexes.includes(index);\n        if (isBetween) {\n          totals[field] = (totals[field] ?? 0) + value;\n        }\n\n        return isBetween;\n      });\n      if (field.startsWith('p50')) {\n        totals[field] = mean(series[field]);\n      }\n      if (field.startsWith('count_unique')) {\n        /* E.g. users\n        We cannot sum here because users would not be unique anymore.\n        User can be repeated and part of multiple buckets in series but it's still that one user so totals would be wrong.\n        This operation is not 100% correct, because we are filtering series in time window but the total is for unfiltered series (it's the closest thing we can do right now) */\n        totals[field] = group.totals[field];\n      }\n    });\n    return {...group, series, totals};\n  });\n\n  return {\n    start: intervals[0],\n    end: intervals[intervals.length - 1],\n    query: sessions.query,\n    intervals,\n    groups,\n  };\n}\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {InjectedRouter} from 'react-router';\nimport styled from '@emotion/styled';\nimport {LocationDescriptor, LocationDescriptorObject} from 'history';\n\nimport {openModal} from 'sentry/actionCreators/modal';\nimport ContextPickerModal from 'sentry/components/contextPickerModal';\n\ntype Project = {\n  id: string;\n  slug: string;\n};\n\ntype Props = {\n  /**\n   * Path used on the redirect router if the user did select a project\n   */\n  nextPath: Pick<LocationDescriptorObject, 'query'> & {\n    pathname: NonNullable<LocationDescriptorObject['pathname']>;\n  };\n  /**\n   * Path used on the redirect router if the user did not select a project\n   */\n  noProjectRedirectPath: LocationDescriptor;\n  projects: Project[];\n  router: InjectedRouter;\n};\n\nfunction PickProjectToContinue({\n  noProjectRedirectPath,\n  nextPath,\n  router,\n  projects,\n}: Props) {\n  const nextPathQuery = nextPath.query;\n  let navigating = false;\n  let path = `${nextPath.pathname}?project=`;\n\n  if (nextPathQuery) {\n    const filteredQuery = Object.entries(nextPathQuery)\n      .filter(([key, _value]) => key !== 'project')\n      .map(([key, value]) => `${key}=${value}`);\n\n    const newPathQuery = [...filteredQuery, 'project='].join('&');\n\n    path = `${nextPath.pathname}?${newPathQuery}`;\n  }\n\n  // if the project in URL is missing, but this release belongs to only one project, redirect there\n  if (projects.length === 1) {\n    router.replace(path + projects[0].id);\n    return null;\n  }\n\n  openModal(\n    modalProps => (\n      <ContextPickerModal\n        {...modalProps}\n        needOrg={false}\n        needProject\n        nextPath={`${path}:project`}\n        onFinish={pathname => {\n          navigating = true;\n          router.replace(pathname);\n        }}\n        projectSlugs={projects.map(p => p.slug)}\n      />\n    ),\n    {\n      onClose() {\n        // we want this to be executed only if the user didn't select any project\n        // (closed modal either via button, Esc, clicking outside, ...)\n        if (!navigating) {\n          router.push(noProjectRedirectPath);\n        }\n      },\n    }\n  );\n\n  return <ContextPickerBackground />;\n}\n\nconst ContextPickerBackground = styled('div')`\n  height: 100vh;\n  width: 100%;\n`;\n\nexport default PickProjectToContinue;\n","import {Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {archiveRelease, restoreRelease} from 'sentry/actionCreators/release';\nimport {Client} from 'sentry/api';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport {openConfirmModal} from 'sentry/components/confirm';\nimport DropdownMenuControlV2 from 'sentry/components/dropdownMenuControlV2';\nimport ProjectBadge from 'sentry/components/idBadge/projectBadge';\nimport NavigationButtonGroup from 'sentry/components/navigationButtonGroup';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconEllipsis} from 'sentry/icons';\nimport {t, tct, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, Release, ReleaseMeta} from 'sentry/types';\nimport {trackAnalyticsEvent} from 'sentry/utils/analytics';\nimport {formatVersion} from 'sentry/utils/formatters';\n\nimport {isReleaseArchived} from '../../utils';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  projectSlug: string;\n  refetchData: () => void;\n  release: Release;\n  releaseMeta: ReleaseMeta;\n};\n\nfunction ReleaseActions({\n  location,\n  organization,\n  projectSlug,\n  release,\n  releaseMeta,\n  refetchData,\n}: Props) {\n  async function handleArchive() {\n    try {\n      await archiveRelease(new Client(), {\n        orgSlug: organization.slug,\n        projectSlug,\n        releaseVersion: release.version,\n      });\n      browserHistory.push(`/organizations/${organization.slug}/releases/`);\n    } catch {\n      // do nothing, action creator is already displaying error message\n    }\n  }\n\n  async function handleRestore() {\n    try {\n      await restoreRelease(new Client(), {\n        orgSlug: organization.slug,\n        projectSlug,\n        releaseVersion: release.version,\n      });\n      refetchData();\n    } catch {\n      // do nothing, action creator is already displaying error message\n    }\n  }\n\n  function getProjectList() {\n    const maxVisibleProjects = 5;\n    const visibleProjects = releaseMeta.projects.slice(0, maxVisibleProjects);\n    const numberOfCollapsedProjects =\n      releaseMeta.projects.length - visibleProjects.length;\n\n    return (\n      <Fragment>\n        {visibleProjects.map(project => (\n          <ProjectBadge key={project.slug} project={project} avatarSize={18} />\n        ))}\n        {numberOfCollapsedProjects > 0 && (\n          <span>\n            <Tooltip\n              title={release.projects\n                .slice(maxVisibleProjects)\n                .map(p => p.slug)\n                .join(', ')}\n            >\n              + {tn('%s other project', '%s other projects', numberOfCollapsedProjects)}\n            </Tooltip>\n          </span>\n        )}\n      </Fragment>\n    );\n  }\n\n  function getModalHeader(title: React.ReactNode) {\n    return (\n      <h4>\n        <TextOverflow>{title}</TextOverflow>\n      </h4>\n    );\n  }\n\n  function getModalMessage(message: React.ReactNode) {\n    return (\n      <Fragment>\n        {message}\n\n        <ProjectsWrapper>{getProjectList()}</ProjectsWrapper>\n\n        {t('Are you sure you want to do this?')}\n      </Fragment>\n    );\n  }\n\n  function replaceReleaseUrl(toRelease: string | null) {\n    return toRelease\n      ? {\n          pathname: location.pathname\n            .replace(encodeURIComponent(release.version), toRelease)\n            .replace(release.version, toRelease),\n          query: {...location.query, activeRepo: undefined},\n        }\n      : '';\n  }\n\n  function handleNavigationClick(direction: string) {\n    trackAnalyticsEvent({\n      eventKey: `release_detail.pagination`,\n      eventName: `Release Detail: Pagination`,\n      organization_id: parseInt(organization.id, 10),\n      direction,\n    });\n  }\n\n  const menuItems = [\n    isReleaseArchived(release)\n      ? {\n          key: 'restore',\n          label: t('Restore'),\n          onAction: () =>\n            openConfirmModal({\n              onConfirm: handleRestore,\n              header: getModalHeader(\n                tct('Restore Release [release]', {\n                  release: formatVersion(release.version),\n                })\n              ),\n              message: getModalMessage(\n                tn(\n                  'You are restoring this release for the following project:',\n                  'By restoring this release, you are also restoring it for the following projects:',\n                  releaseMeta.projects.length\n                )\n              ),\n              cancelText: t('Nevermind'),\n              confirmText: t('Restore'),\n            }),\n        }\n      : {\n          key: 'archive',\n          label: t('Archive'),\n          onAction: () =>\n            openConfirmModal({\n              onConfirm: handleArchive,\n              header: getModalHeader(\n                tct('Archive Release [release]', {\n                  release: formatVersion(release.version),\n                })\n              ),\n              message: getModalMessage(\n                tn(\n                  'You are archiving this release for the following project:',\n                  'By archiving this release, you are also archiving it for the following projects:',\n                  releaseMeta.projects.length\n                )\n              ),\n              cancelText: t('Nevermind'),\n              confirmText: t('Archive'),\n            }),\n        },\n  ];\n\n  const {\n    nextReleaseVersion,\n    prevReleaseVersion,\n    firstReleaseVersion,\n    lastReleaseVersion,\n  } = release.currentProjectMeta;\n\n  return (\n    <ButtonBar gap={1}>\n      <NavigationButtonGroup\n        hasPrevious={!!prevReleaseVersion}\n        hasNext={!!nextReleaseVersion}\n        links={[\n          replaceReleaseUrl(firstReleaseVersion),\n          replaceReleaseUrl(prevReleaseVersion),\n          replaceReleaseUrl(nextReleaseVersion),\n          replaceReleaseUrl(lastReleaseVersion),\n        ]}\n        onOldestClick={() => handleNavigationClick('oldest')}\n        onOlderClick={() => handleNavigationClick('older')}\n        onNewerClick={() => handleNavigationClick('newer')}\n        onNewestClick={() => handleNavigationClick('newest')}\n      />\n      <DropdownMenuControlV2\n        items={menuItems}\n        triggerProps={{\n          showChevron: false,\n          icon: <IconEllipsis />,\n          'aria-label': t('Actions'),\n        }}\n        placement=\"bottom right\"\n      />\n    </ButtonBar>\n  );\n}\n\nconst ProjectsWrapper = styled('div')`\n  margin: ${space(2)} 0 ${space(2)} ${space(2)};\n  display: grid;\n  gap: ${space(0.5)};\n  img {\n    border: none !important;\n    box-shadow: none !important;\n  }\n`;\n\nexport default ReleaseActions;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\nimport pick from 'lodash/pick';\n\nimport Badge from 'sentry/components/badge';\nimport Breadcrumbs from 'sentry/components/breadcrumbs';\nimport Clipboard from 'sentry/components/clipboard';\nimport IdBadge from 'sentry/components/idBadge';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport ListLink from 'sentry/components/links/listLink';\nimport NavTabs from 'sentry/components/navTabs';\nimport Tooltip from 'sentry/components/tooltip';\nimport Version from 'sentry/components/version';\nimport {URL_PARAM} from 'sentry/constants/pageFilters';\nimport {IconCopy, IconOpen} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, Release, ReleaseMeta, ReleaseProject} from 'sentry/types';\nimport {formatAbbreviatedNumber} from 'sentry/utils/formatters';\n\nimport ReleaseActions from './releaseActions';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  project: Required<ReleaseProject>;\n  refetchData: () => void;\n  release: Release;\n  releaseMeta: ReleaseMeta;\n};\n\nconst ReleaseHeader = ({\n  location,\n  organization,\n  release,\n  project,\n  releaseMeta,\n  refetchData,\n}: Props) => {\n  const {version, url} = release;\n  const {commitCount, commitFilesChanged} = releaseMeta;\n\n  const releasePath = `/organizations/${organization.slug}/releases/${encodeURIComponent(\n    version\n  )}/`;\n\n  const tabs = [\n    {title: t('Overview'), to: ''},\n    {\n      title: (\n        <Fragment>\n          {t('Commits')} <NavTabsBadge text={formatAbbreviatedNumber(commitCount)} />\n        </Fragment>\n      ),\n      to: `commits/`,\n    },\n    {\n      title: (\n        <Fragment>\n          {t('Files Changed')}\n          <NavTabsBadge text={formatAbbreviatedNumber(commitFilesChanged)} />\n        </Fragment>\n      ),\n      to: `files-changed/`,\n    },\n  ];\n\n  const getTabUrl = (path: string) => ({\n    pathname: releasePath + path,\n    query: pick(location.query, Object.values(URL_PARAM)),\n  });\n\n  const getActiveTabTo = () => {\n    // We are not doing strict version check because there would be a tiny page shift when switching between releases with paginator\n    const activeTab = tabs\n      .filter(tab => tab.to.length) // remove home 'Overview' from consideration\n      .find(tab => location.pathname.endsWith(tab.to));\n    if (activeTab) {\n      return activeTab.to;\n    }\n\n    return tabs[0].to; // default to 'Overview'\n  };\n\n  return (\n    <Layout.Header>\n      <Layout.HeaderContent>\n        <Breadcrumbs\n          crumbs={[\n            {\n              to: `/organizations/${organization.slug}/releases/`,\n              label: t('Releases'),\n              preservePageFilters: true,\n            },\n            {label: t('Release Details')},\n          ]}\n        />\n        <Layout.Title>\n          <ReleaseName>\n            <IdBadge project={project} avatarSize={28} hideName />\n            <StyledVersion version={version} anchor={false} truncate />\n            <IconWrapper>\n              <Tooltip title={version} containerDisplayMode=\"flex\">\n                <Clipboard value={version}>\n                  <IconCopy />\n                </Clipboard>\n              </Tooltip>\n            </IconWrapper>\n            {!!url && (\n              <IconWrapper>\n                <Tooltip title={url}>\n                  <ExternalLink href={url}>\n                    <IconOpen />\n                  </ExternalLink>\n                </Tooltip>\n              </IconWrapper>\n            )}\n          </ReleaseName>\n        </Layout.Title>\n      </Layout.HeaderContent>\n\n      <Layout.HeaderActions>\n        <ReleaseActions\n          organization={organization}\n          projectSlug={project.slug}\n          release={release}\n          releaseMeta={releaseMeta}\n          refetchData={refetchData}\n          location={location}\n        />\n      </Layout.HeaderActions>\n\n      <Fragment>\n        <StyledNavTabs>\n          {tabs.map(tab => (\n            <ListLink\n              key={tab.to}\n              to={getTabUrl(tab.to)}\n              isActive={() => getActiveTabTo() === tab.to}\n            >\n              {tab.title}\n            </ListLink>\n          ))}\n        </StyledNavTabs>\n      </Fragment>\n    </Layout.Header>\n  );\n};\n\nconst ReleaseName = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledVersion = styled(Version)`\n  margin-left: ${space(1)};\n`;\n\nconst IconWrapper = styled('span')`\n  transition: color 0.3s ease-in-out;\n  margin-left: ${space(1)};\n\n  &,\n  a {\n    color: ${p => p.theme.gray300};\n    display: flex;\n    &:hover {\n      cursor: pointer;\n      color: ${p => p.theme.textColor};\n    }\n  }\n`;\n\nconst StyledNavTabs = styled(NavTabs)`\n  margin-bottom: 0;\n  /* Makes sure the tabs are pushed into another row */\n  width: 100%;\n`;\n\nconst NavTabsBadge = styled(Badge)`\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    display: none;\n  }\n`;\n\nexport default ReleaseHeader;\n","import {createContext} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\nimport isEqual from 'lodash/isEqual';\nimport pick from 'lodash/pick';\n\nimport Alert from 'sentry/components/alert';\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport NoProjectMessage from 'sentry/components/noProjectMessage';\nimport PageFiltersContainer from 'sentry/components/organizations/pageFilters/container';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport PickProjectToContinue from 'sentry/components/pickProjectToContinue';\nimport {PAGE_URL_PARAM, URL_PARAM} from 'sentry/constants/pageFilters';\nimport {IconInfo} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {PageContent} from 'sentry/styles/organization';\nimport space from 'sentry/styles/space';\nimport {\n  Deploy,\n  Organization,\n  PageFilters,\n  ReleaseMeta,\n  ReleaseProject,\n  ReleaseWithHealth,\n  SessionApiResponse,\n  SessionFieldWithOperation,\n} from 'sentry/types';\nimport {formatVersion} from 'sentry/utils/formatters';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport {getCount} from 'sentry/utils/sessions';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withPageFilters from 'sentry/utils/withPageFilters';\nimport AsyncView from 'sentry/views/asyncView';\n\nimport {getReleaseBounds, ReleaseBounds} from '../utils';\n\nimport ReleaseHeader from './header/releaseHeader';\n\ntype ReleaseContextType = {\n  deploys: Deploy[];\n  hasHealthData: boolean;\n  project: Required<ReleaseProject>;\n  refetchData: () => void;\n  release: ReleaseWithHealth;\n  releaseBounds: ReleaseBounds;\n  releaseMeta: ReleaseMeta;\n};\nconst ReleaseContext = createContext<ReleaseContextType>({} as ReleaseContextType);\n\ntype RouteParams = {\n  orgId: string;\n  release: string;\n};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n  releaseMeta: ReleaseMeta;\n  selection: PageFilters;\n};\n\ntype State = {\n  deploys: Deploy[];\n  release: ReleaseWithHealth;\n  sessions: SessionApiResponse | null;\n} & AsyncView['state'];\n\nclass ReleasesDetail extends AsyncView<Props, State> {\n  shouldReload = true;\n\n  getTitle() {\n    const {params, organization, selection} = this.props;\n    const {release} = this.state;\n\n    // The release details page will always have only one project selected\n    const project = release?.projects.find(p => p.id === selection.projects[0]);\n\n    return routeTitleGen(\n      t('Release %s', formatVersion(params.release)),\n      organization.slug,\n      false,\n      project?.slug\n    );\n  }\n\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      deploys: [],\n      sessions: null,\n    };\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const {organization, params, location} = this.props;\n\n    if (\n      prevProps.params.release !== params.release ||\n      prevProps.organization.slug !== organization.slug ||\n      !isEqual(\n        this.pickLocationQuery(prevProps.location),\n        this.pickLocationQuery(location)\n      )\n    ) {\n      super.componentDidUpdate(prevProps, prevState);\n    }\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization, location, params, releaseMeta} = this.props;\n\n    const basePath = `/organizations/${organization.slug}/releases/${encodeURIComponent(\n      params.release\n    )}/`;\n\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      [\n        'release',\n        basePath,\n        {\n          query: {\n            adoptionStages: 1,\n            ...normalizeDateTimeParams(this.pickLocationQuery(location)),\n          },\n        },\n      ],\n    ];\n\n    if (releaseMeta.deployCount > 0) {\n      endpoints.push(['deploys', `${basePath}deploys/`]);\n    }\n\n    // Used to figure out if the release has any health data\n    endpoints.push([\n      'sessions',\n      `/organizations/${organization.slug}/sessions/`,\n      {\n        query: {\n          project: location.query.project,\n          environment: location.query.environment ?? [],\n          query: `release:\"${params.release}\"`,\n          field: 'sum(session)',\n          statsPeriod: '90d',\n          interval: '1d',\n        },\n      },\n    ]);\n\n    return endpoints;\n  }\n\n  pickLocationQuery(location: Location) {\n    return pick(location.query, [\n      ...Object.values(URL_PARAM),\n      ...Object.values(PAGE_URL_PARAM),\n    ]);\n  }\n\n  renderError(...args) {\n    const possiblyWrongProject = Object.values(this.state.errors).find(\n      e => e?.status === 404 || e?.status === 403\n    );\n\n    if (possiblyWrongProject) {\n      return (\n        <PageContent>\n          <Alert type=\"error\" showIcon>\n            {t('This release may not be in your selected project.')}\n          </Alert>\n        </PageContent>\n      );\n    }\n\n    return super.renderError(...args);\n  }\n\n  renderLoading() {\n    return (\n      <PageContent>\n        <LoadingIndicator />\n      </PageContent>\n    );\n  }\n\n  renderBody() {\n    const {organization, location, selection, releaseMeta} = this.props;\n    const {release, deploys, sessions, reloading} = this.state;\n    const project = release?.projects.find(p => p.id === selection.projects[0]);\n    const releaseBounds = getReleaseBounds(release);\n\n    if (!project || !release) {\n      if (reloading) {\n        return <LoadingIndicator />;\n      }\n\n      return null;\n    }\n\n    return (\n      <NoProjectMessage organization={organization}>\n        <StyledPageContent>\n          <ReleaseHeader\n            location={location}\n            organization={organization}\n            release={release}\n            project={project}\n            releaseMeta={releaseMeta}\n            refetchData={this.fetchData}\n          />\n          <ReleaseContext.Provider\n            value={{\n              release,\n              project,\n              deploys,\n              releaseMeta,\n              refetchData: this.fetchData,\n              hasHealthData:\n                getCount(sessions?.groups, SessionFieldWithOperation.SESSIONS) > 0,\n              releaseBounds,\n            }}\n          >\n            {this.props.children}\n          </ReleaseContext.Provider>\n        </StyledPageContent>\n      </NoProjectMessage>\n    );\n  }\n}\n\ntype ReleasesDetailContainerProps = Omit<Props, 'releaseMeta'>;\ntype ReleasesDetailContainerState = {\n  releaseMeta: ReleaseMeta | null;\n} & AsyncComponent['state'];\nclass ReleasesDetailContainer extends AsyncComponent<\n  ReleasesDetailContainerProps,\n  ReleasesDetailContainerState\n> {\n  shouldReload = true;\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization, params} = this.props;\n    // fetch projects this release belongs to\n    return [\n      [\n        'releaseMeta',\n        `/organizations/${organization.slug}/releases/${encodeURIComponent(\n          params.release\n        )}/meta/`,\n      ],\n    ];\n  }\n\n  componentDidMount() {\n    this.removeGlobalDateTimeFromUrl();\n  }\n\n  componentDidUpdate(\n    prevProps: ReleasesDetailContainerProps,\n    prevState: ReleasesDetailContainerState\n  ) {\n    const {organization, params} = this.props;\n\n    this.removeGlobalDateTimeFromUrl();\n    if (\n      prevProps.params.release !== params.release ||\n      prevProps.organization.slug !== organization.slug\n    ) {\n      super.componentDidUpdate(prevProps, prevState);\n    }\n  }\n\n  removeGlobalDateTimeFromUrl() {\n    const {router, location} = this.props;\n    const {start, end, statsPeriod, utc, ...restQuery} = location.query;\n\n    if (start || end || statsPeriod || utc) {\n      router.replace({\n        ...location,\n        query: restQuery,\n      });\n    }\n  }\n\n  renderError(...args) {\n    const has404Errors = Object.values(this.state.errors).find(e => e?.status === 404);\n\n    if (has404Errors) {\n      // This catches a 404 coming from the release endpoint and displays a custom error message.\n      return (\n        <PageContent>\n          <Alert type=\"error\" showIcon>\n            {t('This release could not be found.')}\n          </Alert>\n        </PageContent>\n      );\n    }\n\n    return super.renderError(...args);\n  }\n\n  isProjectMissingInUrl() {\n    const projectId = this.props.location.query.project;\n\n    return !projectId || typeof projectId !== 'string';\n  }\n\n  renderLoading() {\n    return (\n      <PageContent>\n        <LoadingIndicator />\n      </PageContent>\n    );\n  }\n\n  renderProjectsFooterMessage() {\n    return (\n      <ProjectsFooterMessage>\n        <IconInfo size=\"xs\" /> {t('Only projects with this release are visible.')}\n      </ProjectsFooterMessage>\n    );\n  }\n\n  renderBody() {\n    const {organization, params, router} = this.props;\n    const {releaseMeta} = this.state;\n\n    if (!releaseMeta) {\n      return null;\n    }\n\n    const {projects} = releaseMeta;\n\n    if (this.isProjectMissingInUrl()) {\n      return (\n        <PickProjectToContinue\n          projects={projects.map(({id, slug}) => ({\n            id: String(id),\n            slug,\n          }))}\n          router={router}\n          nextPath={{\n            pathname: `/organizations/${organization.slug}/releases/${encodeURIComponent(\n              params.release\n            )}/`,\n          }}\n          noProjectRedirectPath={`/organizations/${organization.slug}/releases/`}\n        />\n      );\n    }\n\n    return (\n      <PageFiltersContainer\n        lockedMessageSubject={t('release')}\n        shouldForceProject={projects.length === 1}\n        forceProject={\n          projects.length === 1 ? {...projects[0], id: String(projects[0].id)} : undefined\n        }\n        specificProjectSlugs={projects.map(p => p.slug)}\n        disableMultipleProjectSelection\n        showProjectSettingsLink\n        projectsFooterMessage={this.renderProjectsFooterMessage()}\n        showDateSelector={false}\n        hideGlobalHeader\n      >\n        <ReleasesDetail {...this.props} releaseMeta={releaseMeta} />\n      </PageFiltersContainer>\n    );\n  }\n}\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n\nconst ProjectsFooterMessage = styled('div')`\n  display: grid;\n  align-items: center;\n  grid-template-columns: min-content 1fr;\n  gap: ${space(1)};\n`;\n\nexport {ReleaseContext, ReleasesDetailContainer};\nexport default withPageFilters(withOrganization(ReleasesDetailContainer));\n","import {Location} from 'history';\nimport pick from 'lodash/pick';\nimport round from 'lodash/round';\nimport moment from 'moment';\n\nimport {DateTimeObject} from 'sentry/components/charts/utils';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {PAGE_URL_PARAM, URL_PARAM} from 'sentry/constants/pageFilters';\nimport {desktop, mobile, PlatformKey} from 'sentry/data/platformCategories';\nimport {t, tct} from 'sentry/locale';\nimport {Release, ReleaseStatus} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport {Theme} from 'sentry/utils/theme';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {IssueSortOptions} from 'sentry/views/issueList/utils';\n\nexport const CRASH_FREE_DECIMAL_THRESHOLD = 95;\n\nexport const roundDuration = (seconds: number) => {\n  return round(seconds, seconds > 60 ? 0 : 3);\n};\n\nexport const getCrashFreePercent = (\n  percent: number,\n  decimalThreshold = CRASH_FREE_DECIMAL_THRESHOLD,\n  decimalPlaces = 3\n): number => {\n  const roundedValue = round(percent, percent > decimalThreshold ? decimalPlaces : 0);\n  if (roundedValue === 100 && percent < 100) {\n    return (\n      Math.floor(percent * Math.pow(10, decimalPlaces)) / Math.pow(10, decimalPlaces)\n    );\n  }\n\n  return roundedValue;\n};\n\nexport const displayCrashFreePercent = (\n  percent: number,\n  decimalThreshold = CRASH_FREE_DECIMAL_THRESHOLD,\n  decimalPlaces = 3\n): string => {\n  if (isNaN(percent)) {\n    return '\\u2015';\n  }\n\n  if (percent < 1 && percent > 0) {\n    return `<1\\u0025`;\n  }\n\n  const rounded = getCrashFreePercent(\n    percent,\n    decimalThreshold,\n    decimalPlaces\n  ).toLocaleString();\n\n  return `${rounded}\\u0025`;\n};\n\nexport const getSessionStatusPercent = (percent: number, absolute = true) => {\n  return round(absolute ? Math.abs(percent) : percent, 3);\n};\n\nexport const displaySessionStatusPercent = (percent: number, absolute = true) => {\n  return `${getSessionStatusPercent(percent, absolute).toLocaleString()}\\u0025`;\n};\n\nexport const getReleaseNewIssuesUrl = (\n  orgSlug: string,\n  projectId: string | number | null,\n  version: string\n) => {\n  return {\n    pathname: `/organizations/${orgSlug}/issues/`,\n    query: {\n      project: projectId,\n      // we are resetting time selector because releases' new issues count doesn't take time selector into account\n      statsPeriod: undefined,\n      start: undefined,\n      end: undefined,\n      query: new MutableSearch([`firstRelease:${version}`]).formatString(),\n      sort: IssueSortOptions.FREQ,\n    },\n  };\n};\n\nexport const getReleaseUnhandledIssuesUrl = (\n  orgSlug: string,\n  projectId: string | number | null,\n  version: string,\n  dateTime: DateTimeObject = {}\n) => {\n  return {\n    pathname: `/organizations/${orgSlug}/issues/`,\n    query: {\n      ...dateTime,\n      project: projectId,\n      query: new MutableSearch([\n        `release:${version}`,\n        'error.unhandled:true',\n      ]).formatString(),\n      sort: IssueSortOptions.FREQ,\n    },\n  };\n};\n\nexport const getReleaseHandledIssuesUrl = (\n  orgSlug: string,\n  projectId: string | number | null,\n  version: string,\n  dateTime: DateTimeObject = {}\n) => {\n  return {\n    pathname: `/organizations/${orgSlug}/issues/`,\n    query: {\n      ...dateTime,\n      project: projectId,\n      query: new MutableSearch([\n        `release:${version}`,\n        'error.handled:true',\n      ]).formatString(),\n      sort: IssueSortOptions.FREQ,\n    },\n  };\n};\n\nexport const isReleaseArchived = (release: Release) =>\n  release.status === ReleaseStatus.Archived;\n\nexport type ReleaseBounds = {\n  type: 'normal' | 'clamped' | 'ancient';\n  releaseEnd?: string | null;\n  releaseStart?: string | null;\n};\n\nexport function getReleaseBounds(release?: Release): ReleaseBounds {\n  const retentionBound = moment().subtract(90, 'days');\n  const {lastEvent, currentProjectMeta, dateCreated} = release || {};\n  const {sessionsUpperBound} = currentProjectMeta || {};\n\n  let type: ReleaseBounds['type'] = 'normal';\n  let releaseStart = moment(dateCreated).startOf('minute');\n  let releaseEnd = moment(\n    (moment(sessionsUpperBound).isAfter(lastEvent) ? sessionsUpperBound : lastEvent) ??\n      undefined\n  ).endOf('minute');\n\n  if (moment(releaseStart).isSame(releaseEnd, 'minute')) {\n    releaseEnd = moment(releaseEnd).add(1, 'minutes');\n  }\n\n  if (releaseStart.isBefore(retentionBound)) {\n    releaseStart = retentionBound;\n    type = 'clamped';\n\n    if (\n      releaseEnd.isBefore(releaseStart) ||\n      (!defined(sessionsUpperBound) && !defined(lastEvent))\n    ) {\n      releaseEnd = moment();\n      type = 'ancient';\n    }\n  }\n\n  return {\n    type,\n    releaseStart: releaseStart.utc().format(),\n    releaseEnd: releaseEnd.utc().format(),\n  };\n}\n\ntype GetReleaseParams = {\n  location: Location;\n  releaseBounds: ReleaseBounds;\n};\n\nexport function getReleaseParams({location, releaseBounds}: GetReleaseParams) {\n  const params = normalizeDateTimeParams(\n    pick(location.query, [\n      ...Object.values(URL_PARAM),\n      ...Object.values(PAGE_URL_PARAM),\n      'cursor',\n    ]),\n    {\n      allowAbsolutePageDatetime: true,\n      allowEmptyPeriod: true,\n    }\n  );\n  if (\n    !Object.keys(params).some(param =>\n      [URL_PARAM.START, URL_PARAM.END, URL_PARAM.UTC, URL_PARAM.PERIOD].includes(param)\n    )\n  ) {\n    params[URL_PARAM.START] = releaseBounds.releaseStart;\n    params[URL_PARAM.END] = releaseBounds.releaseEnd;\n  }\n\n  return params;\n}\n\nconst adoptionStagesLink = (\n  <ExternalLink href=\"https://docs.sentry.io/product/releases/health/#adoption-stages\" />\n);\n\nexport const ADOPTION_STAGE_LABELS: Record<\n  string,\n  {name: string; tooltipTitle: React.ReactNode; type: keyof Theme['tag']}\n> = {\n  low_adoption: {\n    name: t('Low Adoption'),\n    tooltipTitle: tct(\n      'This release has a low percentage of sessions compared to other releases in this project. [link:Learn more]',\n      {link: adoptionStagesLink}\n    ),\n    type: 'warning',\n  },\n  adopted: {\n    name: t('Adopted'),\n    tooltipTitle: tct(\n      'This release has a high percentage of sessions compared to other releases in this project. [link:Learn more]',\n      {link: adoptionStagesLink}\n    ),\n    type: 'success',\n  },\n  replaced: {\n    name: t('Replaced'),\n    tooltipTitle: tct(\n      'This release was previously Adopted, but now has a lower level of sessions compared to other releases in this project. [link:Learn more]',\n      {link: adoptionStagesLink}\n    ),\n    type: 'default',\n  },\n};\n\nexport const isMobileRelease = (releaseProjectPlatform: PlatformKey) =>\n  ([...mobile, ...desktop] as string[]).includes(releaseProjectPlatform);\n","import {PlatformKey} from 'sentry/data/platformCategories';\nimport {t} from 'sentry/locale';\n\nexport enum SessionTerm {\n  CRASHES = 'crashes',\n  CRASHED = 'crashed',\n  ABNORMAL = 'abnormal',\n  CRASH_FREE = 'crashFree',\n  CRASH_FREE_USERS = 'crash-free-users',\n  CRASH_FREE_SESSIONS = 'crash-free-sessions',\n  HEALTHY = 'healthy',\n  ERRORED = 'errored',\n  UNHANDLED = 'unhandled',\n  STABILITY = 'stability',\n  ADOPTION = 'adoption',\n}\n\nexport const sessionTerm = {\n  [SessionTerm.CRASHES]: t('Crashes'),\n  [SessionTerm.CRASHED]: t('Crashed'),\n  [SessionTerm.ABNORMAL]: t('Abnormal'),\n  [SessionTerm.CRASH_FREE_USERS]: t('Crash Free Users'),\n  [SessionTerm.CRASH_FREE_SESSIONS]: t('Crash Free Sessions'),\n  [SessionTerm.HEALTHY]: t('Healthy'),\n  [SessionTerm.ERRORED]: t('Errored'),\n  [SessionTerm.UNHANDLED]: t('Unhandled'),\n  [SessionTerm.ADOPTION]: t('Adoption'),\n  duration: t('Session Duration'),\n  otherCrashed: t('Other Crashed'),\n  otherAbnormal: t('Other Abnormal'),\n  otherErrored: t('Other Errored'),\n  otherHealthy: t('Other Healthy'),\n  otherCrashFreeUsers: t('Other Crash Free Users'),\n  otherCrashFreeSessions: t('Other Crash Free Sessions'),\n  otherReleases: t('Other Releases'),\n};\n\n// This should never be used directly (except in tests)\nexport const commonTermsDescription = {\n  [SessionTerm.CRASHES]: t('Number of sessions with a crashed state'),\n  [SessionTerm.CRASH_FREE]: t(\n    'Percentage of sessions/users who did not experience a crash.'\n  ),\n  [SessionTerm.CRASH_FREE_USERS]: t(\n    'Percentage of unique users with non-crashed sessions'\n  ),\n  [SessionTerm.CRASH_FREE_SESSIONS]: t('Percentage of non-crashed sessions'),\n  [SessionTerm.STABILITY]: t('The percentage of crash free sessions.'),\n  [SessionTerm.ADOPTION]: t(\n    'Adoption compares the sessions or users of a release with the total sessions or users for this project in the last 24 hours.'\n  ),\n};\n\n// This should never be used directly (except in tests)\nexport const mobileTermsDescription = {\n  [SessionTerm.CRASHED]: t(\n    'The process was terminated due to an unhandled exception or a request to the server that ended with an error'\n  ),\n  [SessionTerm.CRASH_FREE_SESSIONS]: t('Percentage of non-crashed sessions'),\n  [SessionTerm.ABNORMAL]: t(\n    'An unknown session exit. Like due to loss of power or killed by the operating system'\n  ),\n  [SessionTerm.HEALTHY]: t('A session without errors'),\n  [SessionTerm.ERRORED]: t('A session with errors'),\n  [SessionTerm.UNHANDLED]: t('Not handled by user code'),\n};\n\n// This should never be used directly (except in tests)\nexport const desktopTermDescriptions = {\n  crashed: t('The application crashed with a hard crash (eg. segfault)'),\n  [SessionTerm.ABNORMAL]: t(\n    'The application did not properly end the session, for example, due to force-quit'\n  ),\n  [SessionTerm.HEALTHY]: t(\n    'The application exited normally and did not observe any errors'\n  ),\n  [SessionTerm.ERRORED]: t(\n    'The application exited normally but observed error events while running'\n  ),\n  [SessionTerm.UNHANDLED]: t('The application crashed with a hard crash'),\n};\n\nfunction getTermDescriptions(platform: PlatformKey | null) {\n  const technology =\n    platform === 'react-native' ||\n    platform === 'java-spring' ||\n    platform === 'apple-ios' ||\n    platform === 'dotnet-aspnetcore'\n      ? platform\n      : platform?.split('-')[0];\n\n  switch (technology) {\n    case 'dotnet':\n    case 'java':\n      return {\n        ...commonTermsDescription,\n        ...mobileTermsDescription,\n      };\n    case 'java-spring':\n    case 'dotnet-aspnetcore':\n      return {\n        ...commonTermsDescription,\n        ...mobileTermsDescription,\n        [SessionTerm.CRASHES]: t(\n          'A request that resulted in an unhandled exception and hence a Server Error response'\n        ),\n      };\n    case 'android':\n    case 'cordova':\n    case 'react-native':\n    case 'flutter':\n      return {\n        ...commonTermsDescription,\n        ...mobileTermsDescription,\n        [SessionTerm.CRASHED]: t(\n          'An unhandled exception that resulted in the application crashing'\n        ),\n      };\n\n    case 'apple': {\n      return {\n        ...commonTermsDescription,\n        ...mobileTermsDescription,\n        [SessionTerm.CRASHED]: t('An error that resulted in the application crashing'),\n      };\n    }\n    case 'node':\n    case 'javascript':\n      return {\n        ...commonTermsDescription,\n        [SessionTerm.CRASHED]: t(\n          'During the session an unhandled global error/promise rejection occurred.'\n        ),\n        [SessionTerm.ABNORMAL]: t('Non applicable for Javascript.'),\n        [SessionTerm.HEALTHY]: t('No errors were captured during session life-time.'),\n        [SessionTerm.ERRORED]: t(\n          'During the session at least one handled error occurred.'\n        ),\n        [SessionTerm.UNHANDLED]:\n          \"An error was captured by the global 'onerror' or 'onunhandledrejection' handler.\",\n      };\n    case 'apple-ios':\n    case 'minidump':\n    case 'native':\n      return {\n        ...commonTermsDescription,\n        ...desktopTermDescriptions,\n      };\n    case 'rust':\n      return {\n        ...commonTermsDescription,\n        ...desktopTermDescriptions,\n        [SessionTerm.CRASHED]: t('The application had an unrecoverable error (a panic)'),\n      };\n    default:\n      return {\n        ...commonTermsDescription,\n        [SessionTerm.CRASHED]: t('Number of users who experienced an unhandled error'),\n        [SessionTerm.ABNORMAL]: t('An unknown session exit'),\n        [SessionTerm.HEALTHY]: mobileTermsDescription.healthy,\n        [SessionTerm.ERRORED]: mobileTermsDescription.errored,\n        [SessionTerm.UNHANDLED]: mobileTermsDescription.unhandled,\n      };\n  }\n}\n\nexport function getSessionTermDescription(\n  term: SessionTerm,\n  platform: PlatformKey | null\n) {\n  return getTermDescriptions(platform)[term];\n}\n"],"names":["getProjectRelease","api","params","orgSlug","projectSlug","releaseVersion","path","encodeURIComponent","ReleaseStore","getReleaseStoreKey","ReleaseActions","requestPromise","method","then","res","catch","err","status","Sentry","scope","setLevel","setFingerprint","getReleaseDeploys","archiveRelease","addLoadingMessage","t","data","ReleaseStatus","projects","version","release","addSuccessMessage","error","addErrorMessage","responseJSON","detail","restoreRelease","createActions","ListLink","Component","_classNames","className","activeClassName","this","props","isActive","classNames","to","query","index","router","queryData","qs","undefined","target","pathname","render","children","disabled","carriedProps","omit","StyledLi","getClassName","onlyActiveOnIndex","withRouter","shouldForwardProp","prop","p","theme","NavigationButtonGroup","links","hasNext","hasPrevious","size","onOldestClick","onOlderClick","onNewerClick","onNewestClick","merged","icon","onClick","storeConfig","state","Map","releaseLoading","releaseError","deploys","deploysLoading","deploysError","listenables","unsubscribeListeners","init","push","listenTo","OrganizationActions","updateOrganization","reset","trigger","org","slug","loadRelease","releaseKey","loadReleaseError","loadReleaseSuccess","loadDeploys","loadDeploysError","loadDeploysSuccess","get","createStore","makeSafeRefluxStore","routeName","withSentry","tmplBase","tmpl","MINUTES_THRESHOLD_TO_DISPLAY_SECONDS","getCount","groups","field","reduce","acc","group","totals","getCountAtIndex","series","getCrashFreeRate","crashedRate","getSessionStatusRate","SessionStatus","defined","getCrashFreePercent","getSeriesAverage","totalCount","dataPoints","filter","length","getSeriesSum","intervals","dataPointsSums","Array","fill","groupSeries","map","forEach","dataPoint","idx","crashedCount","by","percent","getCrashFreeRateSeries","compact","interval","i","intervalTotalSessions","intervalCrashedSessions","find","crashedSessionsPercent","name","value","getSessionStatusRateSeries","intervalStatusSessions","statusSessionsPercent","getSessionStatusPercent","getSessionP50Series","valueFormatter","meanValue","mean","v","getAdoptionSeries","releaseGroups","allGroups","intervalReleaseSessions","intervalAdoption","Math","round","getCountSeries","initSessionsChart","colors","charts","getColorPalette","seriesName","sessionTerm","color","green300","areaStyle","opacity","lineStyle","width","red300","getSessionsInterval","datetimeObj","highFidelity","diffInMinutes","getDiffInMinutes","moment","start","isSameOrBefore","subtract","SIXTY_DAYS","THIRTY_DAYS","SIX_HOURS","filterSessionsInTimeWindow","sessions","end","filteredIndexes","isBetween","Object","keys","includes","startsWith","AsyncView","AsyncComponent","getTitle","title","renderComponent","PickProjectToContinue","noProjectRedirectPath","nextPath","nextPathQuery","navigating","newPathQuery","entries","key","_value","join","replace","id","openModal","modalProps","needOrg","needProject","onFinish","projectSlugs","onClose","ContextPickerBackground","location","organization","releaseMeta","refetchData","async","handleArchive","Client","browserHistory","handleRestore","getProjectList","visibleProjects","slice","numberOfCollapsedProjects","Fragment","project","avatarSize","tn","getModalHeader","getModalMessage","message","ProjectsWrapper","replaceReleaseUrl","toRelease","activeRepo","handleNavigationClick","direction","trackAnalyticsEvent","eventKey","eventName","organization_id","parseInt","menuItems","isReleaseArchived","label","onAction","openConfirmModal","onConfirm","header","tct","formatVersion","cancelText","confirmText","nextReleaseVersion","prevReleaseVersion","firstReleaseVersion","lastReleaseVersion","currentProjectMeta","gap","items","triggerProps","showChevron","placement","space","ReleaseHeader","url","commitCount","commitFilesChanged","releasePath","tabs","NavTabsBadge","text","formatAbbreviatedNumber","crumbs","preservePageFilters","ReleaseName","hideName","StyledVersion","anchor","truncate","IconWrapper","containerDisplayMode","href","StyledNavTabs","tab","pick","values","URL_PARAM","activeTab","endsWith","getActiveTabTo","Version","gray300","textColor","NavTabs","Badge","breakpoints","small","ReleaseContext","createContext","ReleasesDetail","selection","routeTitleGen","getDefaultState","super","componentDidUpdate","prevProps","prevState","isEqual","pickLocationQuery","getEndpoints","basePath","endpoints","adoptionStages","normalizeDateTimeParams","deployCount","environment","statsPeriod","PAGE_URL_PARAM","renderError","errors","e","type","showIcon","renderLoading","renderBody","reloading","releaseBounds","getReleaseBounds","StyledPageContent","fetchData","Provider","hasHealthData","SessionFieldWithOperation","ReleasesDetailContainer","componentDidMount","removeGlobalDateTimeFromUrl","utc","restQuery","isProjectMissingInUrl","projectId","renderProjectsFooterMessage","ProjectsFooterMessage","String","lockedMessageSubject","shouldForceProject","forceProject","specificProjectSlugs","disableMultipleProjectSelection","showProjectSettingsLink","projectsFooterMessage","showDateSelector","hideGlobalHeader","PageContent","withPageFilters","withOrganization","CRASH_FREE_DECIMAL_THRESHOLD","roundDuration","seconds","decimalThreshold","decimalPlaces","roundedValue","floor","pow","displayCrashFreePercent","isNaN","rounded","toLocaleString","absolute","abs","displaySessionStatusPercent","getReleaseNewIssuesUrl","MutableSearch","formatString","sort","IssueSortOptions","getReleaseUnhandledIssuesUrl","dateTime","getReleaseHandledIssuesUrl","retentionBound","lastEvent","dateCreated","sessionsUpperBound","releaseStart","startOf","releaseEnd","isAfter","endOf","isSame","add","isBefore","format","getReleaseParams","allowAbsolutePageDatetime","allowEmptyPeriod","some","param","adoptionStagesLink","ADOPTION_STAGE_LABELS","low_adoption","tooltipTitle","link","adopted","replaced","isMobileRelease","releaseProjectPlatform","mobile","desktop","SessionTerm","CRASHES","CRASHED","ABNORMAL","CRASH_FREE_USERS","CRASH_FREE_SESSIONS","HEALTHY","ERRORED","UNHANDLED","ADOPTION","duration","otherCrashed","otherAbnormal","otherErrored","otherHealthy","otherCrashFreeUsers","otherCrashFreeSessions","otherReleases","commonTermsDescription","CRASH_FREE","STABILITY","mobileTermsDescription","desktopTermDescriptions","crashed","getSessionTermDescription","term","platform","split","healthy","errored","unhandled","getTermDescriptions"],"sourceRoot":""}